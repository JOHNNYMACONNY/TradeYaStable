{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","createRoot","name","version","PENDING_TIMEOUT_MS","PACKAGE_VERSION","INTERNAL_AUTH_VERSION","INSTALLATIONS_API_URL","TOKEN_EXPIRATION_BUFFER","SERVICE","SERVICE_NAME","ERROR_DESCRIPTION_MAP","ERROR_FACTORY","ErrorFactory","isServerError","error","FirebaseError","getInstallationsEndpoint","projectId","extractAuthTokenInfoFromResponse","response","getExpiresInFromResponseExpiresIn","getErrorFromResponse","requestName","errorData","getHeaders","apiKey","getHeadersWithAuth","appConfig","refreshToken","headers","getAuthorizationHeader","retryIfServerError","fn","result","responseExpiresIn","createInstallationRequest","heartbeatServiceProvider","fid","endpoint","heartbeatService","heartbeatsHeader","body","request","responseValue","sleep","ms","resolve","bufferToBase64UrlSafe","array","VALID_FID_PATTERN","INVALID_FID","generateFid","fidByteArray","encode","getKey","fidChangeCallbacks","fidChanged","key","callFidChangeCallbacks","broadcastFidChange","callbacks","callback","channel","getBroadcastChannel","closeBroadcastChannel","broadcastChannel","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","getDbPromise","openDB","db","oldVersion","set","value","tx","objectStore","oldValue","remove","update","updateFn","store","newValue","getInstallationEntry","installations","registrationPromise","installationEntry","oldEntry","updateOrCreateInstallationEntry","entryWithPromise","triggerRegistrationIfNecessary","entry","clearTimedOutRequest","registrationPromiseWithError","inProgressEntry","registerInstallation","waitUntilFidRegistration","registeredInstallationEntry","updateInstallationRequest","hasInstallationRequestTimedOut","generateAuthTokenRequest","getGenerateAuthTokenEndpoint","refreshAuthToken","forceRefresh","tokenPromise","isEntryRegistered","oldAuthToken","isAuthTokenValid","waitUntilAuthTokenRequest","makeAuthTokenRequestInProgressEntry","fetchAuthTokenFromServer","updateAuthTokenRequest","authToken","hasAuthTokenRequestTimedOut","updatedInstallationEntry","isAuthTokenExpired","now","inProgressAuthToken","getId","installationsImpl","getToken","completeInstallationRegistration","extractAppConfig","app","getMissingValueError","configKeys","keyName","valueName","INSTALLATIONS_NAME","INSTALLATIONS_NAME_INTERNAL","publicFactory","container","_getProvider","internalFactory","registerInstallations","_registerComponent","Component","registerVersion","ANALYTICS_TYPE","GA_FID_KEY","ORIGIN_KEY","FETCH_TIMEOUT_MILLIS","DYNAMIC_CONFIG_URL","GTAG_URL","logger","Logger","ERRORS","createGtagTrustedTypesScriptURL","url","err","promiseAllSettled","promises","promise","createTrustedTypesPolicy","policyName","policyOptions","trustedTypesPolicy","insertScriptTag","dataLayerName","measurementId","script","gtagScriptURL","getOrCreateDataLayer","dataLayer","gtagOnConfig","gtagCore","initializationPromisesMap","dynamicConfigPromisesList","measurementIdToAppId","gtagParams","correspondingAppId","foundConfig","config","gtagOnEvent","initializationPromisesToWaitFor","gaSendToList","dynamicConfigResults","sendToId","initializationPromise","wrapGtag","gtagWrapper","command","args","consentAction","fieldName","customParams","wrapOrCreateGtag","gtagFunctionName","_args","findGtagScriptOnPage","scriptTags","tag","LONG_RETRY_FACTOR","BASE_INTERVAL_MILLIS","RetryData","throttleMetadata","intervalMillis","appId","metadata","defaultRetryData","fetchDynamicConfig","appFields","_a","appUrl","errorMessage","jsonResponse","fetchDynamicConfigWithRetry","retryData","timeoutMillis","signal","AnalyticsAbortSignal","attemptFetchDynamicConfigWithRetry","throttleEndTimeMillis","backoffCount","setAbortableTimeout","isRetriableError","backoffMillis","calculateBackoffMillis","reject","timeout","httpStatus","listener","logEvent$1","gtagFunction","eventName","eventParams","options","params","validateIndexedDB","isIndexedDBAvailable","validateIndexedDBOpenable","_initializeAnalytics","dynamicConfigPromise","fidPromise","envIsValid","dynamicConfig","configProperties","AnalyticsService","gtagName","gtagCoreFunction","wrappedGtagFunction","globalInitDone","warnOnBrowserContextMismatch","mismatchedEnvMessages","isBrowserExtension","areCookiesEnabled","details","message","index","factory","wrappedGtag","getAnalytics","getApp","getModularInstance","analyticsProvider","initializeAnalytics","existingInstance","deepEqual","logEvent","analyticsInstance","registerAnalytics","analyticsOptions","analytics","_assertClassBrand","_checkPrivateRedeclaration","_classPrivateFieldGet2","s","_classPrivateFieldInitSpec","_classPrivateFieldSet2","r","RESTORE_FOCUS_TIMEOUT","globalState","focusPreviousActiveElement","restoreActiveElement","returnFocus","x","y","swalPrefix","classNames","swalClasses","acc","className","icons","iconTypes","icon","consolePrefix","capitalizeFirstLetter","str","warn","previousWarnOnceMessages","warnOnce","warnAboutDeprecation","deprecatedParam","useInstead","callIfFunction","arg","hasToPromiseFn","asPromise","isPromise","getContainer","elementBySelector","selectorString","elementByClass","getPopup","getIcon","getIconContent","getTitle","getHtmlContainer","getImage","getProgressSteps","getValidationMessage","getConfirmButton","getCancelButton","getDenyButton","getInputLabel","getLoader","getActions","getFooter","getTimerProgressBar","getCloseButton","focusable","getFocusableElements","popup","focusableElementsWithTabindex","focusableElementsWithTabindexSorted","tabindexA","tabindexB","otherFocusableElements","otherFocusableElementsFiltered","el","isVisible$1","isModal","hasClass","isToast","isLoading","setInnerHtml","elem","html","parsed","head","child","classList","removeCustomClasses","applyCustomClass","customClass","addClass","getInput$1","inputClass","focusInput","input","val","toggleClass","target","condition","removeClass","getDirectChildByClass","children","applyNumericalStyle","property","show","display","hide","showWhenInnerHtmlPresent","toggle","setStyle","parent","selector","allButtonsAreHidden","isScrollable","hasCssAnimation","style","animDuration","transDuration","animateTimerProgressBar","timer","reset","timerProgressBar","stopTimerProgressBar","timerProgressBarWidth","timerProgressBarFullWidth","timerProgressBarPercent","isNodeEnv","sweetHTML","resetOldContainer","oldContainer","resetValidationMessage$1","addInputChangeListeners","file","range","rangeOutput","select","checkbox","textarea","getTarget","setupAccessibility","setupRTL","targetElement","init","oldContainerExisted","parseHtmlToContainer","param","handleObject","handleJqueryElem","i","renderActions","instance","actions","loader","renderButtons","confirmButton","denyButton","cancelButton","renderButton","handleButtonsStyling","button","buttonType","buttonName","renderCloseButton","closeButton","renderContainer","handleBackdropParam","handlePositionParam","handleGrowParam","backdrop","position","grow","privateProps","inputClasses","renderInput","innerParams","rerender","inputContainer","setAttributes","showInput","setCustomClass","renderInputType","getInputContainer","removeAttributes","attrName","inputAttributes","attr","setInputPlaceholder","setInputLabel","prependTo","label","labelClass","inputType","checkAndSetInputValue","inputValue","rangeInput","placeholder","radio","checkboxContainer","getMargin","initialPopupWidth","textareaResizeHandler","textareaWidth","renderContent","htmlContainer","renderFooter","footer","renderIcon","setContent","applyStyles","iconType","iconClassName","setColor","adjustSuccessIconBackgroundColor","popupBackgroundColor","successIconParts","successIconHtml","errorIconHtml","oldContent","newContent","iconContent","sel","content","renderImage","image","dragging","mousedownX","mousedownY","initialX","initialY","addDraggableListeners","down","move","up","removeDraggableListeners","event","clientXY","getClientXY","clientX","clientY","renderPopup","addClasses$1","showClass","renderProgressSteps","progressStepsContainer","progressSteps","currentProgressStep","step","stepEl","createStepElement","lineEl","createLineElement","renderTitle","title","render","isVisible","clickConfirm","_dom$getConfirmButton","clickDeny","_dom$getDenyButton","clickCancel","_dom$getCancelButton","DismissReason","removeKeydownHandler","addKeydownHandler","dismissWith","keydownHandler","setFocus","increment","_dom$getPopup","focusableElements","arrowKeysNextButton","arrowKeysPreviousButton","handleEnter","handleTab","handleArrows","handleEsc","btnIndex","buttons","sibling","buttonToFocus","privateMethods","setAriaHidden","unsetAriaHidden","isSafariOrIOS","iOSfix","offset","lockBodyScroll","preventTouchMove","shouldPreventTouchMove","isStylus","isZoom","undoIOSfix","measureScrollbar","scrollDiv","scrollbarWidth","previousBodyPadding","replaceScrollbarWithPadding","initialBodyOverflow","undoReplaceScrollbarWithPadding","removePopupAndResetState","didClose","triggerDidCloseAndDispose","removeBodyClasses","close","resolveValue","prepareResolveValue","swalPromiseResolve","triggerClosePopup","handleAwaitingPromise","handlePopupAnimation","rejectPromise","_globalState$eventEmi","animationIsSupported","animatePopup","swalCloseAnimationFinished","_globalState$swalClos","_globalState$eventEmi2","showLoading","buttonToReplace","Swal","replaceButton","handleInputOptionsAndValue","handleInputOptions","handleInputValue","getInputValue","getCheckboxValue","getRadioValue","getFileValue","processInputOptions","inputOptions","populateSelectOptions","formatInputOptions","populateRadioOptions","renderOption","optionLabel","optionValue","option","isSelected","inputOption","optgroup","o","radioValue","radioLabel","radioInput","radioLabelElement","radios","valueFormatted","handleConfirmButtonClick","handleConfirmOrDenyWithInput","confirm","handleDenyButtonClick","deny","handleCancelButtonClick","type","handleInputValidator","validationMessage","preDenyValue","rejectWith","succeedWith","preConfirmValue","hideLoading","domCache","showRelatedButton","getInput","setButtonsDisabled","disabled","setInputDisabled","enableButtons","disableButtons","enableInput","disableInput","showValidationMessage","resetValidationMessage","defaultParams","updatableParams","deprecatedParams","toastIncompatibleParams","isValidParameter","paramName","isUpdatableParameter","isDeprecatedParameter","checkIfParamIsValid","checkIfToastParamIsValid","checkIfParamIsDeprecated","isDeprecated","showWarningsForParams","validUpdatableParams","filterValidParams","updatedParams","_destroy","disposeWeakMaps","disposeSwal","unsetWeakMaps","obj","instanceMethods","handlePopupClick","handleToastClick","handleModalMousedown","handleContainerMousedown","handleModalClick","isAnyButtonShown","ignoreOutsideClick","isJqueryElement","isElement","argsToParams","fire","_len","_key","mixin","mixinParams","MixinSwal","priorityMixinParams","getTimerLeft","stopTimer","resumeTimer","remaining","toggleTimer","increaseTimer","isTimerRunning","bodyClickListenerAdded","clickHandlers","bindClickHandler","bodyClickListener","template","EventEmitter","eventHandler","currentHandlers","_this","onceFn","_len2","_key2","on","once","off","staticMethods","Timer","delay","running","swalStringParams","getTemplateParams","templateContent","showWarningsForElements","getSwalParams","getSwalFunctionParams","getSwalButtons","getSwalImage","getSwalIcon","getSwalInput","getSwalStringParams","showWarningsForAttributes","optionName","paramNames","allowedElements","tagName","allowedAttributes","attribute","SHOW_CLASS_TIMEOUT","openPopup","addClasses","setScrollingVisibility","fixScrollContainer","swalOpenAnimationFinished","scrollbarPadding","defaultInputValidators","string","setDefaultInputValidators","validateCustomTargetElement","setParameters","currentInstance","_promise","SweetAlert","outerParams","userParams","isAwaitingPromise","prepareParams","populateDomCache","swalPromise","onFulfilled","onFinally","dismiss","setupTimer","initFocus","templateParams","blurActiveElement","focusAutofocus","focusButton","autofocusElements","autofocusElement","initiationDate","ukrainianAnthem","mounts","swal","noop","withReactContent","ParentSwal","extractReactParams","reactParams","otherParams","mountKeys","mount","_ref","React","_ref2","domElement","root","unrender","superWillOpen","superDidOpen","superDidDestroy","MySwal","createAlert","showAlert","showError","text","firebaseConfig","initializeApp","initializeFirestore","persistentLocalCache","persistentMultipleTabManager","auth","getAuth","getStorage","withRetry","operation","maxRetries","baseDelay","onRetry","lastError","attempt","collection","checkCollection","collectionName","snapshot","getDocs","initializeCollections","initializeChallenges","__vitePreload","aiChallenges","AuthContext","createContext","AuthProvider","user","setUser","useState","loading","setLoading","setError","useEffect","onAuthStateChanged","getRedirectResult","handleGoogleSignIn","getDoc","doc","setDoc","signUp","email","password","displayName","userCredential","createUserWithEmailAndPassword","updateProfile","signIn","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","popupError","signInWithRedirect","logout","signOut","jsx","useAuth","context","useContext","AdminContext","AdminProvider","isAdmin","setIsAdmin","tokenResult","getIdTokenResult","useAdmin","defaultAttributes","toKebabCase","createLucideIcon","iconName","iconNode","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","rest","ref","createElement","attrs","AlertCircle","AlertTriangle","ArrowLeft","ArrowRight","Award","Briefcase","Calendar","CheckCircle2","CheckCircle","Check","Clock","ExternalLink","Filter","HelpCircle","Link","Loader","LogOut","Mail","Menu","MessageSquare","PenSquare","Pencil","Play","Plus","RefreshCw","RotateCcw","Save","Search","Send","Shield","Sparkles","Star","Tag","ThumbsUp","Trophy","Upload","User","Users","Wand","X","Zap","ZoomIn","ProtectedRoute","jsxs","Navigate","AdminRoute","Login","setEmail","setPassword","navigate","useNavigate","handleEmailSignIn","Register","setDisplayName","handleEmailSignUp","handleGoogleSignUp","useFirestore","constraints","data","setData","query","documents","addDoc","id","docRef","updateDoc","docSnap","ProfilePicture","sizeClasses","ProfileHoverCard","profile","onMessageClick","setIsVisible","setPosition","triggerRef","useRef","cardRef","timeoutRef","topSkills","skill","_b","_d","_c","updatePosition","triggerRect","cardRect","viewportHeight","scrollY","spaceBelow","spaceAbove","handleUpdate","handleMouseEnter","handleMouseLeave","LinkIcon","Discover","searchTerm","setSearchTerm","selectedSkills","setSelectedSkills","trades","creators","setCreators","fetchCreators","creatorIds","trade","creatorsData","creatorId","creatorDoc","filteredTrades","matchesSearch","matchesSkills","allSkills","handleSkillToggle","prev","handleStartChat","creator","Fragment","XP_CONFIG","LEVEL_THRESHOLDS","BADGES","calculateLevel","experience","threshold","awardExperience","userId","amount","skills","userRef","addEndorsement","endorserId","arrayUnion","awardBadge","badgeId","badge","checkAndAwardBadges","endorsers","ReputationCard","showEndorsements","level","nextLevelXP","currentLevelXP","progress","ReactPropTypesSecret","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","getShim","ReactPropTypes","propTypesModule","COMMON_MIME_TYPES","toFileWithPath","path","withMimeType","webkitRelativePath","setObjProp","ext","FILES_TO_IGNORE","fromEvent","evt","__awaiter","isObject","isDataTransfer","getDataTransferFiles","isChangeEvt","getInputFiles","item","getFsHandleFiles","v","fromList","handles","dt","items","files","toFilePromises","noIgnoredFiles","flatten","fromDataTransferItem","fromDirEntry","fromEntry","fromFileEntry","reader","entries","readEntries","batch","fwp","_default","acceptedFiles","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iter","_arrayLikeToArray","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","source","_defineProperty","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","minLen","len","arr2","_i","_arr","_n","_s","_e","accepts","_accepts","FILE_INVALID_TYPE","FILE_TOO_LARGE","FILE_TOO_SMALL","TOO_MANY_FILES","getInvalidTypeRejectionErr","accept","acceptArr","msg","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","fileMatchSize","isDefined","allFilesAccepted","multiple","maxFiles","validator","_fileAccepted","_fileAccepted2","accepted","_fileMatchSize","_fileMatchSize2","sizeMatch","customErrors","isPropagationStopped","isEvtWithFiles","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","composeEventHandlers","fns","canUseFileSystemAccessAPI","pickerOptionsFromAccept","acceptForPicker","_ref3","ok","isMIMEType","isExt","agg","_ref4","_ref5","acceptPropAsAcceptAttr","_ref6","_ref7","isAbort","isSecurityError","_excluded","_excluded2","_excluded3","_excluded4","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","Dropzone","_useDropzone","useDropzone","open","useImperativeHandle","defaultProps","PropTypes","initialState","_defaultProps$props","getFilesFromEvent","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","onFileDialogCancel","onFileDialogOpen","useFsAccessApi","autoFocus","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","onError","acceptAttr","useMemo","pickerTypes","onFileDialogOpenCb","onFileDialogCancelCb","rootRef","inputRef","_useReducer","useReducer","reducer","_useReducer2","state","dispatch","isFocused","isFileDialogActive","fsAccessApiWorksRef","onWindowFocus","dragTargetsRef","onDocumentDrop","onErrCb","useCallback","onDragEnterCb","stopPropagation","fileCount","isDragAccept","isDragReject","onDragOverCb","hasFiles","onDragLeaveCb","targets","targetIdx","setFiles","fileRejections","acceptError","sizeError","errors","onDropCb","openFileDialog","opts","onKeyDownCb","onFocusCb","onBlurCb","onClickCb","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref2$refKey","refKey","role","onKeyDown","onFocus","onBlur","onClick","onInputElementClick","getInputProps","_ref3$refKey","onChange","inputProps","action","_populated","_ie","_firefox","_opera","_webkit","_chrome","_ie_real_version","_osx","_windows","_linux","_android","_win64","_iphone","_ipad","_native","_mobile","_populate","uas","agent","os","trident","ver","UserAgent_DEPRECATED","UserAgent_DEPRECATED_1","canUseDOM","ExecutionEnvironment","ExecutionEnvironment_1","useHasFeature","isEventSupported","eventNameSuffix","capture","isSupported","element","isEventSupported_1","require$$1","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","sX","sY","pX","pY","normalizeWheel_1","getCropSize","mediaWidth","mediaHeight","containerWidth","containerHeight","aspect","rotation","rotateSize","width","height","fittingWidth","fittingHeight","getMediaZoom","mediaSize","restrictPosition","cropSize","zoom","restrictPositionCoord","maxPosition","clamp","getDistanceBetweenPoints","pointA","pointB","getRotationBetweenPoints","computeCroppedArea","crop","limitAreaFn","limitArea","noOp","mediaBBoxSize","mediaNaturalBBoxSize","croppedAreaPercentages","widthInPixels","heightInPixels","isImgWiderThanHigh","sizePixels","croppedAreaPixels","__assign","max","_max","getInitialCropFromCroppedAreaPercentages","minZoom","maxZoom","getZoomFromCroppedAreaPixels","mediaZoom","getInitialCropFromCroppedAreaPixels","cropZoom","getCenter","getRadianAngle","degreeValue","rotRad","min","css_248z","MIN_ZOOM","MAX_ZOOM","KEYBOARD_STEP","Cropper","_super","__extends","React.createRef","isFirstResize","_f","mediaRef","containerAspect","naturalWidth","naturalHeight","isMediaScaledDown","mediaAspect","renderedMediaSize","bounds","point","newZoom","newRotation","offsetX","offsetY","requestedPosition","newPosition","pixelY","containerTopLeft","shouldUpdatePosition","zoomPoint","zoomTarget","restrictedPosition","cropData","onCropChange","keyboardStep","newCrop","prevProps","_g","_h","_j","objectFit","center","distance","video","mediaProps","transform","cropShape","showGrid","containerStyle","cropAreaStyle","mediaStyle","containerClassName","cropAreaClassName","mediaClassName","React.createElement","touch","React.Component","ImageCropper","onCropComplete","onCancel","aspectRatio","setCrop","setZoom","setCroppedAreaPixels","cropping","setCropping","onZoomChange","onCropAreaChange","croppedArea","createImage","getCroppedImg","imageSrc","pixelCrop","canvas","ctx","blob","handleCrop","croppedImage","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","randomUUID","native","v4","buf","rnds","uploadProfilePicture","CLOUD_NAME","UPLOAD_PRESET","formData","uuidv4","ProfilePictureUpload","currentUrl","onUpload","uploading","setUploading","cropImage","setCropImage","handleUpload","isDragActive","handleCropComplete","Profile","setProfile","isEditing","setIsEditing","editedProfile","setEditedProfile","newSkill","setNewSkill","saving","setSaving","endorsing","setEndorsing","fetchProfile","profileData","handleProfilePictureUpload","handleSave","handleAddSkill","handleRemoveSkill","skillToRemove","removedSkill","remainingSkills","handleEndorse","currentEndorsers","CreateTrade","add","setFormData","skillsArray","skillField","handleSubmit","TradeDetails","useParams","setTrade","setCreator","startingChat","setStartingChat","updatingStatus","setUpdatingStatus","showStatusModal","setShowStatusModal","fetchTradeAndCreator","tradeDoc","tradeData","handleContact","conversationsRef","where","querySnapshot","conversationId","serverTimestamp","handleUpdateStatus","newStatus","creatorProfile","participantProfile","Messages","useSearchParams","conversations","setConversations","participants","setParticipants","orderBy","unsubscribe","onSnapshot","conversationsData","participantIds","conv","participantsData","participantId","userDoc","getOtherParticipant","conversation","otherUserId","otherParticipant","hasUnread","Conversation","setConversation","messages","setMessages","newMessage","setNewMessage","otherUser","setOtherUser","messagesEndRef","unsubConversation","conversationData","pid","unsubMessages","messagesData","handleSend","isOwnMessage","Projects","statusFilter","setStatusFilter","projects","filteredProjects","project","matchesStatus","getAvailableRoles","CreateProject","handleAddRole","handleRemoveRole","_","ProjectDetails","setProject","joining","setJoining","fetchProjectAndCreator","projectDoc","projectData","handleJoinRole","roleIndex","updatedRoles","participant","conversationRef","isCreator","allRolesFilled","UserDirectory","users","filteredUsers","joinChallenge","challengeId","challengeRef","claimChallengeRewards","challenge","ChallengeCard","userProgress","claiming","setClaiming","isParticipating","hasCompleted","canClaimRewards","timeLeft","daysLeft","handleJoin","handleClaimRewards","req","__defProp","__export","all","tasks_exports","audioClassification","audioToAudio","automaticSpeechRecognition","chatCompletion","chatCompletionStream","documentQuestionAnswering","featureExtraction","fillMask","imageClassification","imageSegmentation","imageToImage","imageToText","objectDetection","questionAnswering","sentenceSimilarity","streamingRequest","summarization","tableQuestionAnswering","tabularClassification","tabularRegression","textClassification","textGeneration","textGenerationStream","textToImage","textToSpeech","tokenClassification","translation","visualQuestionAnswering","zeroShotClassification","zeroShotImageClassification","pick","prop","typedInclude","omit","propsArr","letsKeep","isUrl","modelOrUrl","taskCache","CACHE_DURATION","MAX_CACHE_ITEMS","HF_HUB_URL","getDefaultTask","model","accessToken","cachedTask","modelTask","resp","json","HF_INFERENCE_API_BASE_URL","tasks","makeRequestOptions","endpointUrl","otherArgs","task","includeCredentials","taskHint","wait_for_model","use_cache","dont_load_model","chatCompletion2","res","taskInfo","binary","credentials","info","output","getLines","onLine","buffer","fieldLength","discardTrailingNewline","concat","bufLength","lineStart","lineEnd","getMessages","onId","onMessage","decoder","line","field","valueOffset","retry","events","onChunk","done","InferenceOutputError","base64FromBytes","bin","byte","reqArgs","defaultTask","isValidOutput","isNumArrayRec","maxDepth","curDepth","coord","toArray","_label","_score","HfInference","defaultOptions","__publicField","HfInferenceEndpoint","API_KEY","hf","TEMPLATE_CHALLENGES","generateChallenge","useAI","prompt","jsonMatch","getTemplateChallenge","endDate","Timestamp","templates","checkAndGenerateChallenges","weeklyQuery","weeklySnapshot","monthlyQuery","monthlySnapshot","writeBatch","challengesRef","weeklyTemplate","weeklyEndDate","weeklyDocRef","monthlyTemplate","monthlyEndDate","monthlyDocRef","retries","Challenges","challenges","setChallenges","refreshing","setRefreshing","filter","setFilter","fetchChallenges","sortedChallenges","handleRefresh","filteredChallenges","ChallengeEditor","onSave","editedChallenge","setEditedChallenge","generating","setGenerating","handleGenerateNew","challengeDoc","newReqs","AdminChallenges","pendingChallenges","setPendingChallenges","editingChallenge","setEditingChallenge","handleActivate","httpsCallable","functions","Edit","ErrorBoundaryContext","ErrorBoundary","_this$props$onReset","_this$props","_this$props$onError","_this$props2","prevState","didCatch","resetKeys","hasArrayChanged","_this$props$onReset2","_this$props3","fallbackRender","FallbackComponent","fallback","childToRender","ErrorFallback","resetErrorBoundary","App","mobileMenuOpen","setMobileMenuOpen","handleLogout","closeMobileMenu","Routes","Route","StrictMode","BrowserRouter"],"ignoreList":[0,1,2,3,4,5,6,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,65,66,67,68,69,70,71,72,73,74,75,76,77,78,80,81,82,83,97,102],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/@firebase/installations/dist/esm/index.esm2017.js","../../node_modules/@firebase/analytics/dist/esm/index.esm2017.js","../../node_modules/sweetalert2/dist/sweetalert2.esm.all.js","../../node_modules/sweetalert2-react-content/dist/sweetalert2-react-content.es.js","../../src/lib/alerts.ts","../../src/lib/firebase.ts","../../src/contexts/AuthContext.tsx","../../src/contexts/AdminContext.tsx","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/alert-circle.js","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.js","../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/award.js","../../node_modules/lucide-react/dist/esm/icons/briefcase.js","../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../node_modules/lucide-react/dist/esm/icons/check-circle-2.js","../../node_modules/lucide-react/dist/esm/icons/check-circle.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../node_modules/lucide-react/dist/esm/icons/filter.js","../../node_modules/lucide-react/dist/esm/icons/help-circle.js","../../node_modules/lucide-react/dist/esm/icons/link.js","../../node_modules/lucide-react/dist/esm/icons/loader.js","../../node_modules/lucide-react/dist/esm/icons/log-out.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/menu.js","../../node_modules/lucide-react/dist/esm/icons/message-square.js","../../node_modules/lucide-react/dist/esm/icons/pen-square.js","../../node_modules/lucide-react/dist/esm/icons/pencil.js","../../node_modules/lucide-react/dist/esm/icons/play.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/send.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/star.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/thumbs-up.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/wand.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../node_modules/lucide-react/dist/esm/icons/zoom-in.js","../../src/components/ProtectedRoute.tsx","../../src/components/AdminRoute.tsx","../../src/pages/Login.tsx","../../src/pages/Register.tsx","../../src/hooks/useFirestore.ts","../../src/components/ProfilePicture.tsx","../../src/components/ProfileHoverCard.tsx","../../src/pages/Discover.tsx","../../src/lib/reputation.ts","../../src/components/ReputationCard.tsx","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/prop-types/index.js","../../node_modules/file-selector/dist/es2015/file.js","../../node_modules/file-selector/dist/es2015/file-selector.js","../../node_modules/attr-accept/dist/es/index.js","../../node_modules/react-dropzone/dist/es/utils/index.js","../../node_modules/react-dropzone/dist/es/index.js","../../node_modules/normalize-wheel/src/UserAgent_DEPRECATED.js","../../node_modules/normalize-wheel/src/ExecutionEnvironment.js","../../node_modules/normalize-wheel/src/isEventSupported.js","../../node_modules/normalize-wheel/src/normalizeWheel.js","../../node_modules/normalize-wheel/index.js","../../node_modules/react-easy-crop/index.module.js","../../src/components/ImageCropper.tsx","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/lib/storage.ts","../../src/components/ProfilePictureUpload.tsx","../../src/pages/Profile.tsx","../../src/pages/CreateTrade.tsx","../../src/pages/TradeDetails.tsx","../../src/pages/Messages.tsx","../../src/pages/Conversation.tsx","../../src/pages/Projects.tsx","../../src/pages/CreateProject.tsx","../../src/pages/ProjectDetails.tsx","../../src/pages/UserDirectory.tsx","../../src/lib/challenges.ts","../../src/components/ChallengeCard.tsx","../../node_modules/@huggingface/inference/dist/index.js","../../src/lib/ai-challenges.ts","../../src/pages/Challenges.tsx","../../src/components/ChallengeEditor.tsx","../../src/pages/AdminChallenges.tsx","../../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { _getProvider, getApp, _registerComponent, registerVersion } from '@firebase/app';\nimport { Component } from '@firebase/component';\nimport { ErrorFactory, FirebaseError } from '@firebase/util';\nimport { openDB } from 'idb';\n\nconst name = \"@firebase/installations\";\nconst version = \"0.6.9\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst PENDING_TIMEOUT_MS = 10000;\r\nconst PACKAGE_VERSION = `w:${version}`;\r\nconst INTERNAL_AUTH_VERSION = 'FIS_v2';\r\nconst INSTALLATIONS_API_URL = 'https://firebaseinstallations.googleapis.com/v1';\r\nconst TOKEN_EXPIRATION_BUFFER = 60 * 60 * 1000; // One hour\r\nconst SERVICE = 'installations';\r\nconst SERVICE_NAME = 'Installations';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst ERROR_DESCRIPTION_MAP = {\r\n    [\"missing-app-config-values\" /* ErrorCode.MISSING_APP_CONFIG_VALUES */]: 'Missing App configuration value: \"{$valueName}\"',\r\n    [\"not-registered\" /* ErrorCode.NOT_REGISTERED */]: 'Firebase Installation is not registered.',\r\n    [\"installation-not-found\" /* ErrorCode.INSTALLATION_NOT_FOUND */]: 'Firebase Installation not found.',\r\n    [\"request-failed\" /* ErrorCode.REQUEST_FAILED */]: '{$requestName} request failed with error \"{$serverCode} {$serverStatus}: {$serverMessage}\"',\r\n    [\"app-offline\" /* ErrorCode.APP_OFFLINE */]: 'Could not process request. Application offline.',\r\n    [\"delete-pending-registration\" /* ErrorCode.DELETE_PENDING_REGISTRATION */]: \"Can't delete installation while there is a pending registration request.\"\r\n};\r\nconst ERROR_FACTORY = new ErrorFactory(SERVICE, SERVICE_NAME, ERROR_DESCRIPTION_MAP);\r\n/** Returns true if error is a FirebaseError that is based on an error from the server. */\r\nfunction isServerError(error) {\r\n    return (error instanceof FirebaseError &&\r\n        error.code.includes(\"request-failed\" /* ErrorCode.REQUEST_FAILED */));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getInstallationsEndpoint({ projectId }) {\r\n    return `${INSTALLATIONS_API_URL}/projects/${projectId}/installations`;\r\n}\r\nfunction extractAuthTokenInfoFromResponse(response) {\r\n    return {\r\n        token: response.token,\r\n        requestStatus: 2 /* RequestStatus.COMPLETED */,\r\n        expiresIn: getExpiresInFromResponseExpiresIn(response.expiresIn),\r\n        creationTime: Date.now()\r\n    };\r\n}\r\nasync function getErrorFromResponse(requestName, response) {\r\n    const responseJson = await response.json();\r\n    const errorData = responseJson.error;\r\n    return ERROR_FACTORY.create(\"request-failed\" /* ErrorCode.REQUEST_FAILED */, {\r\n        requestName,\r\n        serverCode: errorData.code,\r\n        serverMessage: errorData.message,\r\n        serverStatus: errorData.status\r\n    });\r\n}\r\nfunction getHeaders({ apiKey }) {\r\n    return new Headers({\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        'x-goog-api-key': apiKey\r\n    });\r\n}\r\nfunction getHeadersWithAuth(appConfig, { refreshToken }) {\r\n    const headers = getHeaders(appConfig);\r\n    headers.append('Authorization', getAuthorizationHeader(refreshToken));\r\n    return headers;\r\n}\r\n/**\r\n * Calls the passed in fetch wrapper and returns the response.\r\n * If the returned response has a status of 5xx, re-runs the function once and\r\n * returns the response.\r\n */\r\nasync function retryIfServerError(fn) {\r\n    const result = await fn();\r\n    if (result.status >= 500 && result.status < 600) {\r\n        // Internal Server Error. Retry request.\r\n        return fn();\r\n    }\r\n    return result;\r\n}\r\nfunction getExpiresInFromResponseExpiresIn(responseExpiresIn) {\r\n    // This works because the server will never respond with fractions of a second.\r\n    return Number(responseExpiresIn.replace('s', '000'));\r\n}\r\nfunction getAuthorizationHeader(refreshToken) {\r\n    return `${INTERNAL_AUTH_VERSION} ${refreshToken}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function createInstallationRequest({ appConfig, heartbeatServiceProvider }, { fid }) {\r\n    const endpoint = getInstallationsEndpoint(appConfig);\r\n    const headers = getHeaders(appConfig);\r\n    // If heartbeat service exists, add the heartbeat string to the header.\r\n    const heartbeatService = heartbeatServiceProvider.getImmediate({\r\n        optional: true\r\n    });\r\n    if (heartbeatService) {\r\n        const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\r\n        if (heartbeatsHeader) {\r\n            headers.append('x-firebase-client', heartbeatsHeader);\r\n        }\r\n    }\r\n    const body = {\r\n        fid,\r\n        authVersion: INTERNAL_AUTH_VERSION,\r\n        appId: appConfig.appId,\r\n        sdkVersion: PACKAGE_VERSION\r\n    };\r\n    const request = {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(body)\r\n    };\r\n    const response = await retryIfServerError(() => fetch(endpoint, request));\r\n    if (response.ok) {\r\n        const responseValue = await response.json();\r\n        const registeredInstallationEntry = {\r\n            fid: responseValue.fid || fid,\r\n            registrationStatus: 2 /* RequestStatus.COMPLETED */,\r\n            refreshToken: responseValue.refreshToken,\r\n            authToken: extractAuthTokenInfoFromResponse(responseValue.authToken)\r\n        };\r\n        return registeredInstallationEntry;\r\n    }\r\n    else {\r\n        throw await getErrorFromResponse('Create Installation', response);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/** Returns a promise that resolves after given time passes. */\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction bufferToBase64UrlSafe(array) {\r\n    const b64 = btoa(String.fromCharCode(...array));\r\n    return b64.replace(/\\+/g, '-').replace(/\\//g, '_');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst VALID_FID_PATTERN = /^[cdef][\\w-]{21}$/;\r\nconst INVALID_FID = '';\r\n/**\r\n * Generates a new FID using random values from Web Crypto API.\r\n * Returns an empty string if FID generation fails for any reason.\r\n */\r\nfunction generateFid() {\r\n    try {\r\n        // A valid FID has exactly 22 base64 characters, which is 132 bits, or 16.5\r\n        // bytes. our implementation generates a 17 byte array instead.\r\n        const fidByteArray = new Uint8Array(17);\r\n        const crypto = self.crypto || self.msCrypto;\r\n        crypto.getRandomValues(fidByteArray);\r\n        // Replace the first 4 random bits with the constant FID header of 0b0111.\r\n        fidByteArray[0] = 0b01110000 + (fidByteArray[0] % 0b00010000);\r\n        const fid = encode(fidByteArray);\r\n        return VALID_FID_PATTERN.test(fid) ? fid : INVALID_FID;\r\n    }\r\n    catch (_a) {\r\n        // FID generation errored\r\n        return INVALID_FID;\r\n    }\r\n}\r\n/** Converts a FID Uint8Array to a base64 string representation. */\r\nfunction encode(fidByteArray) {\r\n    const b64String = bufferToBase64UrlSafe(fidByteArray);\r\n    // Remove the 23rd character that was added because of the extra 4 bits at the\r\n    // end of our 17 byte array, and the '=' padding.\r\n    return b64String.substr(0, 22);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/** Returns a string key that can be used to identify the app. */\r\nfunction getKey(appConfig) {\r\n    return `${appConfig.appName}!${appConfig.appId}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst fidChangeCallbacks = new Map();\r\n/**\r\n * Calls the onIdChange callbacks with the new FID value, and broadcasts the\r\n * change to other tabs.\r\n */\r\nfunction fidChanged(appConfig, fid) {\r\n    const key = getKey(appConfig);\r\n    callFidChangeCallbacks(key, fid);\r\n    broadcastFidChange(key, fid);\r\n}\r\nfunction addCallback(appConfig, callback) {\r\n    // Open the broadcast channel if it's not already open,\r\n    // to be able to listen to change events from other tabs.\r\n    getBroadcastChannel();\r\n    const key = getKey(appConfig);\r\n    let callbackSet = fidChangeCallbacks.get(key);\r\n    if (!callbackSet) {\r\n        callbackSet = new Set();\r\n        fidChangeCallbacks.set(key, callbackSet);\r\n    }\r\n    callbackSet.add(callback);\r\n}\r\nfunction removeCallback(appConfig, callback) {\r\n    const key = getKey(appConfig);\r\n    const callbackSet = fidChangeCallbacks.get(key);\r\n    if (!callbackSet) {\r\n        return;\r\n    }\r\n    callbackSet.delete(callback);\r\n    if (callbackSet.size === 0) {\r\n        fidChangeCallbacks.delete(key);\r\n    }\r\n    // Close broadcast channel if there are no more callbacks.\r\n    closeBroadcastChannel();\r\n}\r\nfunction callFidChangeCallbacks(key, fid) {\r\n    const callbacks = fidChangeCallbacks.get(key);\r\n    if (!callbacks) {\r\n        return;\r\n    }\r\n    for (const callback of callbacks) {\r\n        callback(fid);\r\n    }\r\n}\r\nfunction broadcastFidChange(key, fid) {\r\n    const channel = getBroadcastChannel();\r\n    if (channel) {\r\n        channel.postMessage({ key, fid });\r\n    }\r\n    closeBroadcastChannel();\r\n}\r\nlet broadcastChannel = null;\r\n/** Opens and returns a BroadcastChannel if it is supported by the browser. */\r\nfunction getBroadcastChannel() {\r\n    if (!broadcastChannel && 'BroadcastChannel' in self) {\r\n        broadcastChannel = new BroadcastChannel('[Firebase] FID Change');\r\n        broadcastChannel.onmessage = e => {\r\n            callFidChangeCallbacks(e.data.key, e.data.fid);\r\n        };\r\n    }\r\n    return broadcastChannel;\r\n}\r\nfunction closeBroadcastChannel() {\r\n    if (fidChangeCallbacks.size === 0 && broadcastChannel) {\r\n        broadcastChannel.close();\r\n        broadcastChannel = null;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DATABASE_NAME = 'firebase-installations-database';\r\nconst DATABASE_VERSION = 1;\r\nconst OBJECT_STORE_NAME = 'firebase-installations-store';\r\nlet dbPromise = null;\r\nfunction getDbPromise() {\r\n    if (!dbPromise) {\r\n        dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n            upgrade: (db, oldVersion) => {\r\n                // We don't use 'break' in this switch statement, the fall-through\r\n                // behavior is what we want, because if there are multiple versions between\r\n                // the old version and the current version, we want ALL the migrations\r\n                // that correspond to those versions to run, not only the last one.\r\n                // eslint-disable-next-line default-case\r\n                switch (oldVersion) {\r\n                    case 0:\r\n                        db.createObjectStore(OBJECT_STORE_NAME);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return dbPromise;\r\n}\r\n/** Assigns or overwrites the record for the given key with the given value. */\r\nasync function set(appConfig, value) {\r\n    const key = getKey(appConfig);\r\n    const db = await getDbPromise();\r\n    const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\r\n    const objectStore = tx.objectStore(OBJECT_STORE_NAME);\r\n    const oldValue = (await objectStore.get(key));\r\n    await objectStore.put(value, key);\r\n    await tx.done;\r\n    if (!oldValue || oldValue.fid !== value.fid) {\r\n        fidChanged(appConfig, value.fid);\r\n    }\r\n    return value;\r\n}\r\n/** Removes record(s) from the objectStore that match the given key. */\r\nasync function remove(appConfig) {\r\n    const key = getKey(appConfig);\r\n    const db = await getDbPromise();\r\n    const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\r\n    await tx.objectStore(OBJECT_STORE_NAME).delete(key);\r\n    await tx.done;\r\n}\r\n/**\r\n * Atomically updates a record with the result of updateFn, which gets\r\n * called with the current value. If newValue is undefined, the record is\r\n * deleted instead.\r\n * @return Updated value\r\n */\r\nasync function update(appConfig, updateFn) {\r\n    const key = getKey(appConfig);\r\n    const db = await getDbPromise();\r\n    const tx = db.transaction(OBJECT_STORE_NAME, 'readwrite');\r\n    const store = tx.objectStore(OBJECT_STORE_NAME);\r\n    const oldValue = (await store.get(key));\r\n    const newValue = updateFn(oldValue);\r\n    if (newValue === undefined) {\r\n        await store.delete(key);\r\n    }\r\n    else {\r\n        await store.put(newValue, key);\r\n    }\r\n    await tx.done;\r\n    if (newValue && (!oldValue || oldValue.fid !== newValue.fid)) {\r\n        fidChanged(appConfig, newValue.fid);\r\n    }\r\n    return newValue;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Updates and returns the InstallationEntry from the database.\r\n * Also triggers a registration request if it is necessary and possible.\r\n */\r\nasync function getInstallationEntry(installations) {\r\n    let registrationPromise;\r\n    const installationEntry = await update(installations.appConfig, oldEntry => {\r\n        const installationEntry = updateOrCreateInstallationEntry(oldEntry);\r\n        const entryWithPromise = triggerRegistrationIfNecessary(installations, installationEntry);\r\n        registrationPromise = entryWithPromise.registrationPromise;\r\n        return entryWithPromise.installationEntry;\r\n    });\r\n    if (installationEntry.fid === INVALID_FID) {\r\n        // FID generation failed. Waiting for the FID from the server.\r\n        return { installationEntry: await registrationPromise };\r\n    }\r\n    return {\r\n        installationEntry,\r\n        registrationPromise\r\n    };\r\n}\r\n/**\r\n * Creates a new Installation Entry if one does not exist.\r\n * Also clears timed out pending requests.\r\n */\r\nfunction updateOrCreateInstallationEntry(oldEntry) {\r\n    const entry = oldEntry || {\r\n        fid: generateFid(),\r\n        registrationStatus: 0 /* RequestStatus.NOT_STARTED */\r\n    };\r\n    return clearTimedOutRequest(entry);\r\n}\r\n/**\r\n * If the Firebase Installation is not registered yet, this will trigger the\r\n * registration and return an InProgressInstallationEntry.\r\n *\r\n * If registrationPromise does not exist, the installationEntry is guaranteed\r\n * to be registered.\r\n */\r\nfunction triggerRegistrationIfNecessary(installations, installationEntry) {\r\n    if (installationEntry.registrationStatus === 0 /* RequestStatus.NOT_STARTED */) {\r\n        if (!navigator.onLine) {\r\n            // Registration required but app is offline.\r\n            const registrationPromiseWithError = Promise.reject(ERROR_FACTORY.create(\"app-offline\" /* ErrorCode.APP_OFFLINE */));\r\n            return {\r\n                installationEntry,\r\n                registrationPromise: registrationPromiseWithError\r\n            };\r\n        }\r\n        // Try registering. Change status to IN_PROGRESS.\r\n        const inProgressEntry = {\r\n            fid: installationEntry.fid,\r\n            registrationStatus: 1 /* RequestStatus.IN_PROGRESS */,\r\n            registrationTime: Date.now()\r\n        };\r\n        const registrationPromise = registerInstallation(installations, inProgressEntry);\r\n        return { installationEntry: inProgressEntry, registrationPromise };\r\n    }\r\n    else if (installationEntry.registrationStatus === 1 /* RequestStatus.IN_PROGRESS */) {\r\n        return {\r\n            installationEntry,\r\n            registrationPromise: waitUntilFidRegistration(installations)\r\n        };\r\n    }\r\n    else {\r\n        return { installationEntry };\r\n    }\r\n}\r\n/** This will be executed only once for each new Firebase Installation. */\r\nasync function registerInstallation(installations, installationEntry) {\r\n    try {\r\n        const registeredInstallationEntry = await createInstallationRequest(installations, installationEntry);\r\n        return set(installations.appConfig, registeredInstallationEntry);\r\n    }\r\n    catch (e) {\r\n        if (isServerError(e) && e.customData.serverCode === 409) {\r\n            // Server returned a \"FID cannot be used\" error.\r\n            // Generate a new ID next time.\r\n            await remove(installations.appConfig);\r\n        }\r\n        else {\r\n            // Registration failed. Set FID as not registered.\r\n            await set(installations.appConfig, {\r\n                fid: installationEntry.fid,\r\n                registrationStatus: 0 /* RequestStatus.NOT_STARTED */\r\n            });\r\n        }\r\n        throw e;\r\n    }\r\n}\r\n/** Call if FID registration is pending in another request. */\r\nasync function waitUntilFidRegistration(installations) {\r\n    // Unfortunately, there is no way of reliably observing when a value in\r\n    // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\r\n    // so we need to poll.\r\n    let entry = await updateInstallationRequest(installations.appConfig);\r\n    while (entry.registrationStatus === 1 /* RequestStatus.IN_PROGRESS */) {\r\n        // createInstallation request still in progress.\r\n        await sleep(100);\r\n        entry = await updateInstallationRequest(installations.appConfig);\r\n    }\r\n    if (entry.registrationStatus === 0 /* RequestStatus.NOT_STARTED */) {\r\n        // The request timed out or failed in a different call. Try again.\r\n        const { installationEntry, registrationPromise } = await getInstallationEntry(installations);\r\n        if (registrationPromise) {\r\n            return registrationPromise;\r\n        }\r\n        else {\r\n            // if there is no registrationPromise, entry is registered.\r\n            return installationEntry;\r\n        }\r\n    }\r\n    return entry;\r\n}\r\n/**\r\n * Called only if there is a CreateInstallation request in progress.\r\n *\r\n * Updates the InstallationEntry in the DB based on the status of the\r\n * CreateInstallation request.\r\n *\r\n * Returns the updated InstallationEntry.\r\n */\r\nfunction updateInstallationRequest(appConfig) {\r\n    return update(appConfig, oldEntry => {\r\n        if (!oldEntry) {\r\n            throw ERROR_FACTORY.create(\"installation-not-found\" /* ErrorCode.INSTALLATION_NOT_FOUND */);\r\n        }\r\n        return clearTimedOutRequest(oldEntry);\r\n    });\r\n}\r\nfunction clearTimedOutRequest(entry) {\r\n    if (hasInstallationRequestTimedOut(entry)) {\r\n        return {\r\n            fid: entry.fid,\r\n            registrationStatus: 0 /* RequestStatus.NOT_STARTED */\r\n        };\r\n    }\r\n    return entry;\r\n}\r\nfunction hasInstallationRequestTimedOut(installationEntry) {\r\n    return (installationEntry.registrationStatus === 1 /* RequestStatus.IN_PROGRESS */ &&\r\n        installationEntry.registrationTime + PENDING_TIMEOUT_MS < Date.now());\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function generateAuthTokenRequest({ appConfig, heartbeatServiceProvider }, installationEntry) {\r\n    const endpoint = getGenerateAuthTokenEndpoint(appConfig, installationEntry);\r\n    const headers = getHeadersWithAuth(appConfig, installationEntry);\r\n    // If heartbeat service exists, add the heartbeat string to the header.\r\n    const heartbeatService = heartbeatServiceProvider.getImmediate({\r\n        optional: true\r\n    });\r\n    if (heartbeatService) {\r\n        const heartbeatsHeader = await heartbeatService.getHeartbeatsHeader();\r\n        if (heartbeatsHeader) {\r\n            headers.append('x-firebase-client', heartbeatsHeader);\r\n        }\r\n    }\r\n    const body = {\r\n        installation: {\r\n            sdkVersion: PACKAGE_VERSION,\r\n            appId: appConfig.appId\r\n        }\r\n    };\r\n    const request = {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(body)\r\n    };\r\n    const response = await retryIfServerError(() => fetch(endpoint, request));\r\n    if (response.ok) {\r\n        const responseValue = await response.json();\r\n        const completedAuthToken = extractAuthTokenInfoFromResponse(responseValue);\r\n        return completedAuthToken;\r\n    }\r\n    else {\r\n        throw await getErrorFromResponse('Generate Auth Token', response);\r\n    }\r\n}\r\nfunction getGenerateAuthTokenEndpoint(appConfig, { fid }) {\r\n    return `${getInstallationsEndpoint(appConfig)}/${fid}/authTokens:generate`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a valid authentication token for the installation. Generates a new\r\n * token if one doesn't exist, is expired or about to expire.\r\n *\r\n * Should only be called if the Firebase Installation is registered.\r\n */\r\nasync function refreshAuthToken(installations, forceRefresh = false) {\r\n    let tokenPromise;\r\n    const entry = await update(installations.appConfig, oldEntry => {\r\n        if (!isEntryRegistered(oldEntry)) {\r\n            throw ERROR_FACTORY.create(\"not-registered\" /* ErrorCode.NOT_REGISTERED */);\r\n        }\r\n        const oldAuthToken = oldEntry.authToken;\r\n        if (!forceRefresh && isAuthTokenValid(oldAuthToken)) {\r\n            // There is a valid token in the DB.\r\n            return oldEntry;\r\n        }\r\n        else if (oldAuthToken.requestStatus === 1 /* RequestStatus.IN_PROGRESS */) {\r\n            // There already is a token request in progress.\r\n            tokenPromise = waitUntilAuthTokenRequest(installations, forceRefresh);\r\n            return oldEntry;\r\n        }\r\n        else {\r\n            // No token or token expired.\r\n            if (!navigator.onLine) {\r\n                throw ERROR_FACTORY.create(\"app-offline\" /* ErrorCode.APP_OFFLINE */);\r\n            }\r\n            const inProgressEntry = makeAuthTokenRequestInProgressEntry(oldEntry);\r\n            tokenPromise = fetchAuthTokenFromServer(installations, inProgressEntry);\r\n            return inProgressEntry;\r\n        }\r\n    });\r\n    const authToken = tokenPromise\r\n        ? await tokenPromise\r\n        : entry.authToken;\r\n    return authToken;\r\n}\r\n/**\r\n * Call only if FID is registered and Auth Token request is in progress.\r\n *\r\n * Waits until the current pending request finishes. If the request times out,\r\n * tries once in this thread as well.\r\n */\r\nasync function waitUntilAuthTokenRequest(installations, forceRefresh) {\r\n    // Unfortunately, there is no way of reliably observing when a value in\r\n    // IndexedDB changes (yet, see https://github.com/WICG/indexed-db-observers),\r\n    // so we need to poll.\r\n    let entry = await updateAuthTokenRequest(installations.appConfig);\r\n    while (entry.authToken.requestStatus === 1 /* RequestStatus.IN_PROGRESS */) {\r\n        // generateAuthToken still in progress.\r\n        await sleep(100);\r\n        entry = await updateAuthTokenRequest(installations.appConfig);\r\n    }\r\n    const authToken = entry.authToken;\r\n    if (authToken.requestStatus === 0 /* RequestStatus.NOT_STARTED */) {\r\n        // The request timed out or failed in a different call. Try again.\r\n        return refreshAuthToken(installations, forceRefresh);\r\n    }\r\n    else {\r\n        return authToken;\r\n    }\r\n}\r\n/**\r\n * Called only if there is a GenerateAuthToken request in progress.\r\n *\r\n * Updates the InstallationEntry in the DB based on the status of the\r\n * GenerateAuthToken request.\r\n *\r\n * Returns the updated InstallationEntry.\r\n */\r\nfunction updateAuthTokenRequest(appConfig) {\r\n    return update(appConfig, oldEntry => {\r\n        if (!isEntryRegistered(oldEntry)) {\r\n            throw ERROR_FACTORY.create(\"not-registered\" /* ErrorCode.NOT_REGISTERED */);\r\n        }\r\n        const oldAuthToken = oldEntry.authToken;\r\n        if (hasAuthTokenRequestTimedOut(oldAuthToken)) {\r\n            return Object.assign(Object.assign({}, oldEntry), { authToken: { requestStatus: 0 /* RequestStatus.NOT_STARTED */ } });\r\n        }\r\n        return oldEntry;\r\n    });\r\n}\r\nasync function fetchAuthTokenFromServer(installations, installationEntry) {\r\n    try {\r\n        const authToken = await generateAuthTokenRequest(installations, installationEntry);\r\n        const updatedInstallationEntry = Object.assign(Object.assign({}, installationEntry), { authToken });\r\n        await set(installations.appConfig, updatedInstallationEntry);\r\n        return authToken;\r\n    }\r\n    catch (e) {\r\n        if (isServerError(e) &&\r\n            (e.customData.serverCode === 401 || e.customData.serverCode === 404)) {\r\n            // Server returned a \"FID not found\" or a \"Invalid authentication\" error.\r\n            // Generate a new ID next time.\r\n            await remove(installations.appConfig);\r\n        }\r\n        else {\r\n            const updatedInstallationEntry = Object.assign(Object.assign({}, installationEntry), { authToken: { requestStatus: 0 /* RequestStatus.NOT_STARTED */ } });\r\n            await set(installations.appConfig, updatedInstallationEntry);\r\n        }\r\n        throw e;\r\n    }\r\n}\r\nfunction isEntryRegistered(installationEntry) {\r\n    return (installationEntry !== undefined &&\r\n        installationEntry.registrationStatus === 2 /* RequestStatus.COMPLETED */);\r\n}\r\nfunction isAuthTokenValid(authToken) {\r\n    return (authToken.requestStatus === 2 /* RequestStatus.COMPLETED */ &&\r\n        !isAuthTokenExpired(authToken));\r\n}\r\nfunction isAuthTokenExpired(authToken) {\r\n    const now = Date.now();\r\n    return (now < authToken.creationTime ||\r\n        authToken.creationTime + authToken.expiresIn < now + TOKEN_EXPIRATION_BUFFER);\r\n}\r\n/** Returns an updated InstallationEntry with an InProgressAuthToken. */\r\nfunction makeAuthTokenRequestInProgressEntry(oldEntry) {\r\n    const inProgressAuthToken = {\r\n        requestStatus: 1 /* RequestStatus.IN_PROGRESS */,\r\n        requestTime: Date.now()\r\n    };\r\n    return Object.assign(Object.assign({}, oldEntry), { authToken: inProgressAuthToken });\r\n}\r\nfunction hasAuthTokenRequestTimedOut(authToken) {\r\n    return (authToken.requestStatus === 1 /* RequestStatus.IN_PROGRESS */ &&\r\n        authToken.requestTime + PENDING_TIMEOUT_MS < Date.now());\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Creates a Firebase Installation if there isn't one for the app and\r\n * returns the Installation ID.\r\n * @param installations - The `Installations` instance.\r\n *\r\n * @public\r\n */\r\nasync function getId(installations) {\r\n    const installationsImpl = installations;\r\n    const { installationEntry, registrationPromise } = await getInstallationEntry(installationsImpl);\r\n    if (registrationPromise) {\r\n        registrationPromise.catch(console.error);\r\n    }\r\n    else {\r\n        // If the installation is already registered, update the authentication\r\n        // token if needed.\r\n        refreshAuthToken(installationsImpl).catch(console.error);\r\n    }\r\n    return installationEntry.fid;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a Firebase Installations auth token, identifying the current\r\n * Firebase Installation.\r\n * @param installations - The `Installations` instance.\r\n * @param forceRefresh - Force refresh regardless of token expiration.\r\n *\r\n * @public\r\n */\r\nasync function getToken(installations, forceRefresh = false) {\r\n    const installationsImpl = installations;\r\n    await completeInstallationRegistration(installationsImpl);\r\n    // At this point we either have a Registered Installation in the DB, or we've\r\n    // already thrown an error.\r\n    const authToken = await refreshAuthToken(installationsImpl, forceRefresh);\r\n    return authToken.token;\r\n}\r\nasync function completeInstallationRegistration(installations) {\r\n    const { registrationPromise } = await getInstallationEntry(installations);\r\n    if (registrationPromise) {\r\n        // A createInstallation request is in progress. Wait until it finishes.\r\n        await registrationPromise;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function deleteInstallationRequest(appConfig, installationEntry) {\r\n    const endpoint = getDeleteEndpoint(appConfig, installationEntry);\r\n    const headers = getHeadersWithAuth(appConfig, installationEntry);\r\n    const request = {\r\n        method: 'DELETE',\r\n        headers\r\n    };\r\n    const response = await retryIfServerError(() => fetch(endpoint, request));\r\n    if (!response.ok) {\r\n        throw await getErrorFromResponse('Delete Installation', response);\r\n    }\r\n}\r\nfunction getDeleteEndpoint(appConfig, { fid }) {\r\n    return `${getInstallationsEndpoint(appConfig)}/${fid}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Deletes the Firebase Installation and all associated data.\r\n * @param installations - The `Installations` instance.\r\n *\r\n * @public\r\n */\r\nasync function deleteInstallations(installations) {\r\n    const { appConfig } = installations;\r\n    const entry = await update(appConfig, oldEntry => {\r\n        if (oldEntry && oldEntry.registrationStatus === 0 /* RequestStatus.NOT_STARTED */) {\r\n            // Delete the unregistered entry without sending a deleteInstallation request.\r\n            return undefined;\r\n        }\r\n        return oldEntry;\r\n    });\r\n    if (entry) {\r\n        if (entry.registrationStatus === 1 /* RequestStatus.IN_PROGRESS */) {\r\n            // Can't delete while trying to register.\r\n            throw ERROR_FACTORY.create(\"delete-pending-registration\" /* ErrorCode.DELETE_PENDING_REGISTRATION */);\r\n        }\r\n        else if (entry.registrationStatus === 2 /* RequestStatus.COMPLETED */) {\r\n            if (!navigator.onLine) {\r\n                throw ERROR_FACTORY.create(\"app-offline\" /* ErrorCode.APP_OFFLINE */);\r\n            }\r\n            else {\r\n                await deleteInstallationRequest(appConfig, entry);\r\n                await remove(appConfig);\r\n            }\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Sets a new callback that will get called when Installation ID changes.\r\n * Returns an unsubscribe function that will remove the callback when called.\r\n * @param installations - The `Installations` instance.\r\n * @param callback - The callback function that is invoked when FID changes.\r\n * @returns A function that can be called to unsubscribe.\r\n *\r\n * @public\r\n */\r\nfunction onIdChange(installations, callback) {\r\n    const { appConfig } = installations;\r\n    addCallback(appConfig, callback);\r\n    return () => {\r\n        removeCallback(appConfig, callback);\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns an instance of {@link Installations} associated with the given\r\n * {@link @firebase/app#FirebaseApp} instance.\r\n * @param app - The {@link @firebase/app#FirebaseApp} instance.\r\n *\r\n * @public\r\n */\r\nfunction getInstallations(app = getApp()) {\r\n    const installationsImpl = _getProvider(app, 'installations').getImmediate();\r\n    return installationsImpl;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction extractAppConfig(app) {\r\n    if (!app || !app.options) {\r\n        throw getMissingValueError('App Configuration');\r\n    }\r\n    if (!app.name) {\r\n        throw getMissingValueError('App Name');\r\n    }\r\n    // Required app config keys\r\n    const configKeys = [\r\n        'projectId',\r\n        'apiKey',\r\n        'appId'\r\n    ];\r\n    for (const keyName of configKeys) {\r\n        if (!app.options[keyName]) {\r\n            throw getMissingValueError(keyName);\r\n        }\r\n    }\r\n    return {\r\n        appName: app.name,\r\n        projectId: app.options.projectId,\r\n        apiKey: app.options.apiKey,\r\n        appId: app.options.appId\r\n    };\r\n}\r\nfunction getMissingValueError(valueName) {\r\n    return ERROR_FACTORY.create(\"missing-app-config-values\" /* ErrorCode.MISSING_APP_CONFIG_VALUES */, {\r\n        valueName\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst INSTALLATIONS_NAME = 'installations';\r\nconst INSTALLATIONS_NAME_INTERNAL = 'installations-internal';\r\nconst publicFactory = (container) => {\r\n    const app = container.getProvider('app').getImmediate();\r\n    // Throws if app isn't configured properly.\r\n    const appConfig = extractAppConfig(app);\r\n    const heartbeatServiceProvider = _getProvider(app, 'heartbeat');\r\n    const installationsImpl = {\r\n        app,\r\n        appConfig,\r\n        heartbeatServiceProvider,\r\n        _delete: () => Promise.resolve()\r\n    };\r\n    return installationsImpl;\r\n};\r\nconst internalFactory = (container) => {\r\n    const app = container.getProvider('app').getImmediate();\r\n    // Internal FIS instance relies on public FIS instance.\r\n    const installations = _getProvider(app, INSTALLATIONS_NAME).getImmediate();\r\n    const installationsInternal = {\r\n        getId: () => getId(installations),\r\n        getToken: (forceRefresh) => getToken(installations, forceRefresh)\r\n    };\r\n    return installationsInternal;\r\n};\r\nfunction registerInstallations() {\r\n    _registerComponent(new Component(INSTALLATIONS_NAME, publicFactory, \"PUBLIC\" /* ComponentType.PUBLIC */));\r\n    _registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL, internalFactory, \"PRIVATE\" /* ComponentType.PRIVATE */));\r\n}\n\n/**\r\n * The Firebase Installations Web SDK.\r\n * This SDK does not work in a Node.js environment.\r\n *\r\n * @packageDocumentation\r\n */\r\nregisterInstallations();\r\nregisterVersion(name, version);\r\n// BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\r\nregisterVersion(name, version, 'esm2017');\n\nexport { deleteInstallations, getId, getInstallations, getToken, onIdChange };\n//# sourceMappingURL=index.esm2017.js.map\n","import { _getProvider, getApp, _registerComponent, registerVersion } from '@firebase/app';\nimport { Logger } from '@firebase/logger';\nimport { ErrorFactory, calculateBackoffMillis, FirebaseError, isIndexedDBAvailable, validateIndexedDBOpenable, isBrowserExtension, areCookiesEnabled, getModularInstance, deepEqual } from '@firebase/util';\nimport { Component } from '@firebase/component';\nimport '@firebase/installations';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Type constant for Firebase Analytics.\r\n */\r\nconst ANALYTICS_TYPE = 'analytics';\r\n// Key to attach FID to in gtag params.\r\nconst GA_FID_KEY = 'firebase_id';\r\nconst ORIGIN_KEY = 'origin';\r\nconst FETCH_TIMEOUT_MILLIS = 60 * 1000;\r\nconst DYNAMIC_CONFIG_URL = 'https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig';\r\nconst GTAG_URL = 'https://www.googletagmanager.com/gtag/js';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst logger = new Logger('@firebase/analytics');\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst ERRORS = {\r\n    [\"already-exists\" /* AnalyticsError.ALREADY_EXISTS */]: 'A Firebase Analytics instance with the appId {$id} ' +\r\n        ' already exists. ' +\r\n        'Only one Firebase Analytics instance can be created for each appId.',\r\n    [\"already-initialized\" /* AnalyticsError.ALREADY_INITIALIZED */]: 'initializeAnalytics() cannot be called again with different options than those ' +\r\n        'it was initially called with. It can be called again with the same options to ' +\r\n        'return the existing instance, or getAnalytics() can be used ' +\r\n        'to get a reference to the already-initialized instance.',\r\n    [\"already-initialized-settings\" /* AnalyticsError.ALREADY_INITIALIZED_SETTINGS */]: 'Firebase Analytics has already been initialized.' +\r\n        'settings() must be called before initializing any Analytics instance' +\r\n        'or it will have no effect.',\r\n    [\"interop-component-reg-failed\" /* AnalyticsError.INTEROP_COMPONENT_REG_FAILED */]: 'Firebase Analytics Interop Component failed to instantiate: {$reason}',\r\n    [\"invalid-analytics-context\" /* AnalyticsError.INVALID_ANALYTICS_CONTEXT */]: 'Firebase Analytics is not supported in this environment. ' +\r\n        'Wrap initialization of analytics in analytics.isSupported() ' +\r\n        'to prevent initialization in unsupported environments. Details: {$errorInfo}',\r\n    [\"indexeddb-unavailable\" /* AnalyticsError.INDEXEDDB_UNAVAILABLE */]: 'IndexedDB unavailable or restricted in this environment. ' +\r\n        'Wrap initialization of analytics in analytics.isSupported() ' +\r\n        'to prevent initialization in unsupported environments. Details: {$errorInfo}',\r\n    [\"fetch-throttle\" /* AnalyticsError.FETCH_THROTTLE */]: 'The config fetch request timed out while in an exponential backoff state.' +\r\n        ' Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',\r\n    [\"config-fetch-failed\" /* AnalyticsError.CONFIG_FETCH_FAILED */]: 'Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}',\r\n    [\"no-api-key\" /* AnalyticsError.NO_API_KEY */]: 'The \"apiKey\" field is empty in the local Firebase config. Firebase Analytics requires this field to' +\r\n        'contain a valid API key.',\r\n    [\"no-app-id\" /* AnalyticsError.NO_APP_ID */]: 'The \"appId\" field is empty in the local Firebase config. Firebase Analytics requires this field to' +\r\n        'contain a valid app ID.',\r\n    [\"no-client-id\" /* AnalyticsError.NO_CLIENT_ID */]: 'The \"client_id\" field is empty.',\r\n    [\"invalid-gtag-resource\" /* AnalyticsError.INVALID_GTAG_RESOURCE */]: 'Trusted Types detected an invalid gtag resource: {$gtagURL}.'\r\n};\r\nconst ERROR_FACTORY = new ErrorFactory('analytics', 'Analytics', ERRORS);\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Verifies and creates a TrustedScriptURL.\r\n */\r\nfunction createGtagTrustedTypesScriptURL(url) {\r\n    if (!url.startsWith(GTAG_URL)) {\r\n        const err = ERROR_FACTORY.create(\"invalid-gtag-resource\" /* AnalyticsError.INVALID_GTAG_RESOURCE */, {\r\n            gtagURL: url\r\n        });\r\n        logger.warn(err.message);\r\n        return '';\r\n    }\r\n    return url;\r\n}\r\n/**\r\n * Makeshift polyfill for Promise.allSettled(). Resolves when all promises\r\n * have either resolved or rejected.\r\n *\r\n * @param promises Array of promises to wait for.\r\n */\r\nfunction promiseAllSettled(promises) {\r\n    return Promise.all(promises.map(promise => promise.catch(e => e)));\r\n}\r\n/**\r\n * Creates a TrustedTypePolicy object that implements the rules passed as policyOptions.\r\n *\r\n * @param policyName A string containing the name of the policy\r\n * @param policyOptions Object containing implementations of instance methods for TrustedTypesPolicy, see {@link https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy#instance_methods\r\n * | the TrustedTypePolicy reference documentation}.\r\n */\r\nfunction createTrustedTypesPolicy(policyName, policyOptions) {\r\n    // Create a TrustedTypes policy that we can use for updating src\r\n    // properties\r\n    let trustedTypesPolicy;\r\n    if (window.trustedTypes) {\r\n        trustedTypesPolicy = window.trustedTypes.createPolicy(policyName, policyOptions);\r\n    }\r\n    return trustedTypesPolicy;\r\n}\r\n/**\r\n * Inserts gtag script tag into the page to asynchronously download gtag.\r\n * @param dataLayerName Name of datalayer (most often the default, \"_dataLayer\").\r\n */\r\nfunction insertScriptTag(dataLayerName, measurementId) {\r\n    const trustedTypesPolicy = createTrustedTypesPolicy('firebase-js-sdk-policy', {\r\n        createScriptURL: createGtagTrustedTypesScriptURL\r\n    });\r\n    const script = document.createElement('script');\r\n    // We are not providing an analyticsId in the URL because it would trigger a `page_view`\r\n    // without fid. We will initialize ga-id using gtag (config) command together with fid.\r\n    const gtagScriptURL = `${GTAG_URL}?l=${dataLayerName}&id=${measurementId}`;\r\n    script.src = trustedTypesPolicy\r\n        ? trustedTypesPolicy === null || trustedTypesPolicy === void 0 ? void 0 : trustedTypesPolicy.createScriptURL(gtagScriptURL)\r\n        : gtagScriptURL;\r\n    script.async = true;\r\n    document.head.appendChild(script);\r\n}\r\n/**\r\n * Get reference to, or create, global datalayer.\r\n * @param dataLayerName Name of datalayer (most often the default, \"_dataLayer\").\r\n */\r\nfunction getOrCreateDataLayer(dataLayerName) {\r\n    // Check for existing dataLayer and create if needed.\r\n    let dataLayer = [];\r\n    if (Array.isArray(window[dataLayerName])) {\r\n        dataLayer = window[dataLayerName];\r\n    }\r\n    else {\r\n        window[dataLayerName] = dataLayer;\r\n    }\r\n    return dataLayer;\r\n}\r\n/**\r\n * Wrapped gtag logic when gtag is called with 'config' command.\r\n *\r\n * @param gtagCore Basic gtag function that just appends to dataLayer.\r\n * @param initializationPromisesMap Map of appIds to their initialization promises.\r\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\r\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\r\n * @param measurementId GA Measurement ID to set config for.\r\n * @param gtagParams Gtag config params to set.\r\n */\r\nasync function gtagOnConfig(gtagCore, initializationPromisesMap, dynamicConfigPromisesList, measurementIdToAppId, measurementId, gtagParams) {\r\n    // If config is already fetched, we know the appId and can use it to look up what FID promise we\r\n    /// are waiting for, and wait only on that one.\r\n    const correspondingAppId = measurementIdToAppId[measurementId];\r\n    try {\r\n        if (correspondingAppId) {\r\n            await initializationPromisesMap[correspondingAppId];\r\n        }\r\n        else {\r\n            // If config is not fetched yet, wait for all configs (we don't know which one we need) and\r\n            // find the appId (if any) corresponding to this measurementId. If there is one, wait on\r\n            // that appId's initialization promise. If there is none, promise resolves and gtag\r\n            // call goes through.\r\n            const dynamicConfigResults = await promiseAllSettled(dynamicConfigPromisesList);\r\n            const foundConfig = dynamicConfigResults.find(config => config.measurementId === measurementId);\r\n            if (foundConfig) {\r\n                await initializationPromisesMap[foundConfig.appId];\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        logger.error(e);\r\n    }\r\n    gtagCore(\"config\" /* GtagCommand.CONFIG */, measurementId, gtagParams);\r\n}\r\n/**\r\n * Wrapped gtag logic when gtag is called with 'event' command.\r\n *\r\n * @param gtagCore Basic gtag function that just appends to dataLayer.\r\n * @param initializationPromisesMap Map of appIds to their initialization promises.\r\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\r\n * @param measurementId GA Measurement ID to log event to.\r\n * @param gtagParams Params to log with this event.\r\n */\r\nasync function gtagOnEvent(gtagCore, initializationPromisesMap, dynamicConfigPromisesList, measurementId, gtagParams) {\r\n    try {\r\n        let initializationPromisesToWaitFor = [];\r\n        // If there's a 'send_to' param, check if any ID specified matches\r\n        // an initializeIds() promise we are waiting for.\r\n        if (gtagParams && gtagParams['send_to']) {\r\n            let gaSendToList = gtagParams['send_to'];\r\n            // Make it an array if is isn't, so it can be dealt with the same way.\r\n            if (!Array.isArray(gaSendToList)) {\r\n                gaSendToList = [gaSendToList];\r\n            }\r\n            // Checking 'send_to' fields requires having all measurement ID results back from\r\n            // the dynamic config fetch.\r\n            const dynamicConfigResults = await promiseAllSettled(dynamicConfigPromisesList);\r\n            for (const sendToId of gaSendToList) {\r\n                // Any fetched dynamic measurement ID that matches this 'send_to' ID\r\n                const foundConfig = dynamicConfigResults.find(config => config.measurementId === sendToId);\r\n                const initializationPromise = foundConfig && initializationPromisesMap[foundConfig.appId];\r\n                if (initializationPromise) {\r\n                    initializationPromisesToWaitFor.push(initializationPromise);\r\n                }\r\n                else {\r\n                    // Found an item in 'send_to' that is not associated\r\n                    // directly with an FID, possibly a group.  Empty this array,\r\n                    // exit the loop early, and let it get populated below.\r\n                    initializationPromisesToWaitFor = [];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // This will be unpopulated if there was no 'send_to' field , or\r\n        // if not all entries in the 'send_to' field could be mapped to\r\n        // a FID. In these cases, wait on all pending initialization promises.\r\n        if (initializationPromisesToWaitFor.length === 0) {\r\n            /* eslint-disable-next-line @typescript-eslint/no-floating-promises */\r\n            initializationPromisesToWaitFor = Object.values(initializationPromisesMap);\r\n        }\r\n        // Run core gtag function with args after all relevant initialization\r\n        // promises have been resolved.\r\n        await Promise.all(initializationPromisesToWaitFor);\r\n        // Workaround for http://b/141370449 - third argument cannot be undefined.\r\n        gtagCore(\"event\" /* GtagCommand.EVENT */, measurementId, gtagParams || {});\r\n    }\r\n    catch (e) {\r\n        logger.error(e);\r\n    }\r\n}\r\n/**\r\n * Wraps a standard gtag function with extra code to wait for completion of\r\n * relevant initialization promises before sending requests.\r\n *\r\n * @param gtagCore Basic gtag function that just appends to dataLayer.\r\n * @param initializationPromisesMap Map of appIds to their initialization promises.\r\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\r\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\r\n */\r\nfunction wrapGtag(gtagCore, \r\n/**\r\n * Allows wrapped gtag calls to wait on whichever initialization promises are required,\r\n * depending on the contents of the gtag params' `send_to` field, if any.\r\n */\r\ninitializationPromisesMap, \r\n/**\r\n * Wrapped gtag calls sometimes require all dynamic config fetches to have returned\r\n * before determining what initialization promises (which include FIDs) to wait for.\r\n */\r\ndynamicConfigPromisesList, \r\n/**\r\n * Wrapped gtag config calls can narrow down which initialization promise (with FID)\r\n * to wait for if the measurementId is already fetched, by getting the corresponding appId,\r\n * which is the key for the initialization promises map.\r\n */\r\nmeasurementIdToAppId) {\r\n    /**\r\n     * Wrapper around gtag that ensures FID is sent with gtag calls.\r\n     * @param command Gtag command type.\r\n     * @param idOrNameOrParams Measurement ID if command is EVENT/CONFIG, params if command is SET.\r\n     * @param gtagParams Params if event is EVENT/CONFIG.\r\n     */\r\n    async function gtagWrapper(command, ...args) {\r\n        try {\r\n            // If event, check that relevant initialization promises have completed.\r\n            if (command === \"event\" /* GtagCommand.EVENT */) {\r\n                const [measurementId, gtagParams] = args;\r\n                // If EVENT, second arg must be measurementId.\r\n                await gtagOnEvent(gtagCore, initializationPromisesMap, dynamicConfigPromisesList, measurementId, gtagParams);\r\n            }\r\n            else if (command === \"config\" /* GtagCommand.CONFIG */) {\r\n                const [measurementId, gtagParams] = args;\r\n                // If CONFIG, second arg must be measurementId.\r\n                await gtagOnConfig(gtagCore, initializationPromisesMap, dynamicConfigPromisesList, measurementIdToAppId, measurementId, gtagParams);\r\n            }\r\n            else if (command === \"consent\" /* GtagCommand.CONSENT */) {\r\n                const [consentAction, gtagParams] = args;\r\n                // consentAction can be one of 'default' or 'update'.\r\n                gtagCore(\"consent\" /* GtagCommand.CONSENT */, consentAction, gtagParams);\r\n            }\r\n            else if (command === \"get\" /* GtagCommand.GET */) {\r\n                const [measurementId, fieldName, callback] = args;\r\n                gtagCore(\"get\" /* GtagCommand.GET */, measurementId, fieldName, callback);\r\n            }\r\n            else if (command === \"set\" /* GtagCommand.SET */) {\r\n                const [customParams] = args;\r\n                // If SET, second arg must be params.\r\n                gtagCore(\"set\" /* GtagCommand.SET */, customParams);\r\n            }\r\n            else {\r\n                gtagCore(command, ...args);\r\n            }\r\n        }\r\n        catch (e) {\r\n            logger.error(e);\r\n        }\r\n    }\r\n    return gtagWrapper;\r\n}\r\n/**\r\n * Creates global gtag function or wraps existing one if found.\r\n * This wrapped function attaches Firebase instance ID (FID) to gtag 'config' and\r\n * 'event' calls that belong to the GAID associated with this Firebase instance.\r\n *\r\n * @param initializationPromisesMap Map of appIds to their initialization promises.\r\n * @param dynamicConfigPromisesList Array of dynamic config fetch promises.\r\n * @param measurementIdToAppId Map of GA measurementIDs to corresponding Firebase appId.\r\n * @param dataLayerName Name of global GA datalayer array.\r\n * @param gtagFunctionName Name of global gtag function (\"gtag\" if not user-specified).\r\n */\r\nfunction wrapOrCreateGtag(initializationPromisesMap, dynamicConfigPromisesList, measurementIdToAppId, dataLayerName, gtagFunctionName) {\r\n    // Create a basic core gtag function\r\n    let gtagCore = function (..._args) {\r\n        // Must push IArguments object, not an array.\r\n        window[dataLayerName].push(arguments);\r\n    };\r\n    // Replace it with existing one if found\r\n    if (window[gtagFunctionName] &&\r\n        typeof window[gtagFunctionName] === 'function') {\r\n        // @ts-ignore\r\n        gtagCore = window[gtagFunctionName];\r\n    }\r\n    window[gtagFunctionName] = wrapGtag(gtagCore, initializationPromisesMap, dynamicConfigPromisesList, measurementIdToAppId);\r\n    return {\r\n        gtagCore,\r\n        wrappedGtag: window[gtagFunctionName]\r\n    };\r\n}\r\n/**\r\n * Returns the script tag in the DOM matching both the gtag url pattern\r\n * and the provided data layer name.\r\n */\r\nfunction findGtagScriptOnPage(dataLayerName) {\r\n    const scriptTags = window.document.getElementsByTagName('script');\r\n    for (const tag of Object.values(scriptTags)) {\r\n        if (tag.src &&\r\n            tag.src.includes(GTAG_URL) &&\r\n            tag.src.includes(dataLayerName)) {\r\n            return tag;\r\n        }\r\n    }\r\n    return null;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Backoff factor for 503 errors, which we want to be conservative about\r\n * to avoid overloading servers. Each retry interval will be\r\n * BASE_INTERVAL_MILLIS * LONG_RETRY_FACTOR ^ retryCount, so the second one\r\n * will be ~30 seconds (with fuzzing).\r\n */\r\nconst LONG_RETRY_FACTOR = 30;\r\n/**\r\n * Base wait interval to multiplied by backoffFactor^backoffCount.\r\n */\r\nconst BASE_INTERVAL_MILLIS = 1000;\r\n/**\r\n * Stubbable retry data storage class.\r\n */\r\nclass RetryData {\r\n    constructor(throttleMetadata = {}, intervalMillis = BASE_INTERVAL_MILLIS) {\r\n        this.throttleMetadata = throttleMetadata;\r\n        this.intervalMillis = intervalMillis;\r\n    }\r\n    getThrottleMetadata(appId) {\r\n        return this.throttleMetadata[appId];\r\n    }\r\n    setThrottleMetadata(appId, metadata) {\r\n        this.throttleMetadata[appId] = metadata;\r\n    }\r\n    deleteThrottleMetadata(appId) {\r\n        delete this.throttleMetadata[appId];\r\n    }\r\n}\r\nconst defaultRetryData = new RetryData();\r\n/**\r\n * Set GET request headers.\r\n * @param apiKey App API key.\r\n */\r\nfunction getHeaders(apiKey) {\r\n    return new Headers({\r\n        Accept: 'application/json',\r\n        'x-goog-api-key': apiKey\r\n    });\r\n}\r\n/**\r\n * Fetches dynamic config from backend.\r\n * @param app Firebase app to fetch config for.\r\n */\r\nasync function fetchDynamicConfig(appFields) {\r\n    var _a;\r\n    const { appId, apiKey } = appFields;\r\n    const request = {\r\n        method: 'GET',\r\n        headers: getHeaders(apiKey)\r\n    };\r\n    const appUrl = DYNAMIC_CONFIG_URL.replace('{app-id}', appId);\r\n    const response = await fetch(appUrl, request);\r\n    if (response.status !== 200 && response.status !== 304) {\r\n        let errorMessage = '';\r\n        try {\r\n            // Try to get any error message text from server response.\r\n            const jsonResponse = (await response.json());\r\n            if ((_a = jsonResponse.error) === null || _a === void 0 ? void 0 : _a.message) {\r\n                errorMessage = jsonResponse.error.message;\r\n            }\r\n        }\r\n        catch (_ignored) { }\r\n        throw ERROR_FACTORY.create(\"config-fetch-failed\" /* AnalyticsError.CONFIG_FETCH_FAILED */, {\r\n            httpStatus: response.status,\r\n            responseMessage: errorMessage\r\n        });\r\n    }\r\n    return response.json();\r\n}\r\n/**\r\n * Fetches dynamic config from backend, retrying if failed.\r\n * @param app Firebase app to fetch config for.\r\n */\r\nasync function fetchDynamicConfigWithRetry(app, \r\n// retryData and timeoutMillis are parameterized to allow passing a different value for testing.\r\nretryData = defaultRetryData, timeoutMillis) {\r\n    const { appId, apiKey, measurementId } = app.options;\r\n    if (!appId) {\r\n        throw ERROR_FACTORY.create(\"no-app-id\" /* AnalyticsError.NO_APP_ID */);\r\n    }\r\n    if (!apiKey) {\r\n        if (measurementId) {\r\n            return {\r\n                measurementId,\r\n                appId\r\n            };\r\n        }\r\n        throw ERROR_FACTORY.create(\"no-api-key\" /* AnalyticsError.NO_API_KEY */);\r\n    }\r\n    const throttleMetadata = retryData.getThrottleMetadata(appId) || {\r\n        backoffCount: 0,\r\n        throttleEndTimeMillis: Date.now()\r\n    };\r\n    const signal = new AnalyticsAbortSignal();\r\n    setTimeout(async () => {\r\n        // Note a very low delay, eg < 10ms, can elapse before listeners are initialized.\r\n        signal.abort();\r\n    }, timeoutMillis !== undefined ? timeoutMillis : FETCH_TIMEOUT_MILLIS);\r\n    return attemptFetchDynamicConfigWithRetry({ appId, apiKey, measurementId }, throttleMetadata, signal, retryData);\r\n}\r\n/**\r\n * Runs one retry attempt.\r\n * @param appFields Necessary app config fields.\r\n * @param throttleMetadata Ongoing metadata to determine throttling times.\r\n * @param signal Abort signal.\r\n */\r\nasync function attemptFetchDynamicConfigWithRetry(appFields, { throttleEndTimeMillis, backoffCount }, signal, retryData = defaultRetryData // for testing\r\n) {\r\n    var _a;\r\n    const { appId, measurementId } = appFields;\r\n    // Starts with a (potentially zero) timeout to support resumption from stored state.\r\n    // Ensures the throttle end time is honored if the last attempt timed out.\r\n    // Note the SDK will never make a request if the fetch timeout expires at this point.\r\n    try {\r\n        await setAbortableTimeout(signal, throttleEndTimeMillis);\r\n    }\r\n    catch (e) {\r\n        if (measurementId) {\r\n            logger.warn(`Timed out fetching this Firebase app's measurement ID from the server.` +\r\n                ` Falling back to the measurement ID ${measurementId}` +\r\n                ` provided in the \"measurementId\" field in the local Firebase config. [${e === null || e === void 0 ? void 0 : e.message}]`);\r\n            return { appId, measurementId };\r\n        }\r\n        throw e;\r\n    }\r\n    try {\r\n        const response = await fetchDynamicConfig(appFields);\r\n        // Note the SDK only clears throttle state if response is success or non-retriable.\r\n        retryData.deleteThrottleMetadata(appId);\r\n        return response;\r\n    }\r\n    catch (e) {\r\n        const error = e;\r\n        if (!isRetriableError(error)) {\r\n            retryData.deleteThrottleMetadata(appId);\r\n            if (measurementId) {\r\n                logger.warn(`Failed to fetch this Firebase app's measurement ID from the server.` +\r\n                    ` Falling back to the measurement ID ${measurementId}` +\r\n                    ` provided in the \"measurementId\" field in the local Firebase config. [${error === null || error === void 0 ? void 0 : error.message}]`);\r\n                return { appId, measurementId };\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n        const backoffMillis = Number((_a = error === null || error === void 0 ? void 0 : error.customData) === null || _a === void 0 ? void 0 : _a.httpStatus) === 503\r\n            ? calculateBackoffMillis(backoffCount, retryData.intervalMillis, LONG_RETRY_FACTOR)\r\n            : calculateBackoffMillis(backoffCount, retryData.intervalMillis);\r\n        // Increments backoff state.\r\n        const throttleMetadata = {\r\n            throttleEndTimeMillis: Date.now() + backoffMillis,\r\n            backoffCount: backoffCount + 1\r\n        };\r\n        // Persists state.\r\n        retryData.setThrottleMetadata(appId, throttleMetadata);\r\n        logger.debug(`Calling attemptFetch again in ${backoffMillis} millis`);\r\n        return attemptFetchDynamicConfigWithRetry(appFields, throttleMetadata, signal, retryData);\r\n    }\r\n}\r\n/**\r\n * Supports waiting on a backoff by:\r\n *\r\n * <ul>\r\n *   <li>Promisifying setTimeout, so we can set a timeout in our Promise chain</li>\r\n *   <li>Listening on a signal bus for abort events, just like the Fetch API</li>\r\n *   <li>Failing in the same way the Fetch API fails, so timing out a live request and a throttled\r\n *       request appear the same.</li>\r\n * </ul>\r\n *\r\n * <p>Visible for testing.\r\n */\r\nfunction setAbortableTimeout(signal, throttleEndTimeMillis) {\r\n    return new Promise((resolve, reject) => {\r\n        // Derives backoff from given end time, normalizing negative numbers to zero.\r\n        const backoffMillis = Math.max(throttleEndTimeMillis - Date.now(), 0);\r\n        const timeout = setTimeout(resolve, backoffMillis);\r\n        // Adds listener, rather than sets onabort, because signal is a shared object.\r\n        signal.addEventListener(() => {\r\n            clearTimeout(timeout);\r\n            // If the request completes before this timeout, the rejection has no effect.\r\n            reject(ERROR_FACTORY.create(\"fetch-throttle\" /* AnalyticsError.FETCH_THROTTLE */, {\r\n                throttleEndTimeMillis\r\n            }));\r\n        });\r\n    });\r\n}\r\n/**\r\n * Returns true if the {@link Error} indicates a fetch request may succeed later.\r\n */\r\nfunction isRetriableError(e) {\r\n    if (!(e instanceof FirebaseError) || !e.customData) {\r\n        return false;\r\n    }\r\n    // Uses string index defined by ErrorData, which FirebaseError implements.\r\n    const httpStatus = Number(e.customData['httpStatus']);\r\n    return (httpStatus === 429 ||\r\n        httpStatus === 500 ||\r\n        httpStatus === 503 ||\r\n        httpStatus === 504);\r\n}\r\n/**\r\n * Shims a minimal AbortSignal (copied from Remote Config).\r\n *\r\n * <p>AbortController's AbortSignal conveniently decouples fetch timeout logic from other aspects\r\n * of networking, such as retries. Firebase doesn't use AbortController enough to justify a\r\n * polyfill recommendation, like we do with the Fetch API, but this minimal shim can easily be\r\n * swapped out if/when we do.\r\n */\r\nclass AnalyticsAbortSignal {\r\n    constructor() {\r\n        this.listeners = [];\r\n    }\r\n    addEventListener(listener) {\r\n        this.listeners.push(listener);\r\n    }\r\n    abort() {\r\n        this.listeners.forEach(listener => listener());\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Event parameters to set on 'gtag' during initialization.\r\n */\r\nlet defaultEventParametersForInit;\r\n/**\r\n * Logs an analytics event through the Firebase SDK.\r\n *\r\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\r\n * @param eventName Google Analytics event name, choose from standard list or use a custom string.\r\n * @param eventParams Analytics event parameters.\r\n */\r\nasync function logEvent$1(gtagFunction, initializationPromise, eventName, eventParams, options) {\r\n    if (options && options.global) {\r\n        gtagFunction(\"event\" /* GtagCommand.EVENT */, eventName, eventParams);\r\n        return;\r\n    }\r\n    else {\r\n        const measurementId = await initializationPromise;\r\n        const params = Object.assign(Object.assign({}, eventParams), { 'send_to': measurementId });\r\n        gtagFunction(\"event\" /* GtagCommand.EVENT */, eventName, params);\r\n    }\r\n}\r\n/**\r\n * Set screen_name parameter for this Google Analytics ID.\r\n *\r\n * @deprecated Use {@link logEvent} with `eventName` as 'screen_view' and add relevant `eventParams`.\r\n * See {@link https://firebase.google.com/docs/analytics/screenviews | Track Screenviews}.\r\n *\r\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\r\n * @param screenName Screen name string to set.\r\n */\r\nasync function setCurrentScreen$1(gtagFunction, initializationPromise, screenName, options) {\r\n    if (options && options.global) {\r\n        gtagFunction(\"set\" /* GtagCommand.SET */, { 'screen_name': screenName });\r\n        return Promise.resolve();\r\n    }\r\n    else {\r\n        const measurementId = await initializationPromise;\r\n        gtagFunction(\"config\" /* GtagCommand.CONFIG */, measurementId, {\r\n            update: true,\r\n            'screen_name': screenName\r\n        });\r\n    }\r\n}\r\n/**\r\n * Set user_id parameter for this Google Analytics ID.\r\n *\r\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\r\n * @param id User ID string to set\r\n */\r\nasync function setUserId$1(gtagFunction, initializationPromise, id, options) {\r\n    if (options && options.global) {\r\n        gtagFunction(\"set\" /* GtagCommand.SET */, { 'user_id': id });\r\n        return Promise.resolve();\r\n    }\r\n    else {\r\n        const measurementId = await initializationPromise;\r\n        gtagFunction(\"config\" /* GtagCommand.CONFIG */, measurementId, {\r\n            update: true,\r\n            'user_id': id\r\n        });\r\n    }\r\n}\r\n/**\r\n * Set all other user properties other than user_id and screen_name.\r\n *\r\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\r\n * @param properties Map of user properties to set\r\n */\r\nasync function setUserProperties$1(gtagFunction, initializationPromise, properties, options) {\r\n    if (options && options.global) {\r\n        const flatProperties = {};\r\n        for (const key of Object.keys(properties)) {\r\n            // use dot notation for merge behavior in gtag.js\r\n            flatProperties[`user_properties.${key}`] = properties[key];\r\n        }\r\n        gtagFunction(\"set\" /* GtagCommand.SET */, flatProperties);\r\n        return Promise.resolve();\r\n    }\r\n    else {\r\n        const measurementId = await initializationPromise;\r\n        gtagFunction(\"config\" /* GtagCommand.CONFIG */, measurementId, {\r\n            update: true,\r\n            'user_properties': properties\r\n        });\r\n    }\r\n}\r\n/**\r\n * Retrieves a unique Google Analytics identifier for the web client.\r\n * See {@link https://developers.google.com/analytics/devguides/collection/ga4/reference/config#client_id | client_id}.\r\n *\r\n * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event\r\n */\r\nasync function internalGetGoogleAnalyticsClientId(gtagFunction, initializationPromise) {\r\n    const measurementId = await initializationPromise;\r\n    return new Promise((resolve, reject) => {\r\n        gtagFunction(\"get\" /* GtagCommand.GET */, measurementId, 'client_id', (clientId) => {\r\n            if (!clientId) {\r\n                reject(ERROR_FACTORY.create(\"no-client-id\" /* AnalyticsError.NO_CLIENT_ID */));\r\n            }\r\n            resolve(clientId);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Set whether collection is enabled for this ID.\r\n *\r\n * @param enabled If true, collection is enabled for this ID.\r\n */\r\nasync function setAnalyticsCollectionEnabled$1(initializationPromise, enabled) {\r\n    const measurementId = await initializationPromise;\r\n    window[`ga-disable-${measurementId}`] = !enabled;\r\n}\r\n/**\r\n * Consent parameters to default to during 'gtag' initialization.\r\n */\r\nlet defaultConsentSettingsForInit;\r\n/**\r\n * Sets the variable {@link defaultConsentSettingsForInit} for use in the initialization of\r\n * analytics.\r\n *\r\n * @param consentSettings Maps the applicable end user consent state for gtag.js.\r\n */\r\nfunction _setConsentDefaultForInit(consentSettings) {\r\n    defaultConsentSettingsForInit = consentSettings;\r\n}\r\n/**\r\n * Sets the variable `defaultEventParametersForInit` for use in the initialization of\r\n * analytics.\r\n *\r\n * @param customParams Any custom params the user may pass to gtag.js.\r\n */\r\nfunction _setDefaultEventParametersForInit(customParams) {\r\n    defaultEventParametersForInit = customParams;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function validateIndexedDB() {\r\n    if (!isIndexedDBAvailable()) {\r\n        logger.warn(ERROR_FACTORY.create(\"indexeddb-unavailable\" /* AnalyticsError.INDEXEDDB_UNAVAILABLE */, {\r\n            errorInfo: 'IndexedDB is not available in this environment.'\r\n        }).message);\r\n        return false;\r\n    }\r\n    else {\r\n        try {\r\n            await validateIndexedDBOpenable();\r\n        }\r\n        catch (e) {\r\n            logger.warn(ERROR_FACTORY.create(\"indexeddb-unavailable\" /* AnalyticsError.INDEXEDDB_UNAVAILABLE */, {\r\n                errorInfo: e === null || e === void 0 ? void 0 : e.toString()\r\n            }).message);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Initialize the analytics instance in gtag.js by calling config command with fid.\r\n *\r\n * NOTE: We combine analytics initialization and setting fid together because we want fid to be\r\n * part of the `page_view` event that's sent during the initialization\r\n * @param app Firebase app\r\n * @param gtagCore The gtag function that's not wrapped.\r\n * @param dynamicConfigPromisesList Array of all dynamic config promises.\r\n * @param measurementIdToAppId Maps measurementID to appID.\r\n * @param installations _FirebaseInstallationsInternal instance.\r\n *\r\n * @returns Measurement ID.\r\n */\r\nasync function _initializeAnalytics(app, dynamicConfigPromisesList, measurementIdToAppId, installations, gtagCore, dataLayerName, options) {\r\n    var _a;\r\n    const dynamicConfigPromise = fetchDynamicConfigWithRetry(app);\r\n    // Once fetched, map measurementIds to appId, for ease of lookup in wrapped gtag function.\r\n    dynamicConfigPromise\r\n        .then(config => {\r\n        measurementIdToAppId[config.measurementId] = config.appId;\r\n        if (app.options.measurementId &&\r\n            config.measurementId !== app.options.measurementId) {\r\n            logger.warn(`The measurement ID in the local Firebase config (${app.options.measurementId})` +\r\n                ` does not match the measurement ID fetched from the server (${config.measurementId}).` +\r\n                ` To ensure analytics events are always sent to the correct Analytics property,` +\r\n                ` update the` +\r\n                ` measurement ID field in the local config or remove it from the local config.`);\r\n        }\r\n    })\r\n        .catch(e => logger.error(e));\r\n    // Add to list to track state of all dynamic config promises.\r\n    dynamicConfigPromisesList.push(dynamicConfigPromise);\r\n    const fidPromise = validateIndexedDB().then(envIsValid => {\r\n        if (envIsValid) {\r\n            return installations.getId();\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    });\r\n    const [dynamicConfig, fid] = await Promise.all([\r\n        dynamicConfigPromise,\r\n        fidPromise\r\n    ]);\r\n    // Detect if user has already put the gtag <script> tag on this page with the passed in\r\n    // data layer name.\r\n    if (!findGtagScriptOnPage(dataLayerName)) {\r\n        insertScriptTag(dataLayerName, dynamicConfig.measurementId);\r\n    }\r\n    // Detects if there are consent settings that need to be configured.\r\n    if (defaultConsentSettingsForInit) {\r\n        gtagCore(\"consent\" /* GtagCommand.CONSENT */, 'default', defaultConsentSettingsForInit);\r\n        _setConsentDefaultForInit(undefined);\r\n    }\r\n    // This command initializes gtag.js and only needs to be called once for the entire web app,\r\n    // but since it is idempotent, we can call it multiple times.\r\n    // We keep it together with other initialization logic for better code structure.\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    gtagCore('js', new Date());\r\n    // User config added first. We don't want users to accidentally overwrite\r\n    // base Firebase config properties.\r\n    const configProperties = (_a = options === null || options === void 0 ? void 0 : options.config) !== null && _a !== void 0 ? _a : {};\r\n    // guard against developers accidentally setting properties with prefix `firebase_`\r\n    configProperties[ORIGIN_KEY] = 'firebase';\r\n    configProperties.update = true;\r\n    if (fid != null) {\r\n        configProperties[GA_FID_KEY] = fid;\r\n    }\r\n    // It should be the first config command called on this GA-ID\r\n    // Initialize this GA-ID and set FID on it using the gtag config API.\r\n    // Note: This will trigger a page_view event unless 'send_page_view' is set to false in\r\n    // `configProperties`.\r\n    gtagCore(\"config\" /* GtagCommand.CONFIG */, dynamicConfig.measurementId, configProperties);\r\n    // Detects if there is data that will be set on every event logged from the SDK.\r\n    if (defaultEventParametersForInit) {\r\n        gtagCore(\"set\" /* GtagCommand.SET */, defaultEventParametersForInit);\r\n        _setDefaultEventParametersForInit(undefined);\r\n    }\r\n    return dynamicConfig.measurementId;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Analytics Service class.\r\n */\r\nclass AnalyticsService {\r\n    constructor(app) {\r\n        this.app = app;\r\n    }\r\n    _delete() {\r\n        delete initializationPromisesMap[this.app.options.appId];\r\n        return Promise.resolve();\r\n    }\r\n}\r\n/**\r\n * Maps appId to full initialization promise. Wrapped gtag calls must wait on\r\n * all or some of these, depending on the call's `send_to` param and the status\r\n * of the dynamic config fetches (see below).\r\n */\r\nlet initializationPromisesMap = {};\r\n/**\r\n * List of dynamic config fetch promises. In certain cases, wrapped gtag calls\r\n * wait on all these to be complete in order to determine if it can selectively\r\n * wait for only certain initialization (FID) promises or if it must wait for all.\r\n */\r\nlet dynamicConfigPromisesList = [];\r\n/**\r\n * Maps fetched measurementIds to appId. Populated when the app's dynamic config\r\n * fetch completes. If already populated, gtag config calls can use this to\r\n * selectively wait for only this app's initialization promise (FID) instead of all\r\n * initialization promises.\r\n */\r\nconst measurementIdToAppId = {};\r\n/**\r\n * Name for window global data layer array used by GA: defaults to 'dataLayer'.\r\n */\r\nlet dataLayerName = 'dataLayer';\r\n/**\r\n * Name for window global gtag function used by GA: defaults to 'gtag'.\r\n */\r\nlet gtagName = 'gtag';\r\n/**\r\n * Reproduction of standard gtag function or reference to existing\r\n * gtag function on window object.\r\n */\r\nlet gtagCoreFunction;\r\n/**\r\n * Wrapper around gtag function that ensures FID is sent with all\r\n * relevant event and config calls.\r\n */\r\nlet wrappedGtagFunction;\r\n/**\r\n * Flag to ensure page initialization steps (creation or wrapping of\r\n * dataLayer and gtag script) are only run once per page load.\r\n */\r\nlet globalInitDone = false;\r\n/**\r\n * Configures Firebase Analytics to use custom `gtag` or `dataLayer` names.\r\n * Intended to be used if `gtag.js` script has been installed on\r\n * this page independently of Firebase Analytics, and is using non-default\r\n * names for either the `gtag` function or for `dataLayer`.\r\n * Must be called before calling `getAnalytics()` or it won't\r\n * have any effect.\r\n *\r\n * @public\r\n *\r\n * @param options - Custom gtag and dataLayer names.\r\n */\r\nfunction settings(options) {\r\n    if (globalInitDone) {\r\n        throw ERROR_FACTORY.create(\"already-initialized\" /* AnalyticsError.ALREADY_INITIALIZED */);\r\n    }\r\n    if (options.dataLayerName) {\r\n        dataLayerName = options.dataLayerName;\r\n    }\r\n    if (options.gtagName) {\r\n        gtagName = options.gtagName;\r\n    }\r\n}\r\n/**\r\n * Returns true if no environment mismatch is found.\r\n * If environment mismatches are found, throws an INVALID_ANALYTICS_CONTEXT\r\n * error that also lists details for each mismatch found.\r\n */\r\nfunction warnOnBrowserContextMismatch() {\r\n    const mismatchedEnvMessages = [];\r\n    if (isBrowserExtension()) {\r\n        mismatchedEnvMessages.push('This is a browser extension environment.');\r\n    }\r\n    if (!areCookiesEnabled()) {\r\n        mismatchedEnvMessages.push('Cookies are not available.');\r\n    }\r\n    if (mismatchedEnvMessages.length > 0) {\r\n        const details = mismatchedEnvMessages\r\n            .map((message, index) => `(${index + 1}) ${message}`)\r\n            .join(' ');\r\n        const err = ERROR_FACTORY.create(\"invalid-analytics-context\" /* AnalyticsError.INVALID_ANALYTICS_CONTEXT */, {\r\n            errorInfo: details\r\n        });\r\n        logger.warn(err.message);\r\n    }\r\n}\r\n/**\r\n * Analytics instance factory.\r\n * @internal\r\n */\r\nfunction factory(app, installations, options) {\r\n    warnOnBrowserContextMismatch();\r\n    const appId = app.options.appId;\r\n    if (!appId) {\r\n        throw ERROR_FACTORY.create(\"no-app-id\" /* AnalyticsError.NO_APP_ID */);\r\n    }\r\n    if (!app.options.apiKey) {\r\n        if (app.options.measurementId) {\r\n            logger.warn(`The \"apiKey\" field is empty in the local Firebase config. This is needed to fetch the latest` +\r\n                ` measurement ID for this Firebase app. Falling back to the measurement ID ${app.options.measurementId}` +\r\n                ` provided in the \"measurementId\" field in the local Firebase config.`);\r\n        }\r\n        else {\r\n            throw ERROR_FACTORY.create(\"no-api-key\" /* AnalyticsError.NO_API_KEY */);\r\n        }\r\n    }\r\n    if (initializationPromisesMap[appId] != null) {\r\n        throw ERROR_FACTORY.create(\"already-exists\" /* AnalyticsError.ALREADY_EXISTS */, {\r\n            id: appId\r\n        });\r\n    }\r\n    if (!globalInitDone) {\r\n        // Steps here should only be done once per page: creation or wrapping\r\n        // of dataLayer and global gtag function.\r\n        getOrCreateDataLayer(dataLayerName);\r\n        const { wrappedGtag, gtagCore } = wrapOrCreateGtag(initializationPromisesMap, dynamicConfigPromisesList, measurementIdToAppId, dataLayerName, gtagName);\r\n        wrappedGtagFunction = wrappedGtag;\r\n        gtagCoreFunction = gtagCore;\r\n        globalInitDone = true;\r\n    }\r\n    // Async but non-blocking.\r\n    // This map reflects the completion state of all promises for each appId.\r\n    initializationPromisesMap[appId] = _initializeAnalytics(app, dynamicConfigPromisesList, measurementIdToAppId, installations, gtagCoreFunction, dataLayerName, options);\r\n    const analyticsInstance = new AnalyticsService(app);\r\n    return analyticsInstance;\r\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Returns an {@link Analytics} instance for the given app.\r\n *\r\n * @public\r\n *\r\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\r\n */\r\nfunction getAnalytics(app = getApp()) {\r\n    app = getModularInstance(app);\r\n    // Dependencies\r\n    const analyticsProvider = _getProvider(app, ANALYTICS_TYPE);\r\n    if (analyticsProvider.isInitialized()) {\r\n        return analyticsProvider.getImmediate();\r\n    }\r\n    return initializeAnalytics(app);\r\n}\r\n/**\r\n * Returns an {@link Analytics} instance for the given app.\r\n *\r\n * @public\r\n *\r\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\r\n */\r\nfunction initializeAnalytics(app, options = {}) {\r\n    // Dependencies\r\n    const analyticsProvider = _getProvider(app, ANALYTICS_TYPE);\r\n    if (analyticsProvider.isInitialized()) {\r\n        const existingInstance = analyticsProvider.getImmediate();\r\n        if (deepEqual(options, analyticsProvider.getOptions())) {\r\n            return existingInstance;\r\n        }\r\n        else {\r\n            throw ERROR_FACTORY.create(\"already-initialized\" /* AnalyticsError.ALREADY_INITIALIZED */);\r\n        }\r\n    }\r\n    const analyticsInstance = analyticsProvider.initialize({ options });\r\n    return analyticsInstance;\r\n}\r\n/**\r\n * This is a public static method provided to users that wraps four different checks:\r\n *\r\n * 1. Check if it's not a browser extension environment.\r\n * 2. Check if cookies are enabled in current browser.\r\n * 3. Check if IndexedDB is supported by the browser environment.\r\n * 4. Check if the current browser context is valid for using `IndexedDB.open()`.\r\n *\r\n * @public\r\n *\r\n */\r\nasync function isSupported() {\r\n    if (isBrowserExtension()) {\r\n        return false;\r\n    }\r\n    if (!areCookiesEnabled()) {\r\n        return false;\r\n    }\r\n    if (!isIndexedDBAvailable()) {\r\n        return false;\r\n    }\r\n    try {\r\n        const isDBOpenable = await validateIndexedDBOpenable();\r\n        return isDBOpenable;\r\n    }\r\n    catch (error) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Use gtag `config` command to set `screen_name`.\r\n *\r\n * @public\r\n *\r\n * @deprecated Use {@link logEvent} with `eventName` as 'screen_view' and add relevant `eventParams`.\r\n * See {@link https://firebase.google.com/docs/analytics/screenviews | Track Screenviews}.\r\n *\r\n * @param analyticsInstance - The {@link Analytics} instance.\r\n * @param screenName - Screen name to set.\r\n */\r\nfunction setCurrentScreen(analyticsInstance, screenName, options) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    setCurrentScreen$1(wrappedGtagFunction, initializationPromisesMap[analyticsInstance.app.options.appId], screenName, options).catch(e => logger.error(e));\r\n}\r\n/**\r\n * Retrieves a unique Google Analytics identifier for the web client.\r\n * See {@link https://developers.google.com/analytics/devguides/collection/ga4/reference/config#client_id | client_id}.\r\n *\r\n * @public\r\n *\r\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\r\n */\r\nasync function getGoogleAnalyticsClientId(analyticsInstance) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    return internalGetGoogleAnalyticsClientId(wrappedGtagFunction, initializationPromisesMap[analyticsInstance.app.options.appId]);\r\n}\r\n/**\r\n * Use gtag `config` command to set `user_id`.\r\n *\r\n * @public\r\n *\r\n * @param analyticsInstance - The {@link Analytics} instance.\r\n * @param id - User ID to set.\r\n */\r\nfunction setUserId(analyticsInstance, id, options) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    setUserId$1(wrappedGtagFunction, initializationPromisesMap[analyticsInstance.app.options.appId], id, options).catch(e => logger.error(e));\r\n}\r\n/**\r\n * Use gtag `config` command to set all params specified.\r\n *\r\n * @public\r\n */\r\nfunction setUserProperties(analyticsInstance, properties, options) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    setUserProperties$1(wrappedGtagFunction, initializationPromisesMap[analyticsInstance.app.options.appId], properties, options).catch(e => logger.error(e));\r\n}\r\n/**\r\n * Sets whether Google Analytics collection is enabled for this app on this device.\r\n * Sets global `window['ga-disable-analyticsId'] = true;`\r\n *\r\n * @public\r\n *\r\n * @param analyticsInstance - The {@link Analytics} instance.\r\n * @param enabled - If true, enables collection, if false, disables it.\r\n */\r\nfunction setAnalyticsCollectionEnabled(analyticsInstance, enabled) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    setAnalyticsCollectionEnabled$1(initializationPromisesMap[analyticsInstance.app.options.appId], enabled).catch(e => logger.error(e));\r\n}\r\n/**\r\n * Adds data that will be set on every event logged from the SDK, including automatic ones.\r\n * With gtag's \"set\" command, the values passed persist on the current page and are passed with\r\n * all subsequent events.\r\n * @public\r\n * @param customParams - Any custom params the user may pass to gtag.js.\r\n */\r\nfunction setDefaultEventParameters(customParams) {\r\n    // Check if reference to existing gtag function on window object exists\r\n    if (wrappedGtagFunction) {\r\n        wrappedGtagFunction(\"set\" /* GtagCommand.SET */, customParams);\r\n    }\r\n    else {\r\n        _setDefaultEventParametersForInit(customParams);\r\n    }\r\n}\r\n/**\r\n * Sends a Google Analytics event with given `eventParams`. This method\r\n * automatically associates this logged event with this Firebase web\r\n * app instance on this device.\r\n * List of official event parameters can be found in the gtag.js\r\n * reference documentation:\r\n * {@link https://developers.google.com/gtagjs/reference/ga4-events\r\n * | the GA4 reference documentation}.\r\n *\r\n * @public\r\n */\r\nfunction logEvent(analyticsInstance, eventName, eventParams, options) {\r\n    analyticsInstance = getModularInstance(analyticsInstance);\r\n    logEvent$1(wrappedGtagFunction, initializationPromisesMap[analyticsInstance.app.options.appId], eventName, eventParams, options).catch(e => logger.error(e));\r\n}\r\n/**\r\n * Sets the applicable end user consent state for this web app across all gtag references once\r\n * Firebase Analytics is initialized.\r\n *\r\n * Use the {@link ConsentSettings} to specify individual consent type values. By default consent\r\n * types are set to \"granted\".\r\n * @public\r\n * @param consentSettings - Maps the applicable end user consent state for gtag.js.\r\n */\r\nfunction setConsent(consentSettings) {\r\n    // Check if reference to existing gtag function on window object exists\r\n    if (wrappedGtagFunction) {\r\n        wrappedGtagFunction(\"consent\" /* GtagCommand.CONSENT */, 'update', consentSettings);\r\n    }\r\n    else {\r\n        _setConsentDefaultForInit(consentSettings);\r\n    }\r\n}\n\nconst name = \"@firebase/analytics\";\nconst version = \"0.10.8\";\n\n/**\r\n * The Firebase Analytics Web SDK.\r\n * This SDK does not work in a Node.js environment.\r\n *\r\n * @packageDocumentation\r\n */\r\nfunction registerAnalytics() {\r\n    _registerComponent(new Component(ANALYTICS_TYPE, (container, { options: analyticsOptions }) => {\r\n        // getImmediate for FirebaseApp will always succeed\r\n        const app = container.getProvider('app').getImmediate();\r\n        const installations = container\r\n            .getProvider('installations-internal')\r\n            .getImmediate();\r\n        return factory(app, installations, analyticsOptions);\r\n    }, \"PUBLIC\" /* ComponentType.PUBLIC */));\r\n    _registerComponent(new Component('analytics-internal', internalFactory, \"PRIVATE\" /* ComponentType.PRIVATE */));\r\n    registerVersion(name, version);\r\n    // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\r\n    registerVersion(name, version, 'esm2017');\r\n    function internalFactory(container) {\r\n        try {\r\n            const analytics = container.getProvider(ANALYTICS_TYPE).getImmediate();\r\n            return {\r\n                logEvent: (eventName, eventParams, options) => logEvent(analytics, eventName, eventParams, options)\r\n            };\r\n        }\r\n        catch (e) {\r\n            throw ERROR_FACTORY.create(\"interop-component-reg-failed\" /* AnalyticsError.INTEROP_COMPONENT_REG_FAILED */, {\r\n                reason: e\r\n            });\r\n        }\r\n    }\r\n}\r\nregisterAnalytics();\n\nexport { getAnalytics, getGoogleAnalyticsClientId, initializeAnalytics, isSupported, logEvent, setAnalyticsCollectionEnabled, setConsent, setCurrentScreen, setDefaultEventParameters, setUserId, setUserProperties, settings };\n//# sourceMappingURL=index.esm2017.js.map\n","/*!\n* sweetalert2 v11.15.10\n* Released under the MIT License.\n*/\nfunction _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nfunction _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(_assertClassBrand(s, a));\n}\nfunction _classPrivateFieldInitSpec(e, t, a) {\n  _checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(_assertClassBrand(s, a), r), r;\n}\n\nconst RESTORE_FOCUS_TIMEOUT = 100;\n\n/** @type {GlobalState} */\nconst globalState = {};\nconst focusPreviousActiveElement = () => {\n  if (globalState.previousActiveElement instanceof HTMLElement) {\n    globalState.previousActiveElement.focus();\n    globalState.previousActiveElement = null;\n  } else if (document.body) {\n    document.body.focus();\n  }\n};\n\n/**\n * Restore previous active (focused) element\n *\n * @param {boolean} returnFocus\n * @returns {Promise<void>}\n */\nconst restoreActiveElement = returnFocus => {\n  return new Promise(resolve => {\n    if (!returnFocus) {\n      return resolve();\n    }\n    const x = window.scrollX;\n    const y = window.scrollY;\n    globalState.restoreFocusTimeout = setTimeout(() => {\n      focusPreviousActiveElement();\n      resolve();\n    }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n    window.scrollTo(x, y);\n  });\n};\n\nconst swalPrefix = 'swal2-';\n\n/**\n * @typedef {Record<SwalClass, string>} SwalClasses\n */\n\n/**\n * @typedef {'success' | 'warning' | 'info' | 'question' | 'error'} SwalIcon\n * @typedef {Record<SwalIcon, string>} SwalIcons\n */\n\n/** @type {SwalClass[]} */\nconst classNames = ['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'default-outline', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'draggable', 'dragging'];\nconst swalClasses = classNames.reduce((acc, className) => {\n  acc[className] = swalPrefix + className;\n  return acc;\n}, /** @type {SwalClasses} */{});\n\n/** @type {SwalIcon[]} */\nconst icons = ['success', 'warning', 'info', 'question', 'error'];\nconst iconTypes = icons.reduce((acc, icon) => {\n  acc[icon] = swalPrefix + icon;\n  return acc;\n}, /** @type {SwalIcons} */{});\n\nconst consolePrefix = 'SweetAlert2:';\n\n/**\n * Capitalize the first letter of a string\n *\n * @param {string} str\n * @returns {string}\n */\nconst capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n/**\n * Standardize console warnings\n *\n * @param {string | string[]} message\n */\nconst warn = message => {\n  console.warn(`${consolePrefix} ${typeof message === 'object' ? message.join(' ') : message}`);\n};\n\n/**\n * Standardize console errors\n *\n * @param {string} message\n */\nconst error = message => {\n  console.error(`${consolePrefix} ${message}`);\n};\n\n/**\n * Private global state for `warnOnce`\n *\n * @type {string[]}\n * @private\n */\nconst previousWarnOnceMessages = [];\n\n/**\n * Show a console warning, but only if it hasn't already been shown\n *\n * @param {string} message\n */\nconst warnOnce = message => {\n  if (!previousWarnOnceMessages.includes(message)) {\n    previousWarnOnceMessages.push(message);\n    warn(message);\n  }\n};\n\n/**\n * Show a one-time console warning about deprecated params/methods\n *\n * @param {string} deprecatedParam\n * @param {string?} useInstead\n */\nconst warnAboutDeprecation = function (deprecatedParam) {\n  let useInstead = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  warnOnce(`\"${deprecatedParam}\" is deprecated and will be removed in the next major release.${useInstead ? ` Use \"${useInstead}\" instead.` : ''}`);\n};\n\n/**\n * If `arg` is a function, call it (with no arguments or context) and return the result.\n * Otherwise, just pass the value through\n *\n * @param {Function | any} arg\n * @returns {any}\n */\nconst callIfFunction = arg => typeof arg === 'function' ? arg() : arg;\n\n/**\n * @param {any} arg\n * @returns {boolean}\n */\nconst hasToPromiseFn = arg => arg && typeof arg.toPromise === 'function';\n\n/**\n * @param {any} arg\n * @returns {Promise<any>}\n */\nconst asPromise = arg => hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n\n/**\n * @param {any} arg\n * @returns {boolean}\n */\nconst isPromise = arg => arg && Promise.resolve(arg) === arg;\n\n/**\n * Gets the popup container which contains the backdrop and the popup itself.\n *\n * @returns {HTMLElement | null}\n */\nconst getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\n\n/**\n * @param {string} selectorString\n * @returns {HTMLElement | null}\n */\nconst elementBySelector = selectorString => {\n  const container = getContainer();\n  return container ? container.querySelector(selectorString) : null;\n};\n\n/**\n * @param {string} className\n * @returns {HTMLElement | null}\n */\nconst elementByClass = className => {\n  return elementBySelector(`.${className}`);\n};\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getPopup = () => elementByClass(swalClasses.popup);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getIcon = () => elementByClass(swalClasses.icon);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getIconContent = () => elementByClass(swalClasses['icon-content']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getTitle = () => elementByClass(swalClasses.title);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getHtmlContainer = () => elementByClass(swalClasses['html-container']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getImage = () => elementByClass(swalClasses.image);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getValidationMessage = () => elementByClass(swalClasses['validation-message']);\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getConfirmButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`));\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getCancelButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`));\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getDenyButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`));\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getInputLabel = () => elementByClass(swalClasses['input-label']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getLoader = () => elementBySelector(`.${swalClasses.loader}`);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getActions = () => elementByClass(swalClasses.actions);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getFooter = () => elementByClass(swalClasses.footer);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getCloseButton = () => elementByClass(swalClasses.close);\n\n// https://github.com/jkup/focusable/blob/master/index.js\nconst focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\n/**\n * @returns {HTMLElement[]}\n */\nconst getFocusableElements = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return [];\n  }\n  /** @type {NodeListOf<HTMLElement>} */\n  const focusableElementsWithTabindex = popup.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])');\n  const focusableElementsWithTabindexSorted = Array.from(focusableElementsWithTabindex)\n  // sort according to tabindex\n  .sort((a, b) => {\n    const tabindexA = parseInt(a.getAttribute('tabindex') || '0');\n    const tabindexB = parseInt(b.getAttribute('tabindex') || '0');\n    if (tabindexA > tabindexB) {\n      return 1;\n    } else if (tabindexA < tabindexB) {\n      return -1;\n    }\n    return 0;\n  });\n\n  /** @type {NodeListOf<HTMLElement>} */\n  const otherFocusableElements = popup.querySelectorAll(focusable);\n  const otherFocusableElementsFiltered = Array.from(otherFocusableElements).filter(el => el.getAttribute('tabindex') !== '-1');\n  return [...new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))].filter(el => isVisible$1(el));\n};\n\n/**\n * @returns {boolean}\n */\nconst isModal = () => {\n  return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n};\n\n/**\n * @returns {boolean}\n */\nconst isToast = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  return hasClass(popup, swalClasses.toast);\n};\n\n/**\n * @returns {boolean}\n */\nconst isLoading = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  return popup.hasAttribute('data-loading');\n};\n\n/**\n * Securely set innerHTML of an element\n * https://github.com/sweetalert2/sweetalert2/issues/1926\n *\n * @param {HTMLElement} elem\n * @param {string} html\n */\nconst setInnerHtml = (elem, html) => {\n  elem.textContent = '';\n  if (html) {\n    const parser = new DOMParser();\n    const parsed = parser.parseFromString(html, `text/html`);\n    const head = parsed.querySelector('head');\n    if (head) {\n      Array.from(head.childNodes).forEach(child => {\n        elem.appendChild(child);\n      });\n    }\n    const body = parsed.querySelector('body');\n    if (body) {\n      Array.from(body.childNodes).forEach(child => {\n        if (child instanceof HTMLVideoElement || child instanceof HTMLAudioElement) {\n          elem.appendChild(child.cloneNode(true)); // https://github.com/sweetalert2/sweetalert2/issues/2507\n        } else {\n          elem.appendChild(child);\n        }\n      });\n    }\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {boolean}\n */\nconst hasClass = (elem, className) => {\n  if (!className) {\n    return false;\n  }\n  const classList = className.split(/\\s+/);\n  for (let i = 0; i < classList.length; i++) {\n    if (!elem.classList.contains(classList[i])) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {SweetAlertOptions} params\n */\nconst removeCustomClasses = (elem, params) => {\n  Array.from(elem.classList).forEach(className => {\n    if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass || {}).includes(className)) {\n      elem.classList.remove(className);\n    }\n  });\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {SweetAlertOptions} params\n * @param {string} className\n */\nconst applyCustomClass = (elem, params, className) => {\n  removeCustomClasses(elem, params);\n  if (!params.customClass) {\n    return;\n  }\n  const customClass = params.customClass[(/** @type {keyof SweetAlertCustomClass} */className)];\n  if (!customClass) {\n    return;\n  }\n  if (typeof customClass !== 'string' && !customClass.forEach) {\n    warn(`Invalid type of customClass.${className}! Expected string or iterable object, got \"${typeof customClass}\"`);\n    return;\n  }\n  addClass(elem, customClass);\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass\n * @returns {HTMLInputElement | null}\n */\nconst getInput$1 = (popup, inputClass) => {\n  if (!inputClass) {\n    return null;\n  }\n  switch (inputClass) {\n    case 'select':\n    case 'textarea':\n    case 'file':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses[inputClass]}`);\n    case 'checkbox':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);\n    case 'radio':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`) || popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);\n    case 'range':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);\n    default:\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`);\n  }\n};\n\n/**\n * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input\n */\nconst focusInput = input => {\n  input.focus();\n\n  // place cursor at end of text in text input\n  if (input.type !== 'file') {\n    // http://stackoverflow.com/a/2345915\n    const val = input.value;\n    input.value = '';\n    input.value = val;\n  }\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n * @param {boolean} condition\n */\nconst toggleClass = (target, classList, condition) => {\n  if (!target || !classList) {\n    return;\n  }\n  if (typeof classList === 'string') {\n    classList = classList.split(/\\s+/).filter(Boolean);\n  }\n  classList.forEach(className => {\n    if (Array.isArray(target)) {\n      target.forEach(elem => {\n        if (condition) {\n          elem.classList.add(className);\n        } else {\n          elem.classList.remove(className);\n        }\n      });\n    } else {\n      if (condition) {\n        target.classList.add(className);\n      } else {\n        target.classList.remove(className);\n      }\n    }\n  });\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n */\nconst addClass = (target, classList) => {\n  toggleClass(target, classList, true);\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n */\nconst removeClass = (target, classList) => {\n  toggleClass(target, classList, false);\n};\n\n/**\n * Get direct child of an element by class name\n *\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {HTMLElement | undefined}\n */\nconst getDirectChildByClass = (elem, className) => {\n  const children = Array.from(elem.children);\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (child instanceof HTMLElement && hasClass(child, className)) {\n      return child;\n    }\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {string} property\n * @param {*} value\n */\nconst applyNumericalStyle = (elem, property, value) => {\n  if (value === `${parseInt(value)}`) {\n    value = parseInt(value);\n  }\n  if (value || parseInt(value) === 0) {\n    elem.style.setProperty(property, typeof value === 'number' ? `${value}px` : value);\n  } else {\n    elem.style.removeProperty(property);\n  }\n};\n\n/**\n * @param {HTMLElement | null} elem\n * @param {string} display\n */\nconst show = function (elem) {\n  let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n  if (!elem) {\n    return;\n  }\n  elem.style.display = display;\n};\n\n/**\n * @param {HTMLElement | null} elem\n */\nconst hide = elem => {\n  if (!elem) {\n    return;\n  }\n  elem.style.display = 'none';\n};\n\n/**\n * @param {HTMLElement | null} elem\n * @param {string} display\n */\nconst showWhenInnerHtmlPresent = function (elem) {\n  let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'block';\n  if (!elem) {\n    return;\n  }\n  new MutationObserver(() => {\n    toggle(elem, elem.innerHTML, display);\n  }).observe(elem, {\n    childList: true,\n    subtree: true\n  });\n};\n\n/**\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {string} property\n * @param {string} value\n */\nconst setStyle = (parent, selector, property, value) => {\n  /** @type {HTMLElement | null} */\n  const el = parent.querySelector(selector);\n  if (el) {\n    el.style.setProperty(property, value);\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {any} condition\n * @param {string} display\n */\nconst toggle = function (elem, condition) {\n  let display = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flex';\n  if (condition) {\n    show(elem, display);\n  } else {\n    hide(elem);\n  }\n};\n\n/**\n * borrowed from jquery $(elem).is(':visible') implementation\n *\n * @param {HTMLElement | null} elem\n * @returns {boolean}\n */\nconst isVisible$1 = elem => !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n\n/**\n * @returns {boolean}\n */\nconst allButtonsAreHidden = () => !isVisible$1(getConfirmButton()) && !isVisible$1(getDenyButton()) && !isVisible$1(getCancelButton());\n\n/**\n * @param {HTMLElement} elem\n * @returns {boolean}\n */\nconst isScrollable = elem => !!(elem.scrollHeight > elem.clientHeight);\n\n/**\n * borrowed from https://stackoverflow.com/a/46352119\n *\n * @param {HTMLElement} elem\n * @returns {boolean}\n */\nconst hasCssAnimation = elem => {\n  const style = window.getComputedStyle(elem);\n  const animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n  const transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n  return animDuration > 0 || transDuration > 0;\n};\n\n/**\n * @param {number} timer\n * @param {boolean} reset\n */\nconst animateTimerProgressBar = function (timer) {\n  let reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const timerProgressBar = getTimerProgressBar();\n  if (!timerProgressBar) {\n    return;\n  }\n  if (isVisible$1(timerProgressBar)) {\n    if (reset) {\n      timerProgressBar.style.transition = 'none';\n      timerProgressBar.style.width = '100%';\n    }\n    setTimeout(() => {\n      timerProgressBar.style.transition = `width ${timer / 1000}s linear`;\n      timerProgressBar.style.width = '0%';\n    }, 10);\n  }\n};\nconst stopTimerProgressBar = () => {\n  const timerProgressBar = getTimerProgressBar();\n  if (!timerProgressBar) {\n    return;\n  }\n  const timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  timerProgressBar.style.removeProperty('transition');\n  timerProgressBar.style.width = '100%';\n  const timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  const timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n  timerProgressBar.style.width = `${timerProgressBarPercent}%`;\n};\n\n/**\n * Detect Node env\n *\n * @returns {boolean}\n */\nconst isNodeEnv = () => typeof window === 'undefined' || typeof document === 'undefined';\n\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" id=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\" id=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" id=\"${swalClasses.checkbox}\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\" id=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\n/**\n * @returns {boolean}\n */\nconst resetOldContainer = () => {\n  const oldContainer = getContainer();\n  if (!oldContainer) {\n    return false;\n  }\n  oldContainer.remove();\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\nconst resetValidationMessage$1 = () => {\n  globalState.currentInstance.resetValidationMessage();\n};\nconst addInputChangeListeners = () => {\n  const popup = getPopup();\n  const input = getDirectChildByClass(popup, swalClasses.input);\n  const file = getDirectChildByClass(popup, swalClasses.file);\n  /** @type {HTMLInputElement} */\n  const range = popup.querySelector(`.${swalClasses.range} input`);\n  /** @type {HTMLOutputElement} */\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  /** @type {HTMLInputElement} */\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n  input.oninput = resetValidationMessage$1;\n  file.onchange = resetValidationMessage$1;\n  select.onchange = resetValidationMessage$1;\n  checkbox.onchange = resetValidationMessage$1;\n  textarea.oninput = resetValidationMessage$1;\n  range.oninput = () => {\n    resetValidationMessage$1();\n    rangeOutput.value = range.value;\n  };\n  range.onchange = () => {\n    resetValidationMessage$1();\n    rangeOutput.value = range.value;\n  };\n};\n\n/**\n * @param {string | HTMLElement} target\n * @returns {HTMLElement}\n */\nconst getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst setupAccessibility = params => {\n  const popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n\n/**\n * @param {HTMLElement} targetElement\n */\nconst setupRTL = targetElement => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n\n/**\n * Add modal + backdrop + no-war message for Russians to DOM\n *\n * @param {SweetAlertOptions} params\n */\nconst init = params => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer();\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n  const container = document.createElement('div');\n  container.className = swalClasses.container;\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n  setInnerHtml(container, sweetHTML);\n  const targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n};\n\n/**\n * @param {HTMLElement | object | string} param\n * @param {HTMLElement} target\n */\nconst parseHtmlToContainer = (param, target) => {\n  // DOM element\n  if (param instanceof HTMLElement) {\n    target.appendChild(param);\n  }\n\n  // Object\n  else if (typeof param === 'object') {\n    handleObject(param, target);\n  }\n\n  // Plain string\n  else if (param) {\n    setInnerHtml(target, param);\n  }\n};\n\n/**\n * @param {any} param\n * @param {HTMLElement} target\n */\nconst handleObject = (param, target) => {\n  // JQuery element(s)\n  if (param.jquery) {\n    handleJqueryElem(target, param);\n  }\n\n  // For other objects use their string representation\n  else {\n    setInnerHtml(target, param.toString());\n  }\n};\n\n/**\n * @param {HTMLElement} target\n * @param {any} elem\n */\nconst handleJqueryElem = (target, elem) => {\n  target.textContent = '';\n  if (0 in elem) {\n    for (let i = 0; i in elem; i++) {\n      target.appendChild(elem[i].cloneNode(true));\n    }\n  } else {\n    target.appendChild(elem.cloneNode(true));\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderActions = (instance, params) => {\n  const actions = getActions();\n  const loader = getLoader();\n  if (!actions || !loader) {\n    return;\n  }\n\n  // Actions (buttons) wrapper\n  if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n    hide(actions);\n  } else {\n    show(actions);\n  }\n\n  // Custom class\n  applyCustomClass(actions, params, 'actions');\n\n  // Render all the buttons\n  renderButtons(actions, loader, params);\n\n  // Loader\n  setInnerHtml(loader, params.loaderHtml || '');\n  applyCustomClass(loader, params, 'loader');\n};\n\n/**\n * @param {HTMLElement} actions\n * @param {HTMLElement} loader\n * @param {SweetAlertOptions} params\n */\nfunction renderButtons(actions, loader, params) {\n  const confirmButton = getConfirmButton();\n  const denyButton = getDenyButton();\n  const cancelButton = getCancelButton();\n  if (!confirmButton || !denyButton || !cancelButton) {\n    return;\n  }\n\n  // Render buttons\n  renderButton(confirmButton, 'confirm', params);\n  renderButton(denyButton, 'deny', params);\n  renderButton(cancelButton, 'cancel', params);\n  handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n  if (params.reverseButtons) {\n    if (params.toast) {\n      actions.insertBefore(cancelButton, confirmButton);\n      actions.insertBefore(denyButton, confirmButton);\n    } else {\n      actions.insertBefore(cancelButton, loader);\n      actions.insertBefore(denyButton, loader);\n      actions.insertBefore(confirmButton, loader);\n    }\n  }\n}\n\n/**\n * @param {HTMLElement} confirmButton\n * @param {HTMLElement} denyButton\n * @param {HTMLElement} cancelButton\n * @param {SweetAlertOptions} params\n */\nfunction handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n  if (!params.buttonsStyling) {\n    removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n    return;\n  }\n  addClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n\n  // Buttons background colors\n  if (params.confirmButtonColor) {\n    confirmButton.style.backgroundColor = params.confirmButtonColor;\n    addClass(confirmButton, swalClasses['default-outline']);\n  }\n  if (params.denyButtonColor) {\n    denyButton.style.backgroundColor = params.denyButtonColor;\n    addClass(denyButton, swalClasses['default-outline']);\n  }\n  if (params.cancelButtonColor) {\n    cancelButton.style.backgroundColor = params.cancelButtonColor;\n    addClass(cancelButton, swalClasses['default-outline']);\n  }\n}\n\n/**\n * @param {HTMLElement} button\n * @param {'confirm' | 'deny' | 'cancel'} buttonType\n * @param {SweetAlertOptions} params\n */\nfunction renderButton(button, buttonType, params) {\n  const buttonName = /** @type {'Confirm' | 'Deny' | 'Cancel'} */capitalizeFirstLetter(buttonType);\n  toggle(button, params[`show${buttonName}Button`], 'inline-block');\n  setInnerHtml(button, params[`${buttonType}ButtonText`] || ''); // Set caption text\n  button.setAttribute('aria-label', params[`${buttonType}ButtonAriaLabel`] || ''); // ARIA label\n\n  // Add buttons custom classes\n  button.className = swalClasses[buttonType];\n  applyCustomClass(button, params, `${buttonType}Button`);\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderCloseButton = (instance, params) => {\n  const closeButton = getCloseButton();\n  if (!closeButton) {\n    return;\n  }\n  setInnerHtml(closeButton, params.closeButtonHtml || '');\n\n  // Custom class\n  applyCustomClass(closeButton, params, 'closeButton');\n  toggle(closeButton, params.showCloseButton);\n  closeButton.setAttribute('aria-label', params.closeButtonAriaLabel || '');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderContainer = (instance, params) => {\n  const container = getContainer();\n  if (!container) {\n    return;\n  }\n  handleBackdropParam(container, params.backdrop);\n  handlePositionParam(container, params.position);\n  handleGrowParam(container, params.grow);\n\n  // Custom class\n  applyCustomClass(container, params, 'container');\n};\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['backdrop']} backdrop\n */\nfunction handleBackdropParam(container, backdrop) {\n  if (typeof backdrop === 'string') {\n    container.style.background = backdrop;\n  } else if (!backdrop) {\n    addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n  }\n}\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['position']} position\n */\nfunction handlePositionParam(container, position) {\n  if (!position) {\n    return;\n  }\n  if (position in swalClasses) {\n    addClass(container, swalClasses[position]);\n  } else {\n    warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n    addClass(container, swalClasses.center);\n  }\n}\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['grow']} grow\n */\nfunction handleGrowParam(container, grow) {\n  if (!grow) {\n    return;\n  }\n  addClass(container, swalClasses[`grow-${grow}`]);\n}\n\n/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\n\nvar privateProps = {\n  innerParams: new WeakMap(),\n  domCache: new WeakMap()\n};\n\n/// <reference path=\"../../../../sweetalert2.d.ts\"/>\n\n\n/** @type {InputClass[]} */\nconst inputClasses = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderInput = (instance, params) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const innerParams = privateProps.innerParams.get(instance);\n  const rerender = !innerParams || params.input !== innerParams.input;\n  inputClasses.forEach(inputClass => {\n    const inputContainer = getDirectChildByClass(popup, swalClasses[inputClass]);\n    if (!inputContainer) {\n      return;\n    }\n\n    // set attributes\n    setAttributes(inputClass, params.inputAttributes);\n\n    // set class\n    inputContainer.className = swalClasses[inputClass];\n    if (rerender) {\n      hide(inputContainer);\n    }\n  });\n  if (params.input) {\n    if (rerender) {\n      showInput(params);\n    }\n    // set custom class\n    setCustomClass(params);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst showInput = params => {\n  if (!params.input) {\n    return;\n  }\n  if (!renderInputType[params.input]) {\n    error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(' | ')}, got \"${params.input}\"`);\n    return;\n  }\n  const inputContainer = getInputContainer(params.input);\n  if (!inputContainer) {\n    return;\n  }\n  const input = renderInputType[params.input](inputContainer, params);\n  show(inputContainer);\n\n  // input autofocus\n  if (params.inputAutoFocus) {\n    setTimeout(() => {\n      focusInput(input);\n    });\n  }\n};\n\n/**\n * @param {HTMLInputElement} input\n */\nconst removeAttributes = input => {\n  for (let i = 0; i < input.attributes.length; i++) {\n    const attrName = input.attributes[i].name;\n    if (!['id', 'type', 'value', 'style'].includes(attrName)) {\n      input.removeAttribute(attrName);\n    }\n  }\n};\n\n/**\n * @param {InputClass} inputClass\n * @param {SweetAlertOptions['inputAttributes']} inputAttributes\n */\nconst setAttributes = (inputClass, inputAttributes) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const input = getInput$1(popup, inputClass);\n  if (!input) {\n    return;\n  }\n  removeAttributes(input);\n  for (const attr in inputAttributes) {\n    input.setAttribute(attr, inputAttributes[attr]);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst setCustomClass = params => {\n  if (!params.input) {\n    return;\n  }\n  const inputContainer = getInputContainer(params.input);\n  if (inputContainer) {\n    applyCustomClass(inputContainer, params, 'input');\n  }\n};\n\n/**\n * @param {HTMLInputElement | HTMLTextAreaElement} input\n * @param {SweetAlertOptions} params\n */\nconst setInputPlaceholder = (input, params) => {\n  if (!input.placeholder && params.inputPlaceholder) {\n    input.placeholder = params.inputPlaceholder;\n  }\n};\n\n/**\n * @param {Input} input\n * @param {Input} prependTo\n * @param {SweetAlertOptions} params\n */\nconst setInputLabel = (input, prependTo, params) => {\n  if (params.inputLabel) {\n    const label = document.createElement('label');\n    const labelClass = swalClasses['input-label'];\n    label.setAttribute('for', input.id);\n    label.className = labelClass;\n    if (typeof params.customClass === 'object') {\n      addClass(label, params.customClass.inputLabel);\n    }\n    label.innerText = params.inputLabel;\n    prependTo.insertAdjacentElement('beforebegin', label);\n  }\n};\n\n/**\n * @param {SweetAlertInput} inputType\n * @returns {HTMLElement | undefined}\n */\nconst getInputContainer = inputType => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  return getDirectChildByClass(popup, swalClasses[(/** @type {SwalClass} */inputType)] || swalClasses.input);\n};\n\n/**\n * @param {HTMLInputElement | HTMLOutputElement | HTMLTextAreaElement} input\n * @param {SweetAlertOptions['inputValue']} inputValue\n */\nconst checkAndSetInputValue = (input, inputValue) => {\n  if (['string', 'number'].includes(typeof inputValue)) {\n    input.value = `${inputValue}`;\n  } else if (!isPromise(inputValue)) {\n    warn(`Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"${typeof inputValue}\"`);\n  }\n};\n\n/** @type {Record<SweetAlertInput, (input: Input | HTMLElement, params: SweetAlertOptions) => Input>} */\nconst renderInputType = {};\n\n/**\n * @param {HTMLInputElement} input\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = renderInputType.search = renderInputType.date = renderInputType['datetime-local'] = renderInputType.time = renderInputType.week = renderInputType.month = /** @type {(input: Input | HTMLElement, params: SweetAlertOptions) => Input} */\n(input, params) => {\n  checkAndSetInputValue(input, params.inputValue);\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  input.type = params.input;\n  return input;\n};\n\n/**\n * @param {HTMLInputElement} input\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.file = (input, params) => {\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  return input;\n};\n\n/**\n * @param {HTMLInputElement} range\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.range = (range, params) => {\n  const rangeInput = range.querySelector('input');\n  const rangeOutput = range.querySelector('output');\n  checkAndSetInputValue(rangeInput, params.inputValue);\n  rangeInput.type = params.input;\n  checkAndSetInputValue(rangeOutput, params.inputValue);\n  setInputLabel(rangeInput, range, params);\n  return range;\n};\n\n/**\n * @param {HTMLSelectElement} select\n * @param {SweetAlertOptions} params\n * @returns {HTMLSelectElement}\n */\nrenderInputType.select = (select, params) => {\n  select.textContent = '';\n  if (params.inputPlaceholder) {\n    const placeholder = document.createElement('option');\n    setInnerHtml(placeholder, params.inputPlaceholder);\n    placeholder.value = '';\n    placeholder.disabled = true;\n    placeholder.selected = true;\n    select.appendChild(placeholder);\n  }\n  setInputLabel(select, select, params);\n  return select;\n};\n\n/**\n * @param {HTMLInputElement} radio\n * @returns {HTMLInputElement}\n */\nrenderInputType.radio = radio => {\n  radio.textContent = '';\n  return radio;\n};\n\n/**\n * @param {HTMLLabelElement} checkboxContainer\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.checkbox = (checkboxContainer, params) => {\n  const checkbox = getInput$1(getPopup(), 'checkbox');\n  checkbox.value = '1';\n  checkbox.checked = Boolean(params.inputValue);\n  const label = checkboxContainer.querySelector('span');\n  setInnerHtml(label, params.inputPlaceholder || params.inputLabel);\n  return checkbox;\n};\n\n/**\n * @param {HTMLTextAreaElement} textarea\n * @param {SweetAlertOptions} params\n * @returns {HTMLTextAreaElement}\n */\nrenderInputType.textarea = (textarea, params) => {\n  checkAndSetInputValue(textarea, params.inputValue);\n  setInputPlaceholder(textarea, params);\n  setInputLabel(textarea, textarea, params);\n\n  /**\n   * @param {HTMLElement} el\n   * @returns {number}\n   */\n  const getMargin = el => parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n\n  // https://github.com/sweetalert2/sweetalert2/issues/2291\n  setTimeout(() => {\n    // https://github.com/sweetalert2/sweetalert2/issues/1699\n    if ('MutationObserver' in window) {\n      const initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n      const textareaResizeHandler = () => {\n        // check if texarea is still in document (i.e. popup wasn't closed in the meantime)\n        if (!document.body.contains(textarea)) {\n          return;\n        }\n        const textareaWidth = textarea.offsetWidth + getMargin(textarea);\n        if (textareaWidth > initialPopupWidth) {\n          getPopup().style.width = `${textareaWidth}px`;\n        } else {\n          applyNumericalStyle(getPopup(), 'width', params.width);\n        }\n      };\n      new MutationObserver(textareaResizeHandler).observe(textarea, {\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  });\n  return textarea;\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderContent = (instance, params) => {\n  const htmlContainer = getHtmlContainer();\n  if (!htmlContainer) {\n    return;\n  }\n  showWhenInnerHtmlPresent(htmlContainer);\n  applyCustomClass(htmlContainer, params, 'htmlContainer');\n\n  // Content as HTML\n  if (params.html) {\n    parseHtmlToContainer(params.html, htmlContainer);\n    show(htmlContainer, 'block');\n  }\n\n  // Content as plain text\n  else if (params.text) {\n    htmlContainer.textContent = params.text;\n    show(htmlContainer, 'block');\n  }\n\n  // No content\n  else {\n    hide(htmlContainer);\n  }\n  renderInput(instance, params);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderFooter = (instance, params) => {\n  const footer = getFooter();\n  if (!footer) {\n    return;\n  }\n  showWhenInnerHtmlPresent(footer);\n  toggle(footer, params.footer, 'block');\n  if (params.footer) {\n    parseHtmlToContainer(params.footer, footer);\n  }\n\n  // Custom class\n  applyCustomClass(footer, params, 'footer');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderIcon = (instance, params) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  const icon = getIcon();\n  if (!icon) {\n    return;\n  }\n\n  // if the given icon already rendered, apply the styling without re-rendering the icon\n  if (innerParams && params.icon === innerParams.icon) {\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n    return;\n  }\n  if (!params.icon && !params.iconHtml) {\n    hide(icon);\n    return;\n  }\n  if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n    error(`Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"${params.icon}\"`);\n    hide(icon);\n    return;\n  }\n  show(icon);\n\n  // Custom or default content\n  setContent(icon, params);\n  applyStyles(icon, params);\n\n  // Animate icon\n  addClass(icon, params.showClass && params.showClass.icon);\n};\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst applyStyles = (icon, params) => {\n  for (const [iconType, iconClassName] of Object.entries(iconTypes)) {\n    if (params.icon !== iconType) {\n      removeClass(icon, iconClassName);\n    }\n  }\n  addClass(icon, params.icon && iconTypes[params.icon]);\n\n  // Icon color\n  setColor(icon, params);\n\n  // Success icon background color\n  adjustSuccessIconBackgroundColor();\n\n  // Custom class\n  applyCustomClass(icon, params, 'icon');\n};\n\n// Adjust success icon background color to match the popup background color\nconst adjustSuccessIconBackgroundColor = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n  /** @type {NodeListOf<HTMLElement>} */\n  const successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n  for (let i = 0; i < successIconParts.length; i++) {\n    successIconParts[i].style.backgroundColor = popupBackgroundColor;\n  }\n};\nconst successIconHtml = `\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n`;\nconst errorIconHtml = `\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n`;\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst setContent = (icon, params) => {\n  if (!params.icon && !params.iconHtml) {\n    return;\n  }\n  let oldContent = icon.innerHTML;\n  let newContent = '';\n  if (params.iconHtml) {\n    newContent = iconContent(params.iconHtml);\n  } else if (params.icon === 'success') {\n    newContent = successIconHtml;\n    oldContent = oldContent.replace(/ style=\".*?\"/g, ''); // undo adjustSuccessIconBackgroundColor()\n  } else if (params.icon === 'error') {\n    newContent = errorIconHtml;\n  } else if (params.icon) {\n    const defaultIconHtml = {\n      question: '?',\n      warning: '!',\n      info: 'i'\n    };\n    newContent = iconContent(defaultIconHtml[params.icon]);\n  }\n  if (oldContent.trim() !== newContent.trim()) {\n    setInnerHtml(icon, newContent);\n  }\n};\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst setColor = (icon, params) => {\n  if (!params.iconColor) {\n    return;\n  }\n  icon.style.color = params.iconColor;\n  icon.style.borderColor = params.iconColor;\n  for (const sel of ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']) {\n    setStyle(icon, sel, 'background-color', params.iconColor);\n  }\n  setStyle(icon, '.swal2-success-ring', 'border-color', params.iconColor);\n};\n\n/**\n * @param {string} content\n * @returns {string}\n */\nconst iconContent = content => `<div class=\"${swalClasses['icon-content']}\">${content}</div>`;\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderImage = (instance, params) => {\n  const image = getImage();\n  if (!image) {\n    return;\n  }\n  if (!params.imageUrl) {\n    hide(image);\n    return;\n  }\n  show(image, '');\n\n  // Src, alt\n  image.setAttribute('src', params.imageUrl);\n  image.setAttribute('alt', params.imageAlt || '');\n\n  // Width, height\n  applyNumericalStyle(image, 'width', params.imageWidth);\n  applyNumericalStyle(image, 'height', params.imageHeight);\n\n  // Class\n  image.className = swalClasses.image;\n  applyCustomClass(image, params, 'image');\n};\n\nlet dragging = false;\nlet mousedownX = 0;\nlet mousedownY = 0;\nlet initialX = 0;\nlet initialY = 0;\n\n/**\n * @param {HTMLElement} popup\n */\nconst addDraggableListeners = popup => {\n  popup.addEventListener('mousedown', down);\n  document.body.addEventListener('mousemove', move);\n  popup.addEventListener('mouseup', up);\n  popup.addEventListener('touchstart', down);\n  document.body.addEventListener('touchmove', move);\n  popup.addEventListener('touchend', up);\n};\n\n/**\n * @param {HTMLElement} popup\n */\nconst removeDraggableListeners = popup => {\n  popup.removeEventListener('mousedown', down);\n  document.body.removeEventListener('mousemove', move);\n  popup.removeEventListener('mouseup', up);\n  popup.removeEventListener('touchstart', down);\n  document.body.removeEventListener('touchmove', move);\n  popup.removeEventListener('touchend', up);\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n */\nconst down = event => {\n  const popup = getPopup();\n  if (event.target === popup || getIcon().contains(/** @type {HTMLElement} */event.target)) {\n    dragging = true;\n    const clientXY = getClientXY(event);\n    mousedownX = clientXY.clientX;\n    mousedownY = clientXY.clientY;\n    initialX = parseInt(popup.style.insetInlineStart) || 0;\n    initialY = parseInt(popup.style.insetBlockStart) || 0;\n    addClass(popup, 'swal2-dragging');\n  }\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n */\nconst move = event => {\n  const popup = getPopup();\n  if (dragging) {\n    let {\n      clientX,\n      clientY\n    } = getClientXY(event);\n    popup.style.insetInlineStart = `${initialX + (clientX - mousedownX)}px`;\n    popup.style.insetBlockStart = `${initialY + (clientY - mousedownY)}px`;\n  }\n};\nconst up = () => {\n  const popup = getPopup();\n  dragging = false;\n  removeClass(popup, 'swal2-dragging');\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n * @returns {{ clientX: number, clientY: number }}\n */\nconst getClientXY = event => {\n  let clientX = 0,\n    clientY = 0;\n  if (event.type.startsWith('mouse')) {\n    clientX = /** @type {MouseEvent} */event.clientX;\n    clientY = /** @type {MouseEvent} */event.clientY;\n  } else if (event.type.startsWith('touch')) {\n    clientX = /** @type {TouchEvent} */event.touches[0].clientX;\n    clientY = /** @type {TouchEvent} */event.touches[0].clientY;\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderPopup = (instance, params) => {\n  const container = getContainer();\n  const popup = getPopup();\n  if (!container || !popup) {\n    return;\n  }\n\n  // Width\n  // https://github.com/sweetalert2/sweetalert2/issues/2170\n  if (params.toast) {\n    applyNumericalStyle(container, 'width', params.width);\n    popup.style.width = '100%';\n    const loader = getLoader();\n    if (loader) {\n      popup.insertBefore(loader, getIcon());\n    }\n  } else {\n    applyNumericalStyle(popup, 'width', params.width);\n  }\n\n  // Padding\n  applyNumericalStyle(popup, 'padding', params.padding);\n\n  // Color\n  if (params.color) {\n    popup.style.color = params.color;\n  }\n\n  // Background\n  if (params.background) {\n    popup.style.background = params.background;\n  }\n  hide(getValidationMessage());\n\n  // Classes\n  addClasses$1(popup, params);\n  if (params.draggable && !params.toast) {\n    addClass(popup, swalClasses.draggable);\n    addDraggableListeners(popup);\n  } else {\n    removeClass(popup, swalClasses.draggable);\n    removeDraggableListeners(popup);\n  }\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\nconst addClasses$1 = (popup, params) => {\n  const showClass = params.showClass || {};\n  // Default Class + showClass when updating Swal.update({})\n  popup.className = `${swalClasses.popup} ${isVisible$1(popup) ? showClass.popup : ''}`;\n  if (params.toast) {\n    addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n    addClass(popup, swalClasses.toast);\n  } else {\n    addClass(popup, swalClasses.modal);\n  }\n\n  // Custom class\n  applyCustomClass(popup, params, 'popup');\n  // TODO: remove in the next major\n  if (typeof params.customClass === 'string') {\n    addClass(popup, params.customClass);\n  }\n\n  // Icon class (#1842)\n  if (params.icon) {\n    addClass(popup, swalClasses[`icon-${params.icon}`]);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderProgressSteps = (instance, params) => {\n  const progressStepsContainer = getProgressSteps();\n  if (!progressStepsContainer) {\n    return;\n  }\n  const {\n    progressSteps,\n    currentProgressStep\n  } = params;\n  if (!progressSteps || progressSteps.length === 0 || currentProgressStep === undefined) {\n    hide(progressStepsContainer);\n    return;\n  }\n  show(progressStepsContainer);\n  progressStepsContainer.textContent = '';\n  if (currentProgressStep >= progressSteps.length) {\n    warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n  }\n  progressSteps.forEach((step, index) => {\n    const stepEl = createStepElement(step);\n    progressStepsContainer.appendChild(stepEl);\n    if (index === currentProgressStep) {\n      addClass(stepEl, swalClasses['active-progress-step']);\n    }\n    if (index !== progressSteps.length - 1) {\n      const lineEl = createLineElement(params);\n      progressStepsContainer.appendChild(lineEl);\n    }\n  });\n};\n\n/**\n * @param {string} step\n * @returns {HTMLLIElement}\n */\nconst createStepElement = step => {\n  const stepEl = document.createElement('li');\n  addClass(stepEl, swalClasses['progress-step']);\n  setInnerHtml(stepEl, step);\n  return stepEl;\n};\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {HTMLLIElement}\n */\nconst createLineElement = params => {\n  const lineEl = document.createElement('li');\n  addClass(lineEl, swalClasses['progress-step-line']);\n  if (params.progressStepsDistance) {\n    applyNumericalStyle(lineEl, 'width', params.progressStepsDistance);\n  }\n  return lineEl;\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderTitle = (instance, params) => {\n  const title = getTitle();\n  if (!title) {\n    return;\n  }\n  showWhenInnerHtmlPresent(title);\n  toggle(title, params.title || params.titleText, 'block');\n  if (params.title) {\n    parseHtmlToContainer(params.title, title);\n  }\n  if (params.titleText) {\n    title.innerText = params.titleText;\n  }\n\n  // Custom class\n  applyCustomClass(title, params, 'title');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst render = (instance, params) => {\n  renderPopup(instance, params);\n  renderContainer(instance, params);\n  renderProgressSteps(instance, params);\n  renderIcon(instance, params);\n  renderImage(instance, params);\n  renderTitle(instance, params);\n  renderCloseButton(instance, params);\n  renderContent(instance, params);\n  renderActions(instance, params);\n  renderFooter(instance, params);\n  const popup = getPopup();\n  if (typeof params.didRender === 'function' && popup) {\n    params.didRender(popup);\n  }\n  globalState.eventEmitter.emit('didRender', popup);\n};\n\n/*\n * Global function to determine if SweetAlert2 popup is shown\n */\nconst isVisible = () => {\n  return isVisible$1(getPopup());\n};\n\n/*\n * Global function to click 'Confirm' button\n */\nconst clickConfirm = () => {\n  var _dom$getConfirmButton;\n  return (_dom$getConfirmButton = getConfirmButton()) === null || _dom$getConfirmButton === void 0 ? void 0 : _dom$getConfirmButton.click();\n};\n\n/*\n * Global function to click 'Deny' button\n */\nconst clickDeny = () => {\n  var _dom$getDenyButton;\n  return (_dom$getDenyButton = getDenyButton()) === null || _dom$getDenyButton === void 0 ? void 0 : _dom$getDenyButton.click();\n};\n\n/*\n * Global function to click 'Cancel' button\n */\nconst clickCancel = () => {\n  var _dom$getCancelButton;\n  return (_dom$getCancelButton = getCancelButton()) === null || _dom$getCancelButton === void 0 ? void 0 : _dom$getCancelButton.click();\n};\n\n/** @typedef {'cancel' | 'backdrop' | 'close' | 'esc' | 'timer'} DismissReason */\n\n/** @type {Record<DismissReason, DismissReason>} */\nconst DismissReason = Object.freeze({\n  cancel: 'cancel',\n  backdrop: 'backdrop',\n  close: 'close',\n  esc: 'esc',\n  timer: 'timer'\n});\n\n/**\n * @param {GlobalState} globalState\n */\nconst removeKeydownHandler = globalState => {\n  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = false;\n  }\n};\n\n/**\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {*} dismissWith\n */\nconst addKeydownHandler = (globalState, innerParams, dismissWith) => {\n  removeKeydownHandler(globalState);\n  if (!innerParams.toast) {\n    globalState.keydownHandler = e => keydownHandler(innerParams, e, dismissWith);\n    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n    globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = true;\n  }\n};\n\n/**\n * @param {number} index\n * @param {number} increment\n */\nconst setFocus = (index, increment) => {\n  var _dom$getPopup;\n  const focusableElements = getFocusableElements();\n  // search for visible elements and select the next possible match\n  if (focusableElements.length) {\n    index = index + increment;\n\n    // rollover to first item\n    if (index === focusableElements.length) {\n      index = 0;\n\n      // go to last item\n    } else if (index === -1) {\n      index = focusableElements.length - 1;\n    }\n    focusableElements[index].focus();\n    return;\n  }\n  // no visible focusable elements, focus the popup\n  (_dom$getPopup = getPopup()) === null || _dom$getPopup === void 0 || _dom$getPopup.focus();\n};\nconst arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\nconst arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {KeyboardEvent} event\n * @param {Function} dismissWith\n */\nconst keydownHandler = (innerParams, event, dismissWith) => {\n  if (!innerParams) {\n    return; // This instance has already been destroyed\n  }\n\n  // Ignore keydown during IME composition\n  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n  // https://github.com/sweetalert2/sweetalert2/issues/720\n  // https://github.com/sweetalert2/sweetalert2/issues/2406\n  if (event.isComposing || event.keyCode === 229) {\n    return;\n  }\n  if (innerParams.stopKeydownPropagation) {\n    event.stopPropagation();\n  }\n\n  // ENTER\n  if (event.key === 'Enter') {\n    handleEnter(event, innerParams);\n  }\n\n  // TAB\n  else if (event.key === 'Tab') {\n    handleTab(event);\n  }\n\n  // ARROWS - switch focus between buttons\n  else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(event.key)) {\n    handleArrows(event.key);\n  }\n\n  // ESC\n  else if (event.key === 'Escape') {\n    handleEsc(event, innerParams, dismissWith);\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n * @param {SweetAlertOptions} innerParams\n */\nconst handleEnter = (event, innerParams) => {\n  // https://github.com/sweetalert2/sweetalert2/issues/2386\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return;\n  }\n  const input = getInput$1(getPopup(), innerParams.input);\n  if (event.target && input && event.target instanceof HTMLElement && event.target.outerHTML === input.outerHTML) {\n    if (['textarea', 'file'].includes(innerParams.input)) {\n      return; // do not submit\n    }\n    clickConfirm();\n    event.preventDefault();\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n */\nconst handleTab = event => {\n  const targetElement = event.target;\n  const focusableElements = getFocusableElements();\n  let btnIndex = -1;\n  for (let i = 0; i < focusableElements.length; i++) {\n    if (targetElement === focusableElements[i]) {\n      btnIndex = i;\n      break;\n    }\n  }\n\n  // Cycle to the next button\n  if (!event.shiftKey) {\n    setFocus(btnIndex, 1);\n  }\n\n  // Cycle to the prev button\n  else {\n    setFocus(btnIndex, -1);\n  }\n  event.stopPropagation();\n  event.preventDefault();\n};\n\n/**\n * @param {string} key\n */\nconst handleArrows = key => {\n  const actions = getActions();\n  const confirmButton = getConfirmButton();\n  const denyButton = getDenyButton();\n  const cancelButton = getCancelButton();\n  if (!actions || !confirmButton || !denyButton || !cancelButton) {\n    return;\n  }\n  /** @type HTMLElement[] */\n  const buttons = [confirmButton, denyButton, cancelButton];\n  if (document.activeElement instanceof HTMLElement && !buttons.includes(document.activeElement)) {\n    return;\n  }\n  const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n  let buttonToFocus = document.activeElement;\n  if (!buttonToFocus) {\n    return;\n  }\n  for (let i = 0; i < actions.children.length; i++) {\n    buttonToFocus = buttonToFocus[sibling];\n    if (!buttonToFocus) {\n      return;\n    }\n    if (buttonToFocus instanceof HTMLButtonElement && isVisible$1(buttonToFocus)) {\n      break;\n    }\n  }\n  if (buttonToFocus instanceof HTMLButtonElement) {\n    buttonToFocus.focus();\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst handleEsc = (event, innerParams, dismissWith) => {\n  if (callIfFunction(innerParams.allowEscapeKey)) {\n    event.preventDefault();\n    dismissWith(DismissReason.esc);\n  }\n};\n\n/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\n\nvar privateMethods = {\n  swalPromiseResolve: new WeakMap(),\n  swalPromiseReject: new WeakMap()\n};\n\n// From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n// Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n// elements not within the active modal dialog will not be surfaced if a user opens a screen\n// reader’s list of elements (headings, form controls, landmarks, etc.) in the document.\n\nconst setAriaHidden = () => {\n  const container = getContainer();\n  const bodyChildren = Array.from(document.body.children);\n  bodyChildren.forEach(el => {\n    if (el.contains(container)) {\n      return;\n    }\n    if (el.hasAttribute('aria-hidden')) {\n      el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden') || '');\n    }\n    el.setAttribute('aria-hidden', 'true');\n  });\n};\nconst unsetAriaHidden = () => {\n  const bodyChildren = Array.from(document.body.children);\n  bodyChildren.forEach(el => {\n    if (el.hasAttribute('data-previous-aria-hidden')) {\n      el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden') || '');\n      el.removeAttribute('data-previous-aria-hidden');\n    } else {\n      el.removeAttribute('aria-hidden');\n    }\n  });\n};\n\n// @ts-ignore\nconst isSafariOrIOS = typeof window !== 'undefined' && !!window.GestureEvent; // true for Safari desktop + all iOS browsers https://stackoverflow.com/a/70585394\n\n/**\n * Fix iOS scrolling\n * http://stackoverflow.com/q/39626302\n */\nconst iOSfix = () => {\n  if (isSafariOrIOS && !hasClass(document.body, swalClasses.iosfix)) {\n    const offset = document.body.scrollTop;\n    document.body.style.top = `${offset * -1}px`;\n    addClass(document.body, swalClasses.iosfix);\n    lockBodyScroll();\n  }\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1246\n */\nconst lockBodyScroll = () => {\n  const container = getContainer();\n  if (!container) {\n    return;\n  }\n  /** @type {boolean} */\n  let preventTouchMove;\n  /**\n   * @param {TouchEvent} event\n   */\n  container.ontouchstart = event => {\n    preventTouchMove = shouldPreventTouchMove(event);\n  };\n  /**\n   * @param {TouchEvent} event\n   */\n  container.ontouchmove = event => {\n    if (preventTouchMove) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n};\n\n/**\n * @param {TouchEvent} event\n * @returns {boolean}\n */\nconst shouldPreventTouchMove = event => {\n  const target = event.target;\n  const container = getContainer();\n  const htmlContainer = getHtmlContainer();\n  if (!container || !htmlContainer) {\n    return false;\n  }\n  if (isStylus(event) || isZoom(event)) {\n    return false;\n  }\n  if (target === container) {\n    return true;\n  }\n  if (!isScrollable(container) && target instanceof HTMLElement && target.tagName !== 'INPUT' &&\n  // #1603\n  target.tagName !== 'TEXTAREA' &&\n  // #2266\n  !(isScrollable(htmlContainer) &&\n  // #1944\n  htmlContainer.contains(target))) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1786\n *\n * @param {*} event\n * @returns {boolean}\n */\nconst isStylus = event => {\n  return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1891\n *\n * @param {TouchEvent} event\n * @returns {boolean}\n */\nconst isZoom = event => {\n  return event.touches && event.touches.length > 1;\n};\nconst undoIOSfix = () => {\n  if (hasClass(document.body, swalClasses.iosfix)) {\n    const offset = parseInt(document.body.style.top, 10);\n    removeClass(document.body, swalClasses.iosfix);\n    document.body.style.top = '';\n    document.body.scrollTop = offset * -1;\n  }\n};\n\n/**\n * Measure scrollbar width for padding body during modal show/hide\n * https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n *\n * @returns {number}\n */\nconst measureScrollbar = () => {\n  const scrollDiv = document.createElement('div');\n  scrollDiv.className = swalClasses['scrollbar-measure'];\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n};\n\n/**\n * Remember state in cases where opening and handling a modal will fiddle with it.\n * @type {number | null}\n */\nlet previousBodyPadding = null;\n\n/**\n * @param {string} initialBodyOverflow\n */\nconst replaceScrollbarWithPadding = initialBodyOverflow => {\n  // for queues, do not do this more than once\n  if (previousBodyPadding !== null) {\n    return;\n  }\n  // if the body has overflow\n  if (document.body.scrollHeight > window.innerHeight || initialBodyOverflow === 'scroll' // https://github.com/sweetalert2/sweetalert2/issues/2663\n  ) {\n    // add padding so the content doesn't shift after removal of scrollbar\n    previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n    document.body.style.paddingRight = `${previousBodyPadding + measureScrollbar()}px`;\n  }\n};\nconst undoReplaceScrollbarWithPadding = () => {\n  if (previousBodyPadding !== null) {\n    document.body.style.paddingRight = `${previousBodyPadding}px`;\n    previousBodyPadding = null;\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} container\n * @param {boolean} returnFocus\n * @param {Function} didClose\n */\nfunction removePopupAndResetState(instance, container, returnFocus, didClose) {\n  if (isToast()) {\n    triggerDidCloseAndDispose(instance, didClose);\n  } else {\n    restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n    removeKeydownHandler(globalState);\n  }\n\n  // workaround for https://github.com/sweetalert2/sweetalert2/issues/2088\n  // for some reason removing the container in Safari will scroll the document to bottom\n  if (isSafariOrIOS) {\n    container.setAttribute('style', 'display:none !important');\n    container.removeAttribute('class');\n    container.innerHTML = '';\n  } else {\n    container.remove();\n  }\n  if (isModal()) {\n    undoReplaceScrollbarWithPadding();\n    undoIOSfix();\n    unsetAriaHidden();\n  }\n  removeBodyClasses();\n}\n\n/**\n * Remove SweetAlert2 classes from body\n */\nfunction removeBodyClasses() {\n  removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n}\n\n/**\n * Instance method to close sweetAlert\n *\n * @param {any} resolveValue\n */\nfunction close(resolveValue) {\n  resolveValue = prepareResolveValue(resolveValue);\n  const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n  const didClose = triggerClosePopup(this);\n  if (this.isAwaitingPromise) {\n    // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n    if (!resolveValue.isDismissed) {\n      handleAwaitingPromise(this);\n      swalPromiseResolve(resolveValue);\n    }\n  } else if (didClose) {\n    // Resolve Swal promise\n    swalPromiseResolve(resolveValue);\n  }\n}\nconst triggerClosePopup = instance => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n    return false;\n  }\n  removeClass(popup, innerParams.showClass.popup);\n  addClass(popup, innerParams.hideClass.popup);\n  const backdrop = getContainer();\n  removeClass(backdrop, innerParams.showClass.backdrop);\n  addClass(backdrop, innerParams.hideClass.backdrop);\n  handlePopupAnimation(instance, popup, innerParams);\n  return true;\n};\n\n/**\n * @param {any} error\n */\nfunction rejectPromise(error) {\n  const rejectPromise = privateMethods.swalPromiseReject.get(this);\n  handleAwaitingPromise(this);\n  if (rejectPromise) {\n    // Reject Swal promise\n    rejectPromise(error);\n  }\n}\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleAwaitingPromise = instance => {\n  if (instance.isAwaitingPromise) {\n    delete instance.isAwaitingPromise;\n    // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n    if (!privateProps.innerParams.get(instance)) {\n      instance._destroy();\n    }\n  }\n};\n\n/**\n * @param {any} resolveValue\n * @returns {SweetAlertResult}\n */\nconst prepareResolveValue = resolveValue => {\n  // When user calls Swal.close()\n  if (typeof resolveValue === 'undefined') {\n    return {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: true\n    };\n  }\n  return Object.assign({\n    isConfirmed: false,\n    isDenied: false,\n    isDismissed: false\n  }, resolveValue);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} innerParams\n */\nconst handlePopupAnimation = (instance, popup, innerParams) => {\n  var _globalState$eventEmi;\n  const container = getContainer();\n  // If animation is supported, animate\n  const animationIsSupported = hasCssAnimation(popup);\n  if (typeof innerParams.willClose === 'function') {\n    innerParams.willClose(popup);\n  }\n  (_globalState$eventEmi = globalState.eventEmitter) === null || _globalState$eventEmi === void 0 || _globalState$eventEmi.emit('willClose', popup);\n  if (animationIsSupported) {\n    animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n  } else {\n    // Otherwise, remove immediately\n    removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} popup\n * @param {HTMLElement} container\n * @param {boolean} returnFocus\n * @param {Function} didClose\n */\nconst animatePopup = (instance, popup, container, returnFocus, didClose) => {\n  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n  /**\n   * @param {AnimationEvent | TransitionEvent} e\n   */\n  const swalCloseAnimationFinished = function (e) {\n    if (e.target === popup) {\n      var _globalState$swalClos;\n      (_globalState$swalClos = globalState.swalCloseEventFinishedCallback) === null || _globalState$swalClos === void 0 || _globalState$swalClos.call(globalState);\n      delete globalState.swalCloseEventFinishedCallback;\n      popup.removeEventListener('animationend', swalCloseAnimationFinished);\n      popup.removeEventListener('transitionend', swalCloseAnimationFinished);\n    }\n  };\n  popup.addEventListener('animationend', swalCloseAnimationFinished);\n  popup.addEventListener('transitionend', swalCloseAnimationFinished);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {Function} didClose\n */\nconst triggerDidCloseAndDispose = (instance, didClose) => {\n  setTimeout(() => {\n    var _globalState$eventEmi2;\n    if (typeof didClose === 'function') {\n      didClose.bind(instance.params)();\n    }\n    (_globalState$eventEmi2 = globalState.eventEmitter) === null || _globalState$eventEmi2 === void 0 || _globalState$eventEmi2.emit('didClose');\n    // instance might have been destroyed already\n    if (instance._destroy) {\n      instance._destroy();\n    }\n  });\n};\n\n/**\n * Shows loader (spinner), this is useful with AJAX requests.\n * By default the loader be shown instead of the \"Confirm\" button.\n *\n * @param {HTMLButtonElement | null} [buttonToReplace]\n */\nconst showLoading = buttonToReplace => {\n  let popup = getPopup();\n  if (!popup) {\n    new Swal();\n  }\n  popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const loader = getLoader();\n  if (isToast()) {\n    hide(getIcon());\n  } else {\n    replaceButton(popup, buttonToReplace);\n  }\n  show(loader);\n  popup.setAttribute('data-loading', 'true');\n  popup.setAttribute('aria-busy', 'true');\n  popup.focus();\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {HTMLButtonElement | null} [buttonToReplace]\n */\nconst replaceButton = (popup, buttonToReplace) => {\n  const actions = getActions();\n  const loader = getLoader();\n  if (!actions || !loader) {\n    return;\n  }\n  if (!buttonToReplace && isVisible$1(getConfirmButton())) {\n    buttonToReplace = getConfirmButton();\n  }\n  show(actions);\n  if (buttonToReplace) {\n    hide(buttonToReplace);\n    loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n    actions.insertBefore(loader, buttonToReplace);\n  }\n  addClass([popup, actions], swalClasses.loading);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputOptionsAndValue = (instance, params) => {\n  if (params.input === 'select' || params.input === 'radio') {\n    handleInputOptions(instance, params);\n  } else if (['text', 'email', 'number', 'tel', 'textarea'].some(i => i === params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n    showLoading(getConfirmButton());\n    handleInputValue(instance, params);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} innerParams\n * @returns {SweetAlertInputValue}\n */\nconst getInputValue = (instance, innerParams) => {\n  const input = instance.getInput();\n  if (!input) {\n    return null;\n  }\n  switch (innerParams.input) {\n    case 'checkbox':\n      return getCheckboxValue(input);\n    case 'radio':\n      return getRadioValue(input);\n    case 'file':\n      return getFileValue(input);\n    default:\n      return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n  }\n};\n\n/**\n * @param {HTMLInputElement} input\n * @returns {number}\n */\nconst getCheckboxValue = input => input.checked ? 1 : 0;\n\n/**\n * @param {HTMLInputElement} input\n * @returns {string | null}\n */\nconst getRadioValue = input => input.checked ? input.value : null;\n\n/**\n * @param {HTMLInputElement} input\n * @returns {FileList | File | null}\n */\nconst getFileValue = input => input.files && input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputOptions = (instance, params) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  /**\n   * @param {Record<string, any>} inputOptions\n   */\n  const processInputOptions = inputOptions => {\n    if (params.input === 'select') {\n      populateSelectOptions(popup, formatInputOptions(inputOptions), params);\n    } else if (params.input === 'radio') {\n      populateRadioOptions(popup, formatInputOptions(inputOptions), params);\n    }\n  };\n  if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n    showLoading(getConfirmButton());\n    asPromise(params.inputOptions).then(inputOptions => {\n      instance.hideLoading();\n      processInputOptions(inputOptions);\n    });\n  } else if (typeof params.inputOptions === 'object') {\n    processInputOptions(params.inputOptions);\n  } else {\n    error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof params.inputOptions}`);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputValue = (instance, params) => {\n  const input = instance.getInput();\n  if (!input) {\n    return;\n  }\n  hide(input);\n  asPromise(params.inputValue).then(inputValue => {\n    input.value = params.input === 'number' ? `${parseFloat(inputValue) || 0}` : `${inputValue}`;\n    show(input);\n    input.focus();\n    instance.hideLoading();\n  }).catch(err => {\n    error(`Error in inputValue promise: ${err}`);\n    input.value = '';\n    show(input);\n    input.focus();\n    instance.hideLoading();\n  });\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {InputOptionFlattened[]} inputOptions\n * @param {SweetAlertOptions} params\n */\nfunction populateSelectOptions(popup, inputOptions, params) {\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  if (!select) {\n    return;\n  }\n  /**\n   * @param {HTMLElement} parent\n   * @param {string} optionLabel\n   * @param {string} optionValue\n   */\n  const renderOption = (parent, optionLabel, optionValue) => {\n    const option = document.createElement('option');\n    option.value = optionValue;\n    setInnerHtml(option, optionLabel);\n    option.selected = isSelected(optionValue, params.inputValue);\n    parent.appendChild(option);\n  };\n  inputOptions.forEach(inputOption => {\n    const optionValue = inputOption[0];\n    const optionLabel = inputOption[1];\n    // <optgroup> spec:\n    // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n    // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n    // check whether this is a <optgroup>\n    if (Array.isArray(optionLabel)) {\n      // if it is an array, then it is an <optgroup>\n      const optgroup = document.createElement('optgroup');\n      optgroup.label = optionValue;\n      optgroup.disabled = false; // not configurable for now\n      select.appendChild(optgroup);\n      optionLabel.forEach(o => renderOption(optgroup, o[1], o[0]));\n    } else {\n      // case of <option>\n      renderOption(select, optionLabel, optionValue);\n    }\n  });\n  select.focus();\n}\n\n/**\n * @param {HTMLElement} popup\n * @param {InputOptionFlattened[]} inputOptions\n * @param {SweetAlertOptions} params\n */\nfunction populateRadioOptions(popup, inputOptions, params) {\n  const radio = getDirectChildByClass(popup, swalClasses.radio);\n  if (!radio) {\n    return;\n  }\n  inputOptions.forEach(inputOption => {\n    const radioValue = inputOption[0];\n    const radioLabel = inputOption[1];\n    const radioInput = document.createElement('input');\n    const radioLabelElement = document.createElement('label');\n    radioInput.type = 'radio';\n    radioInput.name = swalClasses.radio;\n    radioInput.value = radioValue;\n    if (isSelected(radioValue, params.inputValue)) {\n      radioInput.checked = true;\n    }\n    const label = document.createElement('span');\n    setInnerHtml(label, radioLabel);\n    label.className = swalClasses.label;\n    radioLabelElement.appendChild(radioInput);\n    radioLabelElement.appendChild(label);\n    radio.appendChild(radioLabelElement);\n  });\n  const radios = radio.querySelectorAll('input');\n  if (radios.length) {\n    radios[0].focus();\n  }\n}\n\n/**\n * Converts `inputOptions` into an array of `[value, label]`s\n *\n * @param {Record<string, any>} inputOptions\n * @typedef {string[]} InputOptionFlattened\n * @returns {InputOptionFlattened[]}\n */\nconst formatInputOptions = inputOptions => {\n  /** @type {InputOptionFlattened[]} */\n  const result = [];\n  if (inputOptions instanceof Map) {\n    inputOptions.forEach((value, key) => {\n      let valueFormatted = value;\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n      result.push([key, valueFormatted]);\n    });\n  } else {\n    Object.keys(inputOptions).forEach(key => {\n      let valueFormatted = inputOptions[key];\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n      result.push([key, valueFormatted]);\n    });\n  }\n  return result;\n};\n\n/**\n * @param {string} optionValue\n * @param {SweetAlertInputValue} inputValue\n * @returns {boolean}\n */\nconst isSelected = (optionValue, inputValue) => {\n  return !!inputValue && inputValue.toString() === optionValue.toString();\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleConfirmButtonClick = instance => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n  if (innerParams.input) {\n    handleConfirmOrDenyWithInput(instance, 'confirm');\n  } else {\n    confirm(instance, true);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleDenyButtonClick = instance => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n  if (innerParams.returnInputValueOnDeny) {\n    handleConfirmOrDenyWithInput(instance, 'deny');\n  } else {\n    deny(instance, false);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {Function} dismissWith\n */\nconst handleCancelButtonClick = (instance, dismissWith) => {\n  instance.disableButtons();\n  dismissWith(DismissReason.cancel);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {'confirm' | 'deny'} type\n */\nconst handleConfirmOrDenyWithInput = (instance, type) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams.input) {\n    error(`The \"input\" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(type)}`);\n    return;\n  }\n  const input = instance.getInput();\n  const inputValue = getInputValue(instance, innerParams);\n  if (innerParams.inputValidator) {\n    handleInputValidator(instance, inputValue, type);\n  } else if (input && !input.checkValidity()) {\n    instance.enableButtons();\n    instance.showValidationMessage(innerParams.validationMessage || input.validationMessage);\n  } else if (type === 'deny') {\n    deny(instance, inputValue);\n  } else {\n    confirm(instance, inputValue);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertInputValue} inputValue\n * @param {'confirm' | 'deny'} type\n */\nconst handleInputValidator = (instance, inputValue, type) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableInput();\n  const validationPromise = Promise.resolve().then(() => asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage)));\n  validationPromise.then(validationMessage => {\n    instance.enableButtons();\n    instance.enableInput();\n    if (validationMessage) {\n      instance.showValidationMessage(validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  });\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst deny = (instance, value) => {\n  const innerParams = privateProps.innerParams.get(instance || undefined);\n  if (innerParams.showLoaderOnDeny) {\n    showLoading(getDenyButton());\n  }\n  if (innerParams.preDeny) {\n    instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n    const preDenyPromise = Promise.resolve().then(() => asPromise(innerParams.preDeny(value, innerParams.validationMessage)));\n    preDenyPromise.then(preDenyValue => {\n      if (preDenyValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        instance.close({\n          isDenied: true,\n          value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n        });\n      }\n    }).catch(error => rejectWith(instance || undefined, error));\n  } else {\n    instance.close({\n      isDenied: true,\n      value\n    });\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst succeedWith = (instance, value) => {\n  instance.close({\n    isConfirmed: true,\n    value\n  });\n};\n\n/**\n *\n * @param {SweetAlert} instance\n * @param {string} error\n */\nconst rejectWith = (instance, error) => {\n  instance.rejectPromise(error);\n};\n\n/**\n *\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst confirm = (instance, value) => {\n  const innerParams = privateProps.innerParams.get(instance || undefined);\n  if (innerParams.showLoaderOnConfirm) {\n    showLoading();\n  }\n  if (innerParams.preConfirm) {\n    instance.resetValidationMessage();\n    instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n    const preConfirmPromise = Promise.resolve().then(() => asPromise(innerParams.preConfirm(value, innerParams.validationMessage)));\n    preConfirmPromise.then(preConfirmValue => {\n      if (isVisible$1(getValidationMessage()) || preConfirmValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n      }\n    }).catch(error => rejectWith(instance || undefined, error));\n  } else {\n    succeedWith(instance, value);\n  }\n};\n\n/**\n * Hides loader and shows back the button which was hidden by .showLoading()\n */\nfunction hideLoading() {\n  // do nothing if popup is closed\n  const innerParams = privateProps.innerParams.get(this);\n  if (!innerParams) {\n    return;\n  }\n  const domCache = privateProps.domCache.get(this);\n  hide(domCache.loader);\n  if (isToast()) {\n    if (innerParams.icon) {\n      show(getIcon());\n    }\n  } else {\n    showRelatedButton(domCache);\n  }\n  removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n  domCache.popup.removeAttribute('aria-busy');\n  domCache.popup.removeAttribute('data-loading');\n  domCache.confirmButton.disabled = false;\n  domCache.denyButton.disabled = false;\n  domCache.cancelButton.disabled = false;\n}\nconst showRelatedButton = domCache => {\n  const buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n  if (buttonToReplace.length) {\n    show(buttonToReplace[0], 'inline-block');\n  } else if (allButtonsAreHidden()) {\n    hide(domCache.actions);\n  }\n};\n\n/**\n * Gets the input DOM node, this method works with input parameter.\n *\n * @returns {HTMLInputElement | null}\n */\nfunction getInput() {\n  const innerParams = privateProps.innerParams.get(this);\n  const domCache = privateProps.domCache.get(this);\n  if (!domCache) {\n    return null;\n  }\n  return getInput$1(domCache.popup, innerParams.input);\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {string[]} buttons\n * @param {boolean} disabled\n */\nfunction setButtonsDisabled(instance, buttons, disabled) {\n  const domCache = privateProps.domCache.get(instance);\n  buttons.forEach(button => {\n    domCache[button].disabled = disabled;\n  });\n}\n\n/**\n * @param {HTMLInputElement | null} input\n * @param {boolean} disabled\n */\nfunction setInputDisabled(input, disabled) {\n  const popup = getPopup();\n  if (!popup || !input) {\n    return;\n  }\n  if (input.type === 'radio') {\n    /** @type {NodeListOf<HTMLInputElement>} */\n    const radios = popup.querySelectorAll(`[name=\"${swalClasses.radio}\"]`);\n    for (let i = 0; i < radios.length; i++) {\n      radios[i].disabled = disabled;\n    }\n  } else {\n    input.disabled = disabled;\n  }\n}\n\n/**\n * Enable all the buttons\n * @this {SweetAlert}\n */\nfunction enableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n}\n\n/**\n * Disable all the buttons\n * @this {SweetAlert}\n */\nfunction disableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n}\n\n/**\n * Enable the input field\n * @this {SweetAlert}\n */\nfunction enableInput() {\n  setInputDisabled(this.getInput(), false);\n}\n\n/**\n * Disable the input field\n * @this {SweetAlert}\n */\nfunction disableInput() {\n  setInputDisabled(this.getInput(), true);\n}\n\n/**\n * Show block with validation message\n *\n * @param {string} error\n * @this {SweetAlert}\n */\nfunction showValidationMessage(error) {\n  const domCache = privateProps.domCache.get(this);\n  const params = privateProps.innerParams.get(this);\n  setInnerHtml(domCache.validationMessage, error);\n  domCache.validationMessage.className = swalClasses['validation-message'];\n  if (params.customClass && params.customClass.validationMessage) {\n    addClass(domCache.validationMessage, params.customClass.validationMessage);\n  }\n  show(domCache.validationMessage);\n  const input = this.getInput();\n  if (input) {\n    input.setAttribute('aria-invalid', 'true');\n    input.setAttribute('aria-describedby', swalClasses['validation-message']);\n    focusInput(input);\n    addClass(input, swalClasses.inputerror);\n  }\n}\n\n/**\n * Hide block with validation message\n *\n * @this {SweetAlert}\n */\nfunction resetValidationMessage() {\n  const domCache = privateProps.domCache.get(this);\n  if (domCache.validationMessage) {\n    hide(domCache.validationMessage);\n  }\n  const input = this.getInput();\n  if (input) {\n    input.removeAttribute('aria-invalid');\n    input.removeAttribute('aria-describedby');\n    removeClass(input, swalClasses.inputerror);\n  }\n}\n\nconst defaultParams = {\n  title: '',\n  titleText: '',\n  text: '',\n  html: '',\n  footer: '',\n  icon: undefined,\n  iconColor: undefined,\n  iconHtml: undefined,\n  template: undefined,\n  toast: false,\n  draggable: false,\n  animation: true,\n  showClass: {\n    popup: 'swal2-show',\n    backdrop: 'swal2-backdrop-show',\n    icon: 'swal2-icon-show'\n  },\n  hideClass: {\n    popup: 'swal2-hide',\n    backdrop: 'swal2-backdrop-hide',\n    icon: 'swal2-icon-hide'\n  },\n  customClass: {},\n  target: 'body',\n  color: undefined,\n  backdrop: true,\n  heightAuto: true,\n  allowOutsideClick: true,\n  allowEscapeKey: true,\n  allowEnterKey: true,\n  stopKeydownPropagation: true,\n  keydownListenerCapture: false,\n  showConfirmButton: true,\n  showDenyButton: false,\n  showCancelButton: false,\n  preConfirm: undefined,\n  preDeny: undefined,\n  confirmButtonText: 'OK',\n  confirmButtonAriaLabel: '',\n  confirmButtonColor: undefined,\n  denyButtonText: 'No',\n  denyButtonAriaLabel: '',\n  denyButtonColor: undefined,\n  cancelButtonText: 'Cancel',\n  cancelButtonAriaLabel: '',\n  cancelButtonColor: undefined,\n  buttonsStyling: true,\n  reverseButtons: false,\n  focusConfirm: true,\n  focusDeny: false,\n  focusCancel: false,\n  returnFocus: true,\n  showCloseButton: false,\n  closeButtonHtml: '&times;',\n  closeButtonAriaLabel: 'Close this dialog',\n  loaderHtml: '',\n  showLoaderOnConfirm: false,\n  showLoaderOnDeny: false,\n  imageUrl: undefined,\n  imageWidth: undefined,\n  imageHeight: undefined,\n  imageAlt: '',\n  timer: undefined,\n  timerProgressBar: false,\n  width: undefined,\n  padding: undefined,\n  background: undefined,\n  input: undefined,\n  inputPlaceholder: '',\n  inputLabel: '',\n  inputValue: '',\n  inputOptions: {},\n  inputAutoFocus: true,\n  inputAutoTrim: true,\n  inputAttributes: {},\n  inputValidator: undefined,\n  returnInputValueOnDeny: false,\n  validationMessage: undefined,\n  grow: false,\n  position: 'center',\n  progressSteps: [],\n  currentProgressStep: undefined,\n  progressStepsDistance: undefined,\n  willOpen: undefined,\n  didOpen: undefined,\n  didRender: undefined,\n  willClose: undefined,\n  didClose: undefined,\n  didDestroy: undefined,\n  scrollbarPadding: true\n};\nconst updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'draggable', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'willClose'];\n\n/** @type {Record<string, string | undefined>} */\nconst deprecatedParams = {\n  allowEnterKey: undefined\n};\nconst toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'draggable', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n\n/**\n * Is valid parameter\n *\n * @param {string} paramName\n * @returns {boolean}\n */\nconst isValidParameter = paramName => {\n  return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n};\n\n/**\n * Is valid parameter for Swal.update() method\n *\n * @param {string} paramName\n * @returns {boolean}\n */\nconst isUpdatableParameter = paramName => {\n  return updatableParams.indexOf(paramName) !== -1;\n};\n\n/**\n * Is deprecated parameter\n *\n * @param {string} paramName\n * @returns {string | undefined}\n */\nconst isDeprecatedParameter = paramName => {\n  return deprecatedParams[paramName];\n};\n\n/**\n * @param {string} param\n */\nconst checkIfParamIsValid = param => {\n  if (!isValidParameter(param)) {\n    warn(`Unknown parameter \"${param}\"`);\n  }\n};\n\n/**\n * @param {string} param\n */\nconst checkIfToastParamIsValid = param => {\n  if (toastIncompatibleParams.includes(param)) {\n    warn(`The parameter \"${param}\" is incompatible with toasts`);\n  }\n};\n\n/**\n * @param {string} param\n */\nconst checkIfParamIsDeprecated = param => {\n  const isDeprecated = isDeprecatedParameter(param);\n  if (isDeprecated) {\n    warnAboutDeprecation(param, isDeprecated);\n  }\n};\n\n/**\n * Show relevant warnings for given params\n *\n * @param {SweetAlertOptions} params\n */\nconst showWarningsForParams = params => {\n  if (params.backdrop === false && params.allowOutsideClick) {\n    warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n  }\n  for (const param in params) {\n    checkIfParamIsValid(param);\n    if (params.toast) {\n      checkIfToastParamIsValid(param);\n    }\n    checkIfParamIsDeprecated(param);\n  }\n};\n\n/**\n * Updates popup parameters.\n *\n * @param {SweetAlertOptions} params\n */\nfunction update(params) {\n  const popup = getPopup();\n  const innerParams = privateProps.innerParams.get(this);\n  if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n    warn(`You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.`);\n    return;\n  }\n  const validUpdatableParams = filterValidParams(params);\n  const updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n  render(this, updatedParams);\n  privateProps.innerParams.set(this, updatedParams);\n  Object.defineProperties(this, {\n    params: {\n      value: Object.assign({}, this.params, params),\n      writable: false,\n      enumerable: true\n    }\n  });\n}\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {SweetAlertOptions}\n */\nconst filterValidParams = params => {\n  const validUpdatableParams = {};\n  Object.keys(params).forEach(param => {\n    if (isUpdatableParameter(param)) {\n      validUpdatableParams[param] = params[param];\n    } else {\n      warn(`Invalid parameter to update: ${param}`);\n    }\n  });\n  return validUpdatableParams;\n};\n\n/**\n * Dispose the current SweetAlert2 instance\n */\nfunction _destroy() {\n  const domCache = privateProps.domCache.get(this);\n  const innerParams = privateProps.innerParams.get(this);\n  if (!innerParams) {\n    disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n    return; // This instance has already been destroyed\n  }\n\n  // Check if there is another Swal closing\n  if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n    globalState.swalCloseEventFinishedCallback();\n    delete globalState.swalCloseEventFinishedCallback;\n  }\n  if (typeof innerParams.didDestroy === 'function') {\n    innerParams.didDestroy();\n  }\n  globalState.eventEmitter.emit('didDestroy');\n  disposeSwal(this);\n}\n\n/**\n * @param {SweetAlert} instance\n */\nconst disposeSwal = instance => {\n  disposeWeakMaps(instance);\n  // Unset this.params so GC will dispose it (#1569)\n  delete instance.params;\n  // Unset globalState props so GC will dispose globalState (#1569)\n  delete globalState.keydownHandler;\n  delete globalState.keydownTarget;\n  // Unset currentInstance\n  delete globalState.currentInstance;\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst disposeWeakMaps = instance => {\n  // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n  if (instance.isAwaitingPromise) {\n    unsetWeakMaps(privateProps, instance);\n    instance.isAwaitingPromise = true;\n  } else {\n    unsetWeakMaps(privateMethods, instance);\n    unsetWeakMaps(privateProps, instance);\n    delete instance.isAwaitingPromise;\n    // Unset instance methods\n    delete instance.disableButtons;\n    delete instance.enableButtons;\n    delete instance.getInput;\n    delete instance.disableInput;\n    delete instance.enableInput;\n    delete instance.hideLoading;\n    delete instance.disableLoading;\n    delete instance.showValidationMessage;\n    delete instance.resetValidationMessage;\n    delete instance.close;\n    delete instance.closePopup;\n    delete instance.closeModal;\n    delete instance.closeToast;\n    delete instance.rejectPromise;\n    delete instance.update;\n    delete instance._destroy;\n  }\n};\n\n/**\n * @param {object} obj\n * @param {SweetAlert} instance\n */\nconst unsetWeakMaps = (obj, instance) => {\n  for (const i in obj) {\n    obj[i].delete(instance);\n  }\n};\n\nvar instanceMethods = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  _destroy: _destroy,\n  close: close,\n  closeModal: close,\n  closePopup: close,\n  closeToast: close,\n  disableButtons: disableButtons,\n  disableInput: disableInput,\n  disableLoading: hideLoading,\n  enableButtons: enableButtons,\n  enableInput: enableInput,\n  getInput: getInput,\n  handleAwaitingPromise: handleAwaitingPromise,\n  hideLoading: hideLoading,\n  rejectPromise: rejectPromise,\n  resetValidationMessage: resetValidationMessage,\n  showValidationMessage: showValidationMessage,\n  update: update\n});\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handlePopupClick = (innerParams, domCache, dismissWith) => {\n  if (innerParams.toast) {\n    handleToastClick(innerParams, domCache, dismissWith);\n  } else {\n    // Ignore click events that had mousedown on the popup but mouseup on the container\n    // This can happen when the user drags a slider\n    handleModalMousedown(domCache);\n\n    // Ignore click events that had mousedown on the container but mouseup on the popup\n    handleContainerMousedown(domCache);\n    handleModalClick(innerParams, domCache, dismissWith);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handleToastClick = (innerParams, domCache, dismissWith) => {\n  // Closing toast by internal click\n  domCache.popup.onclick = () => {\n    if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n      return;\n    }\n    dismissWith(DismissReason.close);\n  };\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @returns {boolean}\n */\nconst isAnyButtonShown = innerParams => {\n  return !!(innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton);\n};\nlet ignoreOutsideClick = false;\n\n/**\n * @param {DomCache} domCache\n */\nconst handleModalMousedown = domCache => {\n  domCache.popup.onmousedown = () => {\n    domCache.container.onmouseup = function (e) {\n      domCache.container.onmouseup = () => {};\n      // We only check if the mouseup target is the container because usually it doesn't\n      // have any other direct children aside of the popup\n      if (e.target === domCache.container) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\n/**\n * @param {DomCache} domCache\n */\nconst handleContainerMousedown = domCache => {\n  domCache.container.onmousedown = e => {\n    // prevent the modal text from being selected on double click on the container (allowOutsideClick: false)\n    if (e.target === domCache.container) {\n      e.preventDefault();\n    }\n    domCache.popup.onmouseup = function (e) {\n      domCache.popup.onmouseup = () => {};\n      // We also need to check if the mouseup target is a child of the popup\n      if (e.target === domCache.popup || e.target instanceof HTMLElement && domCache.popup.contains(e.target)) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handleModalClick = (innerParams, domCache, dismissWith) => {\n  domCache.container.onclick = e => {\n    if (ignoreOutsideClick) {\n      ignoreOutsideClick = false;\n      return;\n    }\n    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n      dismissWith(DismissReason.backdrop);\n    }\n  };\n};\n\nconst isJqueryElement = elem => typeof elem === 'object' && elem.jquery;\nconst isElement = elem => elem instanceof Element || isJqueryElement(elem);\nconst argsToParams = args => {\n  const params = {};\n  if (typeof args[0] === 'object' && !isElement(args[0])) {\n    Object.assign(params, args[0]);\n  } else {\n    ['title', 'html', 'icon'].forEach((name, index) => {\n      const arg = args[index];\n      if (typeof arg === 'string' || isElement(arg)) {\n        params[name] = arg;\n      } else if (arg !== undefined) {\n        error(`Unexpected type of ${name}! Expected \"string\" or \"Element\", got ${typeof arg}`);\n      }\n    });\n  }\n  return params;\n};\n\n/**\n * Main method to create a new SweetAlert2 popup\n *\n * @param  {...SweetAlertOptions} args\n * @returns {Promise<SweetAlertResult>}\n */\nfunction fire() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return new this(...args);\n}\n\n/**\n * Returns an extended version of `Swal` containing `params` as defaults.\n * Useful for reusing Swal configuration.\n *\n * For example:\n *\n * Before:\n * const textPromptOptions = { input: 'text', showCancelButton: true }\n * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n *\n * After:\n * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n * const {value: firstName} = await TextPrompt('What is your first name?')\n * const {value: lastName} = await TextPrompt('What is your last name?')\n *\n * @param {SweetAlertOptions} mixinParams\n * @returns {SweetAlert}\n */\nfunction mixin(mixinParams) {\n  class MixinSwal extends this {\n    _main(params, priorityMixinParams) {\n      return super._main(params, Object.assign({}, mixinParams, priorityMixinParams));\n    }\n  }\n  // @ts-ignore\n  return MixinSwal;\n}\n\n/**\n * If `timer` parameter is set, returns number of milliseconds of timer remained.\n * Otherwise, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst getTimerLeft = () => {\n  return globalState.timeout && globalState.timeout.getTimerLeft();\n};\n\n/**\n * Stop timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst stopTimer = () => {\n  if (globalState.timeout) {\n    stopTimerProgressBar();\n    return globalState.timeout.stop();\n  }\n};\n\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst resumeTimer = () => {\n  if (globalState.timeout) {\n    const remaining = globalState.timeout.start();\n    animateTimerProgressBar(remaining);\n    return remaining;\n  }\n};\n\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst toggleTimer = () => {\n  const timer = globalState.timeout;\n  return timer && (timer.running ? stopTimer() : resumeTimer());\n};\n\n/**\n * Increase timer. Returns number of milliseconds of an updated timer.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @param {number} ms\n * @returns {number | undefined}\n */\nconst increaseTimer = ms => {\n  if (globalState.timeout) {\n    const remaining = globalState.timeout.increase(ms);\n    animateTimerProgressBar(remaining, true);\n    return remaining;\n  }\n};\n\n/**\n * Check if timer is running. Returns true if timer is running\n * or false if timer is paused or stopped.\n * If `timer` parameter isn't set, returns undefined\n *\n * @returns {boolean}\n */\nconst isTimerRunning = () => {\n  return !!(globalState.timeout && globalState.timeout.isRunning());\n};\n\nlet bodyClickListenerAdded = false;\nconst clickHandlers = {};\n\n/**\n * @param {string} attr\n */\nfunction bindClickHandler() {\n  let attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n  clickHandlers[attr] = this;\n  if (!bodyClickListenerAdded) {\n    document.body.addEventListener('click', bodyClickListener);\n    bodyClickListenerAdded = true;\n  }\n}\nconst bodyClickListener = event => {\n  for (let el = event.target; el && el !== document; el = el.parentNode) {\n    for (const attr in clickHandlers) {\n      const template = el.getAttribute(attr);\n      if (template) {\n        clickHandlers[attr].fire({\n          template\n        });\n        return;\n      }\n    }\n  }\n};\n\n// Source: https://gist.github.com/mudge/5830382?permalink_comment_id=2691957#gistcomment-2691957\n\nclass EventEmitter {\n  constructor() {\n    /** @type {Events} */\n    this.events = {};\n  }\n\n  /**\n   * @param {string} eventName\n   * @returns {EventHandlers}\n   */\n  _getHandlersByEventName(eventName) {\n    if (typeof this.events[eventName] === 'undefined') {\n      // not Set because we need to keep the FIFO order\n      // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1748990334\n      this.events[eventName] = [];\n    }\n    return this.events[eventName];\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  on(eventName, eventHandler) {\n    const currentHandlers = this._getHandlersByEventName(eventName);\n    if (!currentHandlers.includes(eventHandler)) {\n      currentHandlers.push(eventHandler);\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  once(eventName, eventHandler) {\n    var _this = this;\n    /**\n     * @param {Array} args\n     */\n    const onceFn = function () {\n      _this.removeListener(eventName, onceFn);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      eventHandler.apply(_this, args);\n    };\n    this.on(eventName, onceFn);\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Array} args\n   */\n  emit(eventName) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    this._getHandlersByEventName(eventName).forEach(\n    /**\n     * @param {EventHandler} eventHandler\n     */\n    eventHandler => {\n      try {\n        eventHandler.apply(this, args);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  removeListener(eventName, eventHandler) {\n    const currentHandlers = this._getHandlersByEventName(eventName);\n    const index = currentHandlers.indexOf(eventHandler);\n    if (index > -1) {\n      currentHandlers.splice(index, 1);\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   */\n  removeAllListeners(eventName) {\n    if (this.events[eventName] !== undefined) {\n      // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1749239222\n      this.events[eventName].length = 0;\n    }\n  }\n  reset() {\n    this.events = {};\n  }\n}\n\nglobalState.eventEmitter = new EventEmitter();\n\n/**\n * @param {string} eventName\n * @param {EventHandler} eventHandler\n */\nconst on = (eventName, eventHandler) => {\n  globalState.eventEmitter.on(eventName, eventHandler);\n};\n\n/**\n * @param {string} eventName\n * @param {EventHandler} eventHandler\n */\nconst once = (eventName, eventHandler) => {\n  globalState.eventEmitter.once(eventName, eventHandler);\n};\n\n/**\n * @param {string} [eventName]\n * @param {EventHandler} [eventHandler]\n */\nconst off = (eventName, eventHandler) => {\n  // Remove all handlers for all events\n  if (!eventName) {\n    globalState.eventEmitter.reset();\n    return;\n  }\n  if (eventHandler) {\n    // Remove a specific handler\n    globalState.eventEmitter.removeListener(eventName, eventHandler);\n  } else {\n    // Remove all handlers for a specific event\n    globalState.eventEmitter.removeAllListeners(eventName);\n  }\n};\n\nvar staticMethods = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  argsToParams: argsToParams,\n  bindClickHandler: bindClickHandler,\n  clickCancel: clickCancel,\n  clickConfirm: clickConfirm,\n  clickDeny: clickDeny,\n  enableLoading: showLoading,\n  fire: fire,\n  getActions: getActions,\n  getCancelButton: getCancelButton,\n  getCloseButton: getCloseButton,\n  getConfirmButton: getConfirmButton,\n  getContainer: getContainer,\n  getDenyButton: getDenyButton,\n  getFocusableElements: getFocusableElements,\n  getFooter: getFooter,\n  getHtmlContainer: getHtmlContainer,\n  getIcon: getIcon,\n  getIconContent: getIconContent,\n  getImage: getImage,\n  getInputLabel: getInputLabel,\n  getLoader: getLoader,\n  getPopup: getPopup,\n  getProgressSteps: getProgressSteps,\n  getTimerLeft: getTimerLeft,\n  getTimerProgressBar: getTimerProgressBar,\n  getTitle: getTitle,\n  getValidationMessage: getValidationMessage,\n  increaseTimer: increaseTimer,\n  isDeprecatedParameter: isDeprecatedParameter,\n  isLoading: isLoading,\n  isTimerRunning: isTimerRunning,\n  isUpdatableParameter: isUpdatableParameter,\n  isValidParameter: isValidParameter,\n  isVisible: isVisible,\n  mixin: mixin,\n  off: off,\n  on: on,\n  once: once,\n  resumeTimer: resumeTimer,\n  showLoading: showLoading,\n  stopTimer: stopTimer,\n  toggleTimer: toggleTimer\n});\n\nclass Timer {\n  /**\n   * @param {Function} callback\n   * @param {number} delay\n   */\n  constructor(callback, delay) {\n    this.callback = callback;\n    this.remaining = delay;\n    this.running = false;\n    this.start();\n  }\n\n  /**\n   * @returns {number}\n   */\n  start() {\n    if (!this.running) {\n      this.running = true;\n      this.started = new Date();\n      this.id = setTimeout(this.callback, this.remaining);\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {number}\n   */\n  stop() {\n    if (this.started && this.running) {\n      this.running = false;\n      clearTimeout(this.id);\n      this.remaining -= new Date().getTime() - this.started.getTime();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @param {number} n\n   * @returns {number}\n   */\n  increase(n) {\n    const running = this.running;\n    if (running) {\n      this.stop();\n    }\n    this.remaining += n;\n    if (running) {\n      this.start();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {number}\n   */\n  getTimerLeft() {\n    if (this.running) {\n      this.stop();\n      this.start();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  isRunning() {\n    return this.running;\n  }\n}\n\nconst swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {SweetAlertOptions}\n */\nconst getTemplateParams = params => {\n  const template = typeof params.template === 'string' ? (/** @type {HTMLTemplateElement} */document.querySelector(params.template)) : params.template;\n  if (!template) {\n    return {};\n  }\n  /** @type {DocumentFragment} */\n  const templateContent = template.content;\n  showWarningsForElements(templateContent);\n  const result = Object.assign(getSwalParams(templateContent), getSwalFunctionParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalParams = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalParams = Array.from(templateContent.querySelectorAll('swal-param'));\n  swalParams.forEach(param => {\n    showWarningsForAttributes(param, ['name', 'value']);\n    const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n    const value = param.getAttribute('value');\n    if (!paramName || !value) {\n      return;\n    }\n    if (typeof defaultParams[paramName] === 'boolean') {\n      result[paramName] = value !== 'false';\n    } else if (typeof defaultParams[paramName] === 'object') {\n      result[paramName] = JSON.parse(value);\n    } else {\n      result[paramName] = value;\n    }\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalFunctionParams = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalFunctions = Array.from(templateContent.querySelectorAll('swal-function-param'));\n  swalFunctions.forEach(param => {\n    const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n    const value = param.getAttribute('value');\n    if (!paramName || !value) {\n      return;\n    }\n    result[paramName] = new Function(`return ${value}`)();\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalButtons = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalButtons = Array.from(templateContent.querySelectorAll('swal-button'));\n  swalButtons.forEach(button => {\n    showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n    const type = button.getAttribute('type');\n    if (!type || !['confirm', 'cancel', 'deny'].includes(type)) {\n      return;\n    }\n    result[`${type}ButtonText`] = button.innerHTML;\n    result[`show${capitalizeFirstLetter(type)}Button`] = true;\n    if (button.hasAttribute('color')) {\n      result[`${type}ButtonColor`] = button.getAttribute('color');\n    }\n    if (button.hasAttribute('aria-label')) {\n      result[`${type}ButtonAriaLabel`] = button.getAttribute('aria-label');\n    }\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Pick<SweetAlertOptions, 'imageUrl' | 'imageWidth' | 'imageHeight' | 'imageAlt'>}\n */\nconst getSwalImage = templateContent => {\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const image = templateContent.querySelector('swal-image');\n  if (image) {\n    showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n    if (image.hasAttribute('src')) {\n      result.imageUrl = image.getAttribute('src') || undefined;\n    }\n    if (image.hasAttribute('width')) {\n      result.imageWidth = image.getAttribute('width') || undefined;\n    }\n    if (image.hasAttribute('height')) {\n      result.imageHeight = image.getAttribute('height') || undefined;\n    }\n    if (image.hasAttribute('alt')) {\n      result.imageAlt = image.getAttribute('alt') || undefined;\n    }\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalIcon = templateContent => {\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const icon = templateContent.querySelector('swal-icon');\n  if (icon) {\n    showWarningsForAttributes(icon, ['type', 'color']);\n    if (icon.hasAttribute('type')) {\n      result.icon = icon.getAttribute('type');\n    }\n    if (icon.hasAttribute('color')) {\n      result.iconColor = icon.getAttribute('color');\n    }\n    result.iconHtml = icon.innerHTML;\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalInput = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const input = templateContent.querySelector('swal-input');\n  if (input) {\n    showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n    result.input = input.getAttribute('type') || 'text';\n    if (input.hasAttribute('label')) {\n      result.inputLabel = input.getAttribute('label');\n    }\n    if (input.hasAttribute('placeholder')) {\n      result.inputPlaceholder = input.getAttribute('placeholder');\n    }\n    if (input.hasAttribute('value')) {\n      result.inputValue = input.getAttribute('value');\n    }\n  }\n  /** @type {HTMLElement[]} */\n  const inputOptions = Array.from(templateContent.querySelectorAll('swal-input-option'));\n  if (inputOptions.length) {\n    result.inputOptions = {};\n    inputOptions.forEach(option => {\n      showWarningsForAttributes(option, ['value']);\n      const optionValue = option.getAttribute('value');\n      if (!optionValue) {\n        return;\n      }\n      const optionName = option.innerHTML;\n      result.inputOptions[optionValue] = optionName;\n    });\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @param {string[]} paramNames\n * @returns {Record<string, any>}\n */\nconst getSwalStringParams = (templateContent, paramNames) => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  for (const i in paramNames) {\n    const paramName = paramNames[i];\n    /** @type {HTMLElement | null} */\n    const tag = templateContent.querySelector(paramName);\n    if (tag) {\n      showWarningsForAttributes(tag, []);\n      result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n    }\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n */\nconst showWarningsForElements = templateContent => {\n  const allowedElements = swalStringParams.concat(['swal-param', 'swal-function-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n  Array.from(templateContent.children).forEach(el => {\n    const tagName = el.tagName.toLowerCase();\n    if (!allowedElements.includes(tagName)) {\n      warn(`Unrecognized element <${tagName}>`);\n    }\n  });\n};\n\n/**\n * @param {HTMLElement} el\n * @param {string[]} allowedAttributes\n */\nconst showWarningsForAttributes = (el, allowedAttributes) => {\n  Array.from(el.attributes).forEach(attribute => {\n    if (allowedAttributes.indexOf(attribute.name) === -1) {\n      warn([`Unrecognized attribute \"${attribute.name}\" on <${el.tagName.toLowerCase()}>.`, `${allowedAttributes.length ? `Allowed attributes are: ${allowedAttributes.join(', ')}` : 'To set the value, use HTML within the element.'}`]);\n    }\n  });\n};\n\nconst SHOW_CLASS_TIMEOUT = 10;\n\n/**\n * Open popup, add necessary classes and styles, fix scrollbar\n *\n * @param {SweetAlertOptions} params\n */\nconst openPopup = params => {\n  const container = getContainer();\n  const popup = getPopup();\n  if (typeof params.willOpen === 'function') {\n    params.willOpen(popup);\n  }\n  globalState.eventEmitter.emit('willOpen', popup);\n  const bodyStyles = window.getComputedStyle(document.body);\n  const initialBodyOverflow = bodyStyles.overflowY;\n  addClasses(container, popup, params);\n\n  // scrolling is 'hidden' until animation is done, after that 'auto'\n  setTimeout(() => {\n    setScrollingVisibility(container, popup);\n  }, SHOW_CLASS_TIMEOUT);\n  if (isModal()) {\n    fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n    setAriaHidden();\n  }\n  if (!isToast() && !globalState.previousActiveElement) {\n    globalState.previousActiveElement = document.activeElement;\n  }\n  if (typeof params.didOpen === 'function') {\n    setTimeout(() => params.didOpen(popup));\n  }\n  globalState.eventEmitter.emit('didOpen', popup);\n  removeClass(container, swalClasses['no-transition']);\n};\n\n/**\n * @param {AnimationEvent} event\n */\nconst swalOpenAnimationFinished = event => {\n  const popup = getPopup();\n  if (event.target !== popup) {\n    return;\n  }\n  const container = getContainer();\n  popup.removeEventListener('animationend', swalOpenAnimationFinished);\n  popup.removeEventListener('transitionend', swalOpenAnimationFinished);\n  container.style.overflowY = 'auto';\n};\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n */\nconst setScrollingVisibility = (container, popup) => {\n  if (hasCssAnimation(popup)) {\n    container.style.overflowY = 'hidden';\n    popup.addEventListener('animationend', swalOpenAnimationFinished);\n    popup.addEventListener('transitionend', swalOpenAnimationFinished);\n  } else {\n    container.style.overflowY = 'auto';\n  }\n};\n\n/**\n * @param {HTMLElement} container\n * @param {boolean} scrollbarPadding\n * @param {string} initialBodyOverflow\n */\nconst fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n  iOSfix();\n  if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n    replaceScrollbarWithPadding(initialBodyOverflow);\n  }\n\n  // sweetalert2/issues/1247\n  setTimeout(() => {\n    container.scrollTop = 0;\n  });\n};\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\nconst addClasses = (container, popup, params) => {\n  addClass(container, params.showClass.backdrop);\n  if (params.animation) {\n    // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n    popup.style.setProperty('opacity', '0', 'important');\n    show(popup, 'grid');\n    setTimeout(() => {\n      // Animate popup right after showing it\n      addClass(popup, params.showClass.popup);\n      // and remove the opacity workaround\n      popup.style.removeProperty('opacity');\n    }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n  } else {\n    show(popup, 'grid');\n  }\n  addClass([document.documentElement, document.body], swalClasses.shown);\n  if (params.heightAuto && params.backdrop && !params.toast) {\n    addClass([document.documentElement, document.body], swalClasses['height-auto']);\n  }\n};\n\nvar defaultInputValidators = {\n  /**\n   * @param {string} string\n   * @param {string} [validationMessage]\n   * @returns {Promise<string | void>}\n   */\n  email: (string, validationMessage) => {\n    return /^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]+$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n  },\n  /**\n   * @param {string} string\n   * @param {string} [validationMessage]\n   * @returns {Promise<string | void>}\n   */\n  url: (string, validationMessage) => {\n    // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n    return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nfunction setDefaultInputValidators(params) {\n  // Use default `inputValidator` for supported input types if not provided\n  if (params.inputValidator) {\n    return;\n  }\n  if (params.input === 'email') {\n    params.inputValidator = defaultInputValidators['email'];\n  }\n  if (params.input === 'url') {\n    params.inputValidator = defaultInputValidators['url'];\n  }\n}\n\n/**\n * @param {SweetAlertOptions} params\n */\nfunction validateCustomTargetElement(params) {\n  // Determine if the custom target element is valid\n  if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n    warn('Target parameter is not valid, defaulting to \"body\"');\n    params.target = 'body';\n  }\n}\n\n/**\n * Set type, text and actions on popup\n *\n * @param {SweetAlertOptions} params\n */\nfunction setParameters(params) {\n  setDefaultInputValidators(params);\n\n  // showLoaderOnConfirm && preConfirm\n  if (params.showLoaderOnConfirm && !params.preConfirm) {\n    warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n  }\n  validateCustomTargetElement(params);\n\n  // Replace newlines with <br> in title\n  if (typeof params.title === 'string') {\n    params.title = params.title.split('\\n').join('<br />');\n  }\n  init(params);\n}\n\n/** @type {SweetAlert} */\nlet currentInstance;\nvar _promise = /*#__PURE__*/new WeakMap();\nclass SweetAlert {\n  /**\n   * @param {...any} args\n   * @this {SweetAlert}\n   */\n  constructor() {\n    /**\n     * @type {Promise<SweetAlertResult>}\n     */\n    _classPrivateFieldInitSpec(this, _promise, void 0);\n    // Prevent run in Node env\n    if (typeof window === 'undefined') {\n      return;\n    }\n    currentInstance = this;\n\n    // @ts-ignore\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const outerParams = Object.freeze(this.constructor.argsToParams(args));\n\n    /** @type {Readonly<SweetAlertOptions>} */\n    this.params = outerParams;\n\n    /** @type {boolean} */\n    this.isAwaitingPromise = false;\n    _classPrivateFieldSet2(_promise, this, this._main(currentInstance.params));\n  }\n  _main(userParams) {\n    let mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    showWarningsForParams(Object.assign({}, mixinParams, userParams));\n    if (globalState.currentInstance) {\n      const swalPromiseResolve = privateMethods.swalPromiseResolve.get(globalState.currentInstance);\n      const {\n        isAwaitingPromise\n      } = globalState.currentInstance;\n      globalState.currentInstance._destroy();\n      if (!isAwaitingPromise) {\n        swalPromiseResolve({\n          isDismissed: true\n        });\n      }\n      if (isModal()) {\n        unsetAriaHidden();\n      }\n    }\n    globalState.currentInstance = currentInstance;\n    const innerParams = prepareParams(userParams, mixinParams);\n    setParameters(innerParams);\n    Object.freeze(innerParams);\n\n    // clear the previous timer\n    if (globalState.timeout) {\n      globalState.timeout.stop();\n      delete globalState.timeout;\n    }\n\n    // clear the restore focus timeout\n    clearTimeout(globalState.restoreFocusTimeout);\n    const domCache = populateDomCache(currentInstance);\n    render(currentInstance, innerParams);\n    privateProps.innerParams.set(currentInstance, innerParams);\n    return swalPromise(currentInstance, domCache, innerParams);\n  }\n\n  // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n  then(onFulfilled) {\n    return _classPrivateFieldGet2(_promise, this).then(onFulfilled);\n  }\n  finally(onFinally) {\n    return _classPrivateFieldGet2(_promise, this).finally(onFinally);\n  }\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n * @returns {Promise}\n */\nconst swalPromise = (instance, domCache, innerParams) => {\n  return new Promise((resolve, reject) => {\n    // functions to handle all closings/dismissals\n    /**\n     * @param {DismissReason} dismiss\n     */\n    const dismissWith = dismiss => {\n      instance.close({\n        isDismissed: true,\n        dismiss\n      });\n    };\n    privateMethods.swalPromiseResolve.set(instance, resolve);\n    privateMethods.swalPromiseReject.set(instance, reject);\n    domCache.confirmButton.onclick = () => {\n      handleConfirmButtonClick(instance);\n    };\n    domCache.denyButton.onclick = () => {\n      handleDenyButtonClick(instance);\n    };\n    domCache.cancelButton.onclick = () => {\n      handleCancelButtonClick(instance, dismissWith);\n    };\n    domCache.closeButton.onclick = () => {\n      dismissWith(DismissReason.close);\n    };\n    handlePopupClick(innerParams, domCache, dismissWith);\n    addKeydownHandler(globalState, innerParams, dismissWith);\n    handleInputOptionsAndValue(instance, innerParams);\n    openPopup(innerParams);\n    setupTimer(globalState, innerParams, dismissWith);\n    initFocus(domCache, innerParams);\n\n    // Scroll container to top on open (#1247, #1946)\n    setTimeout(() => {\n      domCache.container.scrollTop = 0;\n    });\n  });\n};\n\n/**\n * @param {SweetAlertOptions} userParams\n * @param {SweetAlertOptions} mixinParams\n * @returns {SweetAlertOptions}\n */\nconst prepareParams = (userParams, mixinParams) => {\n  const templateParams = getTemplateParams(userParams);\n  const params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n  params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n  params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n  if (params.animation === false) {\n    params.showClass = {\n      backdrop: 'swal2-noanimation'\n    };\n    params.hideClass = {};\n  }\n  return params;\n};\n\n/**\n * @param {SweetAlert} instance\n * @returns {DomCache}\n */\nconst populateDomCache = instance => {\n  const domCache = {\n    popup: getPopup(),\n    container: getContainer(),\n    actions: getActions(),\n    confirmButton: getConfirmButton(),\n    denyButton: getDenyButton(),\n    cancelButton: getCancelButton(),\n    loader: getLoader(),\n    closeButton: getCloseButton(),\n    validationMessage: getValidationMessage(),\n    progressSteps: getProgressSteps()\n  };\n  privateProps.domCache.set(instance, domCache);\n  return domCache;\n};\n\n/**\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst setupTimer = (globalState, innerParams, dismissWith) => {\n  const timerProgressBar = getTimerProgressBar();\n  hide(timerProgressBar);\n  if (innerParams.timer) {\n    globalState.timeout = new Timer(() => {\n      dismissWith('timer');\n      delete globalState.timeout;\n    }, innerParams.timer);\n    if (innerParams.timerProgressBar) {\n      show(timerProgressBar);\n      applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n      setTimeout(() => {\n        if (globalState.timeout && globalState.timeout.running) {\n          // timer can be already stopped or unset at this point\n          animateTimerProgressBar(innerParams.timer);\n        }\n      });\n    }\n  }\n};\n\n/**\n * Initialize focus in the popup:\n *\n * 1. If `toast` is `true`, don't steal focus from the document.\n * 2. Else if there is an [autofocus] element, focus it.\n * 3. Else if `focusConfirm` is `true` and confirm button is visible, focus it.\n * 4. Else if `focusDeny` is `true` and deny button is visible, focus it.\n * 5. Else if `focusCancel` is `true` and cancel button is visible, focus it.\n * 6. Else focus the first focusable element in a popup (if any).\n *\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n */\nconst initFocus = (domCache, innerParams) => {\n  if (innerParams.toast) {\n    return;\n  }\n  // TODO: this is dumb, remove `allowEnterKey` param in the next major version\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    warnAboutDeprecation('allowEnterKey');\n    blurActiveElement();\n    return;\n  }\n  if (focusAutofocus(domCache)) {\n    return;\n  }\n  if (focusButton(domCache, innerParams)) {\n    return;\n  }\n  setFocus(-1, 1);\n};\n\n/**\n * @param {DomCache} domCache\n * @returns {boolean}\n */\nconst focusAutofocus = domCache => {\n  const autofocusElements = Array.from(domCache.popup.querySelectorAll('[autofocus]'));\n  for (const autofocusElement of autofocusElements) {\n    if (autofocusElement instanceof HTMLElement && isVisible$1(autofocusElement)) {\n      autofocusElement.focus();\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n * @returns {boolean}\n */\nconst focusButton = (domCache, innerParams) => {\n  if (innerParams.focusDeny && isVisible$1(domCache.denyButton)) {\n    domCache.denyButton.focus();\n    return true;\n  }\n  if (innerParams.focusCancel && isVisible$1(domCache.cancelButton)) {\n    domCache.cancelButton.focus();\n    return true;\n  }\n  if (innerParams.focusConfirm && isVisible$1(domCache.confirmButton)) {\n    domCache.confirmButton.focus();\n    return true;\n  }\n  return false;\n};\nconst blurActiveElement = () => {\n  if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n    document.activeElement.blur();\n  }\n};\n\n// Dear russian users visiting russian sites. Let's have fun.\nif (typeof window !== 'undefined' && /^ru\\b/.test(navigator.language) && location.host.match(/\\.(ru|su|by|xn--p1ai)$/)) {\n  const now = new Date();\n  const initiationDate = localStorage.getItem('swal-initiation');\n  if (!initiationDate) {\n    localStorage.setItem('swal-initiation', `${now}`);\n  } else if ((now.getTime() - Date.parse(initiationDate)) / (1000 * 60 * 60 * 24) > 3) {\n    setTimeout(() => {\n      document.body.style.pointerEvents = 'none';\n      const ukrainianAnthem = document.createElement('audio');\n      ukrainianAnthem.src = 'https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3';\n      ukrainianAnthem.loop = true;\n      document.body.appendChild(ukrainianAnthem);\n      setTimeout(() => {\n        ukrainianAnthem.play().catch(() => {\n          // ignore\n        });\n      }, 2500);\n    }, 500);\n  }\n}\n\n// Assign instance methods from src/instanceMethods/*.js to prototype\nSweetAlert.prototype.disableButtons = disableButtons;\nSweetAlert.prototype.enableButtons = enableButtons;\nSweetAlert.prototype.getInput = getInput;\nSweetAlert.prototype.disableInput = disableInput;\nSweetAlert.prototype.enableInput = enableInput;\nSweetAlert.prototype.hideLoading = hideLoading;\nSweetAlert.prototype.disableLoading = hideLoading;\nSweetAlert.prototype.showValidationMessage = showValidationMessage;\nSweetAlert.prototype.resetValidationMessage = resetValidationMessage;\nSweetAlert.prototype.close = close;\nSweetAlert.prototype.closePopup = close;\nSweetAlert.prototype.closeModal = close;\nSweetAlert.prototype.closeToast = close;\nSweetAlert.prototype.rejectPromise = rejectPromise;\nSweetAlert.prototype.update = update;\nSweetAlert.prototype._destroy = _destroy;\n\n// Assign static methods from src/staticMethods/*.js to constructor\nObject.assign(SweetAlert, staticMethods);\n\n// Proxy to instance methods to constructor, for now, for backwards compatibility\nObject.keys(instanceMethods).forEach(key => {\n  /**\n   * @param {...any} args\n   * @returns {any | undefined}\n   */\n  SweetAlert[key] = function () {\n    if (currentInstance && currentInstance[key]) {\n      return currentInstance[key](...arguments);\n    }\n    return null;\n  };\n});\nSweetAlert.DismissReason = DismissReason;\nSweetAlert.version = '11.15.10';\n\nconst Swal = SweetAlert;\n// @ts-ignore\nSwal.default = Swal;\n\nexport { Swal as default };\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\"body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:\\\"top-start     top            top-end\\\" \\\"center-start  center         center-end\\\" \\\"bottom-start  bottom-center  bottom-end\\\";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}\");","// sweetalert2-react-content v5.1.0\n\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nconst mounts = [{\n  key: 'title',\n  getter: swal => swal.getTitle()\n}, {\n  key: 'html',\n  getter: swal => swal.getHtmlContainer()\n}, {\n  key: 'confirmButtonText',\n  getter: swal => swal.getConfirmButton()\n}, {\n  key: 'denyButtonText',\n  getter: swal => swal.getDenyButton()\n}, {\n  key: 'cancelButtonText',\n  getter: swal => swal.getCancelButton()\n}, {\n  key: 'footer',\n  getter: swal => swal.getFooter()\n}, {\n  key: 'closeButtonHtml',\n  getter: swal => swal.getCloseButton()\n}, {\n  key: 'iconHtml',\n  getter: swal => swal.getIconContent()\n}, {\n  key: 'loaderHtml',\n  getter: swal => swal.getLoader()\n}];\n\nconst noop = () => {};\nfunction withReactContent(ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams(params) {\n    const reactParams = {};\n    const otherParams = {};\n    const mountKeys = mounts.map(mount => mount.key);\n    Object.entries(params).forEach(_ref => {\n      let [key, value] = _ref;\n      if (mountKeys.includes(key) && /*#__PURE__*/React.isValidElement(value)) {\n        reactParams[key] = value;\n        otherParams[key] = ' ';\n      } else {\n        otherParams[key] = value;\n      }\n    });\n    return [reactParams, otherParams];\n  }\n  function render(swal, reactParams) {\n    Object.entries(reactParams).forEach(_ref2 => {\n      let [key, value] = _ref2;\n      const mount = mounts.find(mount => mount.key === key);\n      const domElement = mount.getter(ParentSwal);\n      const root = createRoot(domElement);\n      root.render(value);\n      swal.__roots.push(root);\n    });\n  }\n  function unrender(swal) {\n    swal.__roots.forEach(root => {\n      root.unmount();\n    });\n    swal.__roots = [];\n  }\n  return class extends ParentSwal {\n    static argsToParams(args) {\n      if (/*#__PURE__*/React.isValidElement(args[0]) || /*#__PURE__*/React.isValidElement(args[1])) {\n        const params = {};\n        ['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index];\n          }\n        });\n        return params;\n      } else {\n        return ParentSwal.argsToParams(args);\n      }\n    }\n    _main(params, mixinParams) {\n      this.__roots = [];\n      this.__params = Object.assign({}, mixinParams, params);\n      const [reactParams, otherParams] = extractReactParams(this.__params);\n      const superWillOpen = otherParams.willOpen || noop;\n      const superDidOpen = otherParams.didOpen || noop;\n      const superDidDestroy = otherParams.didDestroy || noop;\n      return super._main(Object.assign({}, otherParams, {\n        willOpen: popup => {\n          render(this, reactParams);\n          superWillOpen(popup);\n        },\n        didOpen: popup => {\n          // read more about why this setTimeout is needed here:\n          // https://github.com/reactwg/react-18/discussions/5 (What about the render callback?)\n          setTimeout(() => {\n            superDidOpen(popup);\n          });\n        },\n        didDestroy: popup => {\n          superDidDestroy(popup);\n          unrender(this);\n        }\n      }));\n    }\n    update(params) {\n      Object.assign(this.__params, params);\n      unrender(this);\n      const [reactParams, otherParams] = extractReactParams(this.__params);\n      super.update(otherParams);\n      render(this, reactParams);\n    }\n  };\n}\n\nexport { withReactContent as default };\n//# sourceMappingURL=sweetalert2-react-content.es.js.map\n","import Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nconst MySwal = withReactContent(Swal);\n\n// Create a wrapper that ensures DOM is ready\nconst createAlert = () => {\n  // Return a function that creates the alert\n  return (options: any) => {\n    // Ensure we're in a browser environment\n    if (typeof window === 'undefined') return Promise.resolve();\n\n    // Ensure DOM is ready\n    if (document.readyState === 'loading') {\n      return new Promise((resolve) => {\n        document.addEventListener('DOMContentLoaded', () => {\n          resolve(MySwal.fire(options));\n        });\n      });\n    }\n\n    // DOM is ready, show alert\n    return MySwal.fire(options);\n  };\n};\n\n// Export the alert function\nexport const showAlert = createAlert();\n\n// Common alert patterns\nexport const showSuccess = (title: string, text?: string) => {\n  return showAlert({\n    title,\n    text,\n    icon: 'success',\n    confirmButtonColor: '#4F46E5',\n    customClass: {\n      container: 'font-body',\n      popup: 'rounded-lg',\n      title: 'text-xl font-display font-bold',\n      confirmButton: 'px-6 py-2 rounded-lg text-white'\n    }\n  });\n};\n\nexport const showError = (title: string, text?: string) => {\n  return showAlert({\n    title,\n    text,\n    icon: 'error',\n    confirmButtonColor: '#DC2626',\n    customClass: {\n      container: 'font-body',\n      popup: 'rounded-lg',\n      title: 'text-xl font-display font-bold text-red-600',\n      confirmButton: 'px-6 py-2 rounded-lg text-white'\n    }\n  });\n};\n\nexport const showConfirm = (title: string, text: string) => {\n  return showAlert({\n    title,\n    text,\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonColor: '#4F46E5',\n    cancelButtonColor: '#6B7280',\n    confirmButtonText: 'Yes',\n    customClass: {\n      container: 'font-body',\n      popup: 'rounded-lg',\n      title: 'text-xl font-display font-bold',\n      confirmButton: 'px-6 py-2 rounded-lg text-white',\n      cancelButton: 'px-6 py-2 rounded-lg'\n    }\n  });\n};","import { initializeApp } from 'firebase/app';\nimport { \n  getFirestore, \n  connectFirestoreEmulator,\n  initializeFirestore,\n  persistentLocalCache,\n  persistentMultipleTabManager,\n  collection,\n  addDoc,\n  getDoc,\n  doc,\n  updateDoc,\n  getDocs,\n  query,\n  QueryConstraint,\n  DocumentData,\n  FirestoreError,\n  Timestamp,\n  WriteBatch,\n  serverTimestamp\n} from 'firebase/firestore';\nimport { \n  getAuth, \n  connectAuthEmulator,\n  Auth\n} from 'firebase/auth';\nimport { getStorage, connectStorageEmulator } from 'firebase/storage';\nimport { getAnalytics } from 'firebase/analytics';\nimport { showError } from './alerts';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\n  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID\n};\n\n// Validate Firebase config\nObject.entries(firebaseConfig).forEach(([key, value]) => {\n  if (!value) {\n    console.error(`Missing Firebase config: ${key}`);\n  }\n});\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Firestore with multi-tab persistence\nconst db = initializeFirestore(app, {\n  localCache: persistentLocalCache({\n    tabManager: persistentMultipleTabManager()\n  })\n});\n\n// Initialize Auth\nconst auth = getAuth(app);\n\n// Initialize Storage\nconst storage = getStorage(app);\n\n// Connect to emulators in development\nif (process.env.NODE_ENV === 'development') {\n  if (window.location.hostname === 'localhost') {\n    try {\n      connectFirestoreEmulator(db, 'localhost', 8080);\n      connectAuthEmulator(auth, 'http://localhost:9099', { disableWarnings: true });\n      connectStorageEmulator(storage, 'localhost', 9199);\n      console.log('Connected to Firebase emulators');\n    } catch (error) {\n      console.error('Failed to connect to emulators:', error);\n    }\n  }\n}\n\n// Only initialize analytics in production\nconst analytics = typeof window !== 'undefined' && process.env.NODE_ENV === 'production' \n  ? getAnalytics(app)\n  : null;\n\n// Enhanced retry utility with exponential backoff\nconst withRetry = async <T>(\n  operation: () => Promise<T>,\n  maxRetries = 3,\n  baseDelay = 1000,\n  onRetry?: (attempt: number, error: Error) => void\n): Promise<T> => {\n  let lastError: Error | null = null;\n  \n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      return await operation();\n    } catch (error) {\n      lastError = error instanceof Error ? error : new Error(String(error));\n      \n      console.error(`Operation failed (attempt ${attempt}/${maxRetries}):`, {\n        error: lastError,\n        stack: lastError.stack,\n        timestamp: new Date().toISOString(),\n        code: (error as FirestoreError)?.code\n      });\n      \n      if (attempt === maxRetries) {\n        console.error('All retry attempts failed:', {\n          totalAttempts: attempt,\n          finalError: lastError,\n          code: (error as FirestoreError)?.code\n        });\n        break;\n      }\n      \n      onRetry?.(attempt, lastError);\n      \n      const delay = baseDelay * Math.pow(2, attempt - 1) * (0.5 + Math.random() * 0.5);\n      console.log(`Retrying in ${Math.round(delay)}ms...`);\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n  \n  throw lastError || new Error('Operation failed after retries');\n};\n\n// Initialize collections\nconst collections = {\n  challenges: collection(db, 'challenges'),\n  users: collection(db, 'users'),\n  trades: collection(db, 'trades'),\n  conversations: collection(db, 'conversations'),\n  messages: collection(db, 'messages'),\n  collaborations: collection(db, 'collaborations')\n};\n\n// Helper to check if a collection exists\nconst checkCollection = async (collectionName: string) => {\n  try {\n    const snapshot = await getDocs(collection(db, collectionName));\n    console.log(`Collection ${collectionName} exists with ${snapshot.size} documents`);\n    return snapshot.size > 0;\n  } catch (error) {\n    console.error(`Error checking collection ${collectionName}:`, error);\n    return false;\n  }\n};\n\n// Initialize required collections\nconst initializeCollections = async () => {\n  console.log('Initializing Firebase collections...');\n  \n  try {\n    // Check and initialize challenges collection\n    const hasExistingChallenges = await checkCollection('challenges');\n    if (!hasExistingChallenges) {\n      console.log('Initializing challenges collection...');\n      const { initializeChallenges } = await import('./ai-challenges');\n      await initializeChallenges();\n    }\n    \n    console.log('Firebase collections initialized successfully');\n  } catch (error) {\n    console.error('Failed to initialize collections:', error);\n    await showError(\n      'Database Initialization Error',\n      'Failed to initialize the database collections. Please refresh the page or contact support if the problem persists.'\n    );\n  }\n};\n\n// Export all necessary Firebase instances and utilities\nexport {\n  app as default,\n  db,\n  auth,\n  storage,\n  analytics,\n  withRetry,\n  collections,\n  checkCollection,\n  initializeCollections,\n  serverTimestamp\n};","import { createContext, useContext, useEffect, useState } from 'react';\nimport { \n  User, \n  onAuthStateChanged, \n  signOut, \n  createUserWithEmailAndPassword, \n  signInWithEmailAndPassword,\n  GoogleAuthProvider,\n  signInWithPopup,\n  signInWithRedirect,\n  getRedirectResult,\n  updateProfile\n} from 'firebase/auth';\nimport { auth, db, withRetry } from '../lib/firebase';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  signUp: (email: string, password: string, displayName: string) => Promise<void>;\n  signIn: (email: string, password: string) => Promise<void>;\n  signInWithGoogle: () => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      setUser(user);\n      setLoading(false);\n\n      // Check for redirect result\n      if (!user) {\n        try {\n          const result = await getRedirectResult(auth);\n          if (result?.user) {\n            await handleGoogleSignIn(result.user);\n          }\n        } catch (error: any) {\n          console.error('Redirect sign-in error:', error);\n          if (error.code === 'auth/unauthorized-domain') {\n            setError('This domain is not authorized for authentication. Please contact support.');\n          }\n        }\n      }\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const handleGoogleSignIn = async (user: User) => {\n    try {\n      await withRetry(async () => {\n        // Check if user profile exists\n        const userDoc = await getDoc(doc(db, 'users', user.uid));\n        \n        // If not, create one\n        if (!userDoc.exists()) {\n          await setDoc(doc(db, 'users', user.uid), {\n            email: user.email,\n            displayName: user.displayName,\n            bio: '',\n            skills: [],\n            portfolio: '',\n            createdAt: new Date(),\n            updatedAt: new Date(),\n          });\n        }\n      });\n    } catch (error) {\n      console.error('Error creating user profile:', error);\n      throw error;\n    }\n  };\n\n  const signUp = async (email: string, password: string, displayName: string) => {\n    try {\n      // Create user in Firebase Auth\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      \n      // Update display name in Firebase Auth\n      await updateProfile(userCredential.user, { displayName });\n      \n      // Create user profile in Firestore\n      await setDoc(doc(db, 'users', userCredential.user.uid), {\n        email,\n        displayName,\n        bio: '',\n        skills: [],\n        portfolio: '',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      });\n    } catch (error: any) {\n      console.error('Error in signUp:', error);\n      if (error.code === 'auth/email-already-in-use') {\n        throw new Error('An account with this email already exists');\n      } else if (error.code === 'auth/invalid-email') {\n        throw new Error('Invalid email address');\n      } else if (error.code === 'auth/operation-not-allowed') {\n        throw new Error('Email/password accounts are not enabled. Please contact support.');\n      } else if (error.code === 'auth/weak-password') {\n        throw new Error('Password is too weak. It must be at least 6 characters long.');\n      } else if (error.code === 'auth/unauthorized-domain') {\n        throw new Error('This domain is not authorized for authentication. Please contact support.');\n      } else {\n        throw new Error('Failed to create account. Please try again.');\n      }\n    }\n  };\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n    } catch (error: any) {\n      console.error('Error in signIn:', error);\n      if (error.code === 'auth/unauthorized-domain') {\n        throw new Error('This domain is not authorized for authentication. Please contact support.');\n      }\n      throw error;\n    }\n  };\n\n  const signInWithGoogle = async () => {\n    try {\n      const provider = new GoogleAuthProvider();\n      \n      // Try popup first\n      try {\n        const result = await signInWithPopup(auth, provider);\n        await handleGoogleSignIn(result.user);\n      } catch (popupError: any) {\n        console.error('Popup error:', popupError);\n        \n        // If popup is blocked or domain is unauthorized, handle appropriately\n        if (popupError.code === 'auth/popup-blocked') {\n          // Fall back to redirect\n          await signInWithRedirect(auth, provider);\n        } else if (popupError.code === 'auth/unauthorized-domain') {\n          throw new Error('This domain is not authorized for authentication. Please contact support.');\n        } else {\n          throw popupError;\n        }\n      }\n    } catch (error: any) {\n      console.error('Error in signInWithGoogle:', error);\n      throw error;\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error in logout:', error);\n      throw error;\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, signUp, signIn, signInWithGoogle, logout }}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}","import { createContext, useContext, useState, useEffect } from 'react';\nimport { useAuth } from './AuthContext';\nimport { getIdTokenResult } from 'firebase/auth';\n\ninterface AdminContextType {\n  isAdmin: boolean;\n  loading: boolean;\n}\n\nconst AdminContext = createContext<AdminContextType | null>(null);\n\nexport function AdminProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth();\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user) {\n      setIsAdmin(false);\n      setLoading(false);\n      return;\n    }\n\n    const checkAdminStatus = async () => {\n      try {\n        const tokenResult = await getIdTokenResult(user, true);\n        setIsAdmin(!!tokenResult.claims.admin);\n      } catch (error) {\n        console.error('Error checking admin status:', error);\n        setIsAdmin(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAdminStatus();\n  }, [user]);\n\n  return (\n    <AdminContext.Provider value={{ isAdmin, loading }}>\n      {children}\n    </AdminContext.Provider>\n  );\n}\n\nexport function useAdmin() {\n  const context = useContext(AdminContext);\n  if (!context) {\n    throw new Error('useAdmin must be used within an AdminProvider');\n  }\n  return context;\n}","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase().trim();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: [\"lucide\", `lucide-${toKebabCase(iconName)}`, className].join(\" \"),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Award = createLucideIcon(\"Award\", [\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }],\n  [\"path\", { d: \"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11\", key: \"em7aur\" }]\n]);\n\nexport { Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Briefcase = createLucideIcon(\"Briefcase\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"7\", rx: \"2\", ry: \"2\", key: \"eto64e\" }],\n  [\"path\", { d: \"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\", key: \"zwj3tp\" }]\n]);\n\nexport { Briefcase as default };\n//# sourceMappingURL=briefcase.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", ry: \"2\", key: \"eu3xkr\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"2\", y2: \"6\", key: \"m3sa8f\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"2\", y2: \"6\", key: \"18kwsl\" }],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"10\", y2: \"10\", key: \"xt86sb\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle2 = createLucideIcon(\"CheckCircle2\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CheckCircle2 as default };\n//# sourceMappingURL=check-circle-2.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ExternalLink = createLucideIcon(\"ExternalLink\", [\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }],\n  [\"polyline\", { points: \"15 3 21 3 21 9\", key: \"mznyad\" }],\n  [\"line\", { x1: \"10\", x2: \"21\", y1: \"14\", y2: \"3\", key: \"18c3s4\" }]\n]);\n\nexport { ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\"polygon\", { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst HelpCircle = createLucideIcon(\"HelpCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\", key: \"1u773s\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { HelpCircle as default };\n//# sourceMappingURL=help-circle.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Link = createLucideIcon(\"Link\", [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n]);\n\nexport { Link as default };\n//# sourceMappingURL=link.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Loader = createLucideIcon(\"Loader\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"6\", key: \"gza1u7\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"18\", y2: \"22\", key: \"1qhbu9\" }],\n  [\"line\", { x1: \"4.93\", x2: \"7.76\", y1: \"4.93\", y2: \"7.76\", key: \"xae44r\" }],\n  [\"line\", { x1: \"16.24\", x2: \"19.07\", y1: \"16.24\", y2: \"19.07\", key: \"bxnmvf\" }],\n  [\"line\", { x1: \"2\", x2: \"6\", y1: \"12\", y2: \"12\", key: \"89khin\" }],\n  [\"line\", { x1: \"18\", x2: \"22\", y1: \"12\", y2: \"12\", key: \"pb8tfm\" }],\n  [\"line\", { x1: \"4.93\", x2: \"7.76\", y1: \"19.07\", y2: \"16.24\", key: \"1uxjnu\" }],\n  [\"line\", { x1: \"16.24\", x2: \"19.07\", y1: \"7.76\", y2: \"4.93\", key: \"6duxfx\" }]\n]);\n\nexport { Loader as default };\n//# sourceMappingURL=loader.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LogOut = createLucideIcon(\"LogOut\", [\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }],\n  [\"polyline\", { points: \"16 17 21 12 16 7\", key: \"1gabdz\" }],\n  [\"line\", { x1: \"21\", x2: \"9\", y1: \"12\", y2: \"12\", key: \"1uyos4\" }]\n]);\n\nexport { LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"Mail\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageSquare = createLucideIcon(\"MessageSquare\", [\n  [\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\", key: \"1lielz\" }]\n]);\n\nexport { MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst PenSquare = createLucideIcon(\"PenSquare\", [\n  [\"path\", { d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1qinfi\" }],\n  [\"path\", { d: \"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z\", key: \"w2jsv5\" }]\n]);\n\nexport { PenSquare as default };\n//# sourceMappingURL=pen-square.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pencil = createLucideIcon(\"Pencil\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"5 3 19 12 5 21 5 3\", key: \"191637\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\"path\", { d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\", key: \"1owoqh\" }],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\"path\", { d: \"m22 2-7 20-4-9-9-4Z\", key: \"1q3vgg\" }],\n  [\"path\", { d: \"M22 2 11 13\", key: \"nzbqef\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\", key: \"1irkt0\" }]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\",\n      key: \"17u4zn\"\n    }\n  ],\n  [\"path\", { d: \"M5 3v4\", key: \"bklmnn\" }],\n  [\"path\", { d: \"M19 17v4\", key: \"iiml17\" }],\n  [\"path\", { d: \"M3 5h4\", key: \"nem4j1\" }],\n  [\"path\", { d: \"M17 19h4\", key: \"lbex7p\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Star = createLucideIcon(\"Star\", [\n  [\n    \"polygon\",\n    {\n      points: \"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",\n      key: \"8f66p6\"\n    }\n  ]\n]);\n\nexport { Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tag = createLucideIcon(\"Tag\", [\n  [\n    \"path\",\n    {\n      d: \"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z\",\n      key: \"14b2ls\"\n    }\n  ],\n  [\"path\", { d: \"M7 7h.01\", key: \"7u93v4\" }]\n]);\n\nexport { Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ThumbsUp = createLucideIcon(\"ThumbsUp\", [\n  [\"path\", { d: \"M7 10v12\", key: \"1qc93n\" }],\n  [\n    \"path\",\n    {\n      d: \"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z\",\n      key: \"y3tblf\"\n    }\n  ]\n]);\n\nexport { ThumbsUp as default };\n//# sourceMappingURL=thumbs-up.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trophy = createLucideIcon(\"Trophy\", [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n]);\n\nexport { Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wand = createLucideIcon(\"Wand\", [\n  [\"path\", { d: \"M15 4V2\", key: \"z1p9b7\" }],\n  [\"path\", { d: \"M15 16v-2\", key: \"px0unx\" }],\n  [\"path\", { d: \"M8 9h2\", key: \"1g203m\" }],\n  [\"path\", { d: \"M20 9h2\", key: \"19tzq7\" }],\n  [\"path\", { d: \"M17.8 11.8 19 13\", key: \"yihg8r\" }],\n  [\"path\", { d: \"M15 9h0\", key: \"kg5t1u\" }],\n  [\"path\", { d: \"M17.8 6.2 19 5\", key: \"fd4us0\" }],\n  [\"path\", { d: \"m3 21 9-9\", key: \"1jfql5\" }],\n  [\"path\", { d: \"M12.2 6.2 11 5\", key: \"i3da3b\" }]\n]);\n\nexport { Wand as default };\n//# sourceMappingURL=wand.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\"polygon\", { points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\", key: \"45s27k\" }]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ZoomIn = createLucideIcon(\"ZoomIn\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"11\", x2: \"11\", y1: \"8\", y2: \"14\", key: \"1vmskp\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\nexport { ZoomIn as default };\n//# sourceMappingURL=zoom-in.js.map\n","import { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Shield, Loader } from 'lucide-react';\n\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-[60vh] flex flex-col items-center justify-center\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-full animate-spin opacity-75 blur-lg\"></div>\n          <div className=\"relative bg-cyber-gray-900 p-8 rounded-lg border border-cyber-gray-800\">\n            <Loader className=\"h-8 w-8 text-neon-blue animate-spin\" />\n          </div>\n        </div>\n        <p className=\"mt-4 text-cyber-gray-400 animate-pulse\">Authenticating...</p>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-[60vh] flex flex-col items-center justify-center p-4\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 bg-red-500/20 rounded-lg blur-lg\"></div>\n          <div className=\"relative bg-cyber-gray-900 p-8 rounded-lg border border-red-500/50 max-w-md\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              <Shield className=\"h-8 w-8 text-red-500\" />\n              <h2 className=\"text-xl font-display font-bold text-red-500\">Access Denied</h2>\n            </div>\n            <p className=\"text-cyber-gray-300 mb-6\">\n              This area requires authentication. Please log in to continue.\n            </p>\n            <Navigate to=\"/login\" replace />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}","import { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useAdmin } from '../contexts/AdminContext';\nimport { Shield, Loader } from 'lucide-react';\n\nexport function AdminRoute({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth();\n  const { isAdmin, loading } = useAdmin();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-[60vh] flex flex-col items-center justify-center\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-full animate-spin opacity-75 blur-lg\"></div>\n          <div className=\"relative bg-cyber-gray-900 p-8 rounded-lg border border-cyber-gray-800\">\n            <Loader className=\"h-8 w-8 text-neon-blue animate-spin\" />\n          </div>\n        </div>\n        <p className=\"mt-4 text-cyber-gray-400 animate-pulse\">Checking permissions...</p>\n      </div>\n    );\n  }\n\n  if (!user || !isAdmin) {\n    return (\n      <div className=\"min-h-[60vh] flex flex-col items-center justify-center p-4\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 bg-red-500/20 rounded-lg blur-lg\"></div>\n          <div className=\"relative bg-cyber-gray-900 p-8 rounded-lg border border-red-500/50 max-w-md\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              <Shield className=\"h-8 w-8 text-red-500\" />\n              <h2 className=\"text-xl font-display font-bold text-red-500\">Access Denied</h2>\n            </div>\n            <p className=\"text-cyber-gray-300 mb-6\">\n              This area requires administrator privileges.\n            </p>\n            <Navigate to=\"/\" replace />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LogIn, Mail, AlertCircle, HelpCircle } from 'lucide-react';\nimport { FirebaseError } from 'firebase/app';\n\nexport function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState<string | JSX.Element>('');\n  const [loading, setLoading] = useState(false);\n  const { signIn, signInWithGoogle } = useAuth();\n  const navigate = useNavigate();\n\n  const handleEmailSignIn = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    try {\n      await signIn(email, password);\n      navigate('/discover');\n    } catch (err) {\n      if (err instanceof FirebaseError) {\n        switch (err.code) {\n          case 'auth/invalid-email':\n            setError('Invalid email address');\n            break;\n          case 'auth/user-disabled':\n            setError('This account has been disabled');\n            break;\n          case 'auth/user-not-found':\n            setError('No account found with this email');\n            break;\n          case 'auth/wrong-password':\n          case 'auth/invalid-credential':\n            setError(\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"font-medium\">Invalid Credentials</p>\n                  <p className=\"text-sm mt-1\">\n                    The email or password you entered is incorrect. Please check your credentials and try again.\n                  </p>\n                </div>\n              </div>\n            );\n            break;\n          default:\n            setError('Failed to sign in');\n        }\n      } else {\n        setError('An unexpected error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      await signInWithGoogle();\n      navigate('/discover');\n    } catch (err) {\n      if (err instanceof FirebaseError) {\n        switch (err.code) {\n          case 'auth/popup-blocked':\n            setError(\n              <div className=\"flex items-center gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-600\" />\n                <div>\n                  <p className=\"font-medium\">Popup Blocked</p>\n                  <p className=\"text-sm\">\n                    Please allow popups for this site and try again. Look for the popup blocker icon in your browser's address bar.\n                  </p>\n                </div>\n              </div>\n            );\n            break;\n          case 'auth/unauthorized-domain':\n            setError(\n              <div className=\"flex items-start gap-2 bg-yellow-50 p-4 rounded-lg\">\n                <HelpCircle className=\"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"font-medium text-yellow-800\">Domain Authorization Pending</p>\n                  <p className=\"text-sm text-yellow-700 mt-1\">\n                    This domain is not yet authorized for authentication. This can happen when:\n                  </p>\n                  <ul className=\"list-disc list-inside text-sm text-yellow-700 mt-2 space-y-1\">\n                    <li>The domain was recently added to Firebase</li>\n                    <li>Changes are still propagating (can take up to 15 minutes)</li>\n                    <li>The domain wasn't added to Firebase's authorized domains</li>\n                  </ul>\n                  <p className=\"text-sm text-yellow-700 mt-2\">\n                    Please try again in a few minutes. If the issue persists, contact support.\n                  </p>\n                </div>\n              </div>\n            );\n            break;\n          case 'auth/popup-closed-by-user':\n            setError('Sign in was cancelled');\n            break;\n          default:\n            setError('Failed to sign in with Google');\n        }\n      } else if (err instanceof Error) {\n        setError(err.message);\n      } else {\n        setError('An unexpected error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-96\">\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Sign In</h2>\n        \n        {error && (\n          <div className=\"mb-6\">\n            {typeof error === 'string' ? (\n              <div className=\"bg-red-100 text-red-700 p-3 rounded\">\n                {error}\n              </div>\n            ) : error}\n          </div>\n        )}\n\n        {/* Google Sign In Button */}\n        <button\n          onClick={handleGoogleSignIn}\n          disabled={loading}\n          className=\"w-full bg-white border-2 border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 mb-6 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n            <path\n              fill=\"#4285F4\"\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n            />\n            <path\n              fill=\"#34A853\"\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n            />\n            <path\n              fill=\"#FBBC05\"\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n            />\n            <path\n              fill=\"#EA4335\"\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n            />\n          </svg>\n          Continue with Google\n        </button>\n\n        <div className=\"relative mb-6\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-300\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white text-gray-500\">Or continue with email</span>\n          </div>\n        </div>\n\n        <form onSubmit={handleEmailSignIn}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n          </div>\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n          >\n            <Mail className=\"h-5 w-5\" />\n            Sign in with Email\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LogIn, Mail, AlertCircle, HelpCircle } from 'lucide-react';\n\nexport function Register() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [error, setError] = useState<string | JSX.Element>('');\n  const [loading, setLoading] = useState(false);\n  const { signUp, signInWithGoogle } = useAuth();\n  const navigate = useNavigate();\n\n  const handleEmailSignUp = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    // Basic validation\n    if (password.length < 6) {\n      setError(\n        <div className=\"flex items-start gap-2\">\n          <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"font-medium\">Password Too Short</p>\n            <p className=\"text-sm mt-1\">\n              Password must be at least 6 characters long for security.\n            </p>\n          </div>\n        </div>\n      );\n      setLoading(false);\n      return;\n    }\n\n    if (!displayName.trim()) {\n      setError(\n        <div className=\"flex items-start gap-2\">\n          <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"font-medium\">Display Name Required</p>\n            <p className=\"text-sm mt-1\">\n              Please enter a display name to create your account.\n            </p>\n          </div>\n        </div>\n      );\n      setLoading(false);\n      return;\n    }\n    \n    try {\n      await signUp(email, password, displayName);\n      navigate('/discover');\n    } catch (err) {\n      if (err instanceof Error) {\n        if (err.message.includes('unauthorized-domain')) {\n          setError(\n            <div className=\"flex items-start gap-2 bg-yellow-50 p-4 rounded-lg\">\n              <HelpCircle className=\"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-medium text-yellow-800\">Domain Authorization Pending</p>\n                <p className=\"text-sm text-yellow-700 mt-1\">\n                  This domain is not yet authorized for authentication. This can happen when:\n                </p>\n                <ul className=\"list-disc list-inside text-sm text-yellow-700 mt-2 space-y-1\">\n                  <li>The domain was recently added to Firebase</li>\n                  <li>Changes are still propagating (can take up to 15 minutes)</li>\n                  <li>The domain wasn't added to Firebase's authorized domains</li>\n                </ul>\n                <p className=\"text-sm text-yellow-700 mt-2\">\n                  Please try again in a few minutes. If the issue persists, contact support.\n                </p>\n              </div>\n            </div>\n          );\n        } else {\n          setError(\n            <div className=\"flex items-start gap-2\">\n              <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-medium\">Registration Failed</p>\n                <p className=\"text-sm mt-1\">{err.message}</p>\n              </div>\n            </div>\n          );\n        }\n      } else {\n        setError('An unexpected error occurred');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSignUp = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      await signInWithGoogle();\n      navigate('/discover');\n    } catch (err) {\n      if (err instanceof Error) {\n        setError(err.message);\n      } else {\n        setError('Failed to sign up with Google');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-96\">\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Create Account</h2>\n        \n        {error && (\n          <div className=\"mb-6\">\n            {typeof error === 'string' ? (\n              <div className=\"bg-red-100 text-red-700 p-3 rounded\">\n                {error}\n              </div>\n            ) : error}\n          </div>\n        )}\n\n        {/* Google Sign Up Button */}\n        <button\n          onClick={handleGoogleSignUp}\n          disabled={loading}\n          className=\"w-full bg-white border-2 border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 mb-6 flex items-center justify-center gap-2 disabled:opacity-50\"\n        >\n          <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n            <path\n              fill=\"#4285F4\"\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n            />\n            <path\n              fill=\"#34A853\"\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n            />\n            <path\n              fill=\"#FBBC05\"\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n            />\n            <path\n              fill=\"#EA4335\"\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n            />\n          </svg>\n          Continue with Google\n        </button>\n\n        <div className=\"relative mb-6\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-300\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white text-gray-500\">Or sign up with email</span>\n          </div>\n        </div>\n\n        <form onSubmit={handleEmailSignUp}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"displayName\">\n              Display Name\n            </label>\n            <input\n              type=\"text\"\n              id=\"displayName\"\n              value={displayName}\n              onChange={(e) => setDisplayName(e.target.value)}\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n              minLength={2}\n              maxLength={50}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n            />\n          </div>\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              required\n              minLength={6}\n            />\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Must be at least 6 characters long\n            </p>\n          </div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2\"\n          >\n            <Mail className=\"h-5 w-5\" />\n            Create Account\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport {\n  collection,\n  doc,\n  getDoc,\n  getDocs,\n  addDoc,\n  updateDoc,\n  query,\n  where,\n  orderBy,\n  limit,\n  DocumentData,\n  QueryConstraint\n} from 'firebase/firestore';\nimport { db } from '../lib/firebase';\n\nexport function useFirestore<T extends DocumentData>(\n  collectionName: string,\n  constraints?: QueryConstraint[]\n) {\n  const [data, setData] = useState<T[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const q = constraints\n          ? query(collection(db, collectionName), ...constraints)\n          : collection(db, collectionName);\n        \n        const querySnapshot = await getDocs(q);\n        const documents = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })) as T[];\n        \n        setData(documents);\n        setLoading(false);\n      } catch (err) {\n        setError(err instanceof Error ? err : new Error('An error occurred'));\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [collectionName, constraints]);\n\n  const add = async (data: Omit<T, 'id'>) => {\n    try {\n      const docRef = await addDoc(collection(db, collectionName), {\n        ...data,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n      return docRef.id;\n    } catch (err) {\n      throw err instanceof Error ? err : new Error('Failed to add document');\n    }\n  };\n\n  const update = async (id: string, data: Partial<T>) => {\n    try {\n      const docRef = doc(db, collectionName, id);\n      await updateDoc(docRef, {\n        ...data,\n        updatedAt: new Date()\n      });\n    } catch (err) {\n      throw err instanceof Error ? err : new Error('Failed to update document');\n    }\n  };\n\n  const getById = async (id: string): Promise<T> => {\n    try {\n      const docRef = doc(db, collectionName, id);\n      const docSnap = await getDoc(docRef);\n      \n      if (docSnap.exists()) {\n        return { id: docSnap.id, ...docSnap.data() } as T;\n      } else {\n        throw new Error('Document not found');\n      }\n    } catch (err) {\n      throw err instanceof Error ? err : new Error('Failed to get document');\n    }\n  };\n\n  return {\n    data,\n    loading,\n    error,\n    add,\n    update,\n    getById\n  };\n}","import { User } from 'lucide-react';\n\ninterface ProfilePictureProps {\n  url?: string;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  className?: string;\n}\n\nexport function ProfilePicture({ url, size = 'md', className = '' }: ProfilePictureProps) {\n  const sizeClasses = {\n    sm: 'h-8 w-8',\n    md: 'h-12 w-12',\n    lg: 'h-16 w-16',\n    xl: 'h-24 w-24'\n  };\n\n  if (!url) {\n    return (\n      <div \n        className={`\n          ${sizeClasses[size]} \n          rounded-full bg-cyber-gray-800 border border-cyber-gray-700\n          flex items-center justify-center\n          relative overflow-hidden\n          ${className}\n        `}\n      >\n        <div className=\"absolute inset-0 bg-mesh opacity-30\"></div>\n        <div className=\"absolute inset-0 bg-noise opacity-50\"></div>\n        <User className={`\n          ${size === 'sm' ? 'h-4 w-4' : size === 'md' ? 'h-6 w-6' : 'h-8 w-8'} \n          text-cyber-gray-400 relative z-10\n        `} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${sizeClasses[size]} relative group ${className}`}>\n      <img\n        src={url}\n        alt=\"Profile\"\n        className={`\n          w-full h-full object-cover rounded-full\n          border-2 border-cyber-gray-900\n          transition-all duration-300\n        `}\n        onError={(e) => {\n          e.currentTarget.onerror = null;\n          e.currentTarget.src = `https://ui-avatars.com/api/?name=${encodeURIComponent('User')}&background=1A1A1A&color=5BC0EB`;\n        }}\n      />\n      <div className=\"absolute inset-0 bg-noise opacity-10 rounded-full pointer-events-none\"></div>\n    </div>\n  );\n}","import { useState, useRef, useEffect } from 'react';\nimport { UserProfile } from '../types';\nimport { ProfilePicture } from './ProfilePicture';\nimport { Star, Award, Link as LinkIcon, MessageSquare, Calendar } from 'lucide-react';\n\ninterface ProfileHoverCardProps {\n  profile: UserProfile;\n  children: React.ReactNode;\n  onMessageClick?: () => void;\n}\n\nexport function ProfileHoverCard({ profile, children, onMessageClick }: ProfileHoverCardProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const cardRef = useRef<HTMLDivElement>(null);\n  const timeoutRef = useRef<NodeJS.Timeout>();\n\n  // Get top skills (by endorsements)\n  const topSkills = Object.entries(profile.endorsements || {})\n    .sort(([, a], [, b]) => b.length - a.length)\n    .slice(0, 3)\n    .map(([skill]) => ({\n      name: skill,\n      level: profile.skillLevels?.[skill]?.level || 1,\n      endorsements: profile.endorsements?.[skill]?.length || 0\n    }));\n\n  const updatePosition = () => {\n    if (!triggerRef.current || !cardRef.current || !isVisible) return;\n\n    const triggerRect = triggerRef.current.getBoundingClientRect();\n    const cardRect = cardRef.current.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const scrollY = window.scrollY;\n    \n    // Calculate initial position\n    let x = triggerRect.left;\n    let y = scrollY + triggerRect.bottom + 8; // 8px offset from trigger\n\n    // Check horizontal overflow\n    if (x + cardRect.width > window.innerWidth) {\n      x = window.innerWidth - cardRect.width - 16; // 16px margin from viewport edge\n    }\n    x = Math.max(16, x); // Ensure minimum 16px from left edge\n\n    // Check vertical overflow and flip if needed\n    const spaceBelow = viewportHeight - (triggerRect.bottom + 8);\n    const spaceAbove = triggerRect.top - 8;\n    \n    if (cardRect.height > spaceBelow && spaceAbove > spaceBelow) {\n      // Place above if there's more space there\n      y = scrollY + triggerRect.top - cardRect.height - 8;\n    }\n\n    // Ensure the card stays within viewport vertically\n    y = Math.max(scrollY + 16, Math.min(y, scrollY + viewportHeight - cardRect.height - 16));\n\n    setPosition({ x, y });\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      // Initial position\n      requestAnimationFrame(updatePosition);\n\n      // Update position on scroll or resize\n      const handleUpdate = () => {\n        requestAnimationFrame(updatePosition);\n      };\n\n      window.addEventListener('scroll', handleUpdate, { passive: true });\n      window.addEventListener('resize', handleUpdate, { passive: true });\n\n      return () => {\n        window.removeEventListener('scroll', handleUpdate);\n        window.removeEventListener('resize', handleUpdate);\n      };\n    }\n  }, [isVisible]);\n\n  const handleMouseEnter = () => {\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    setIsVisible(true);\n  };\n\n  const handleMouseLeave = () => {\n    timeoutRef.current = setTimeout(() => {\n      setIsVisible(false);\n    }, 300);\n  };\n\n  return (\n    <div \n      ref={triggerRef}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      className=\"inline-block\"\n    >\n      {children}\n\n      {isVisible && (\n        <div\n          ref={cardRef}\n          style={{\n            position: 'absolute',\n            left: position.x,\n            top: position.y,\n            zIndex: 50,\n          }}\n          onMouseEnter={() => {\n            if (timeoutRef.current) clearTimeout(timeoutRef.current);\n          }}\n          onMouseLeave={handleMouseLeave}\n          className=\"w-80 animate-in fade-in zoom-in duration-200 origin-top\"\n        >\n          {/* Card */}\n          <div className=\"relative\">\n            {/* Animated gradient border */}\n            <div className=\"absolute -inset-0.5 bg-gradient-to-r from-accent-clay to-accent-ochre \n                          opacity-75 rounded-lg blur\"></div>\n            \n            {/* Main content */}\n            <div className=\"relative bg-earth-800 rounded-lg shadow-xl\">\n              {/* Header */}\n              <div className=\"p-4\">\n                <div className=\"flex items-start gap-4\">\n                  {/* Profile Picture with Level */}\n                  <div className=\"relative\">\n                    <ProfilePicture url={profile.profilePicture} size=\"lg\" />\n                    <div className=\"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-earth-800 \n                                  border-2 border-earth-700 flex items-center justify-center\">\n                      <span className=\"text-xs font-bold text-accent-clay\">\n                        {profile.level}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-lg font-display font-semibold text-gray-900 truncate\">\n                      {profile.displayName}\n                    </h3>\n                    \n                    {/* Join date */}\n                    <div className=\"flex items-center gap-2 text-sm text-gray-600 mt-1\">\n                      <Calendar className=\"h-3 w-3\" />\n                      <span>Joined {new Date(profile.createdAt).toLocaleDateString()}</span>\n                    </div>\n\n                    {/* Portfolio link */}\n                    {profile.portfolio && (\n                      <a\n                        href={profile.portfolio}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"mt-2 text-sm text-accent-clay hover:text-accent-ochre \n                                 flex items-center gap-1 transition-colors\"\n                      >\n                        <LinkIcon className=\"h-3 w-3\" />\n                        Portfolio\n                      </a>\n                    )}\n                  </div>\n                </div>\n\n                {/* Bio */}\n                {profile.bio && (\n                  <p className=\"mt-3 text-sm text-gray-700 line-clamp-2\">\n                    {profile.bio}\n                  </p>\n                )}\n              </div>\n\n              {/* Skills */}\n              <div className=\"px-4 pb-4\">\n                <div className=\"flex flex-wrap gap-2\">\n                  {topSkills.map(skill => (\n                    <div\n                      key={skill.name}\n                      className=\"flex items-center gap-1 px-2 py-1 bg-accent-sage/20 \n                               text-gray-900 text-sm rounded-full border border-accent-sage/30\"\n                    >\n                      <Star className=\"h-3 w-3 text-accent-sage\" />\n                      <span>{skill.name}</span>\n                      <span className=\"text-xs px-1.5 py-0.5 bg-accent-sage/20 rounded-full\">\n                        Lvl {skill.level}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Footer */}\n              {onMessageClick && (\n                <div className=\"px-4 py-3 border-t border-earth-700\">\n                  <button\n                    onClick={onMessageClick}\n                    className=\"w-full flex items-center justify-center gap-2 py-2 \n                             bg-accent-clay text-white rounded-lg hover:bg-accent-ochre \n                             transition-colors\"\n                  >\n                    <MessageSquare className=\"h-4 w-4\" />\n                    Send Message\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Search, Filter, Tag, Clock, User } from 'lucide-react';\nimport { useFirestore } from '../hooks/useFirestore';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport type { Trade, UserProfile } from '../types';\nimport { ProfilePicture } from '../components/ProfilePicture';\nimport { ProfileHoverCard } from '../components/ProfileHoverCard';\n\nexport function Discover() {\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\n  const { data: trades, loading, error } = useFirestore<Trade>('trades');\n  const [creators, setCreators] = useState<{ [key: string]: UserProfile }>({});\n\n  // Fetch creators' profiles\n  useEffect(() => {\n    const fetchCreators = async () => {\n      const creatorIds = new Set(trades.map(trade => trade.creatorId));\n      const creatorsData: { [key: string]: UserProfile } = {};\n      \n      for (const creatorId of creatorIds) {\n        try {\n          const creatorDoc = await getDoc(doc(db, 'users', creatorId));\n          if (creatorDoc.exists()) {\n            creatorsData[creatorId] = {\n              id: creatorDoc.id,\n              ...creatorDoc.data()\n            } as UserProfile;\n          }\n        } catch (err) {\n          console.error('Error fetching creator:', err);\n        }\n      }\n      \n      setCreators(creatorsData);\n    };\n\n    if (trades.length > 0) {\n      fetchCreators();\n    }\n  }, [trades]);\n\n  const filteredTrades = trades.filter(trade => {\n    const matchesSearch = trade.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      trade.description.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesSkills = selectedSkills.length === 0 || \n      trade.requestedSkills.some(skill => selectedSkills.includes(skill));\n    \n    return matchesSearch && matchesSkills;\n  });\n\n  // Get all unique skills for filtering\n  const allSkills = Array.from(new Set(\n    trades.flatMap(trade => [...trade.offeredSkills, ...trade.requestedSkills])\n  )).sort();\n\n  const handleSkillToggle = (skill: string) => {\n    setSelectedSkills(prev => \n      prev.includes(skill)\n        ? prev.filter(s => s !== skill)\n        : [...prev, skill]\n    );\n  };\n\n  const handleStartChat = async (creatorId: string) => {\n    navigate(`/messages/${creatorId}`);\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-display font-bold text-white mb-2\">\n          Discover Trades\n        </h1>\n        <p className=\"text-gray-200\">\n          Find skill trading opportunities or share your expertise\n        </p>\n      </div>\n\n      {/* Search and Filter Section */}\n      <div className=\"mb-8 space-y-4\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search trades...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg \n                         text-gray-900 placeholder-gray-500\n                         focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 \n                         transition-all duration-300\"\n            />\n          </div>\n          <button className=\"btn-secondary flex items-center gap-2\">\n            <Filter className=\"h-5 w-5\" />\n            Filter\n          </button>\n        </div>\n\n        {/* Skills Filter */}\n        <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2\">\n            <Tag className=\"h-4 w-4\" />\n            Filter by Skills\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {allSkills.map((skill) => (\n              <button\n                key={skill}\n                onClick={() => handleSkillToggle(skill)}\n                className={`px-3 py-1 rounded-full text-sm transition-all duration-300 ${\n                  selectedSkills.includes(skill)\n                    ? 'bg-accent-clay text-white'\n                    : 'bg-earth-700 text-gray-900 hover:bg-earth-600'\n                }`}\n              >\n                {skill}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Trades Grid */}\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[1, 2, 3].map((n) => (\n            <div key={n} className=\"animate-pulse card p-6\">\n              <div className=\"h-6 bg-earth-700 rounded w-3/4 mb-4\"></div>\n              <div className=\"space-y-2 mb-4\">\n                <div className=\"h-4 bg-earth-700 rounded w-full\"></div>\n                <div className=\"h-4 bg-earth-700 rounded w-5/6\"></div>\n              </div>\n              <div className=\"h-10 bg-earth-700 rounded\"></div>\n            </div>\n          ))}\n        </div>\n      ) : error ? (\n        <div className=\"text-center py-8 text-red-500\">Error loading trades</div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredTrades.map((trade) => {\n            const creator = creators[trade.creatorId];\n            \n            return (\n              <div\n                key={trade.id}\n                onClick={() => navigate(`/trades/${trade.id}`)}\n                className=\"card p-6 card-hover cursor-pointer\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <h3 className=\"text-xl font-display font-semibold text-gray-900\">\n                    {trade.title}\n                  </h3>\n                  <span className={`\n                    status-badge\n                    ${trade.status === 'open' ? 'status-badge-active' : \n                      trade.status === 'in-progress' ? 'status-badge-pending' : \n                      'status-badge-completed'}\n                  `}>\n                    {trade.status.charAt(0).toUpperCase() + trade.status.slice(1)}\n                  </span>\n                </div>\n                \n                <p className=\"text-gray-700 mb-6 line-clamp-2\">\n                  {trade.description}\n                </p>\n\n                <div className=\"space-y-4\">\n                  {/* Offered Skills */}\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Offering</h4>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {trade.offeredSkills.map((skill) => (\n                        <span\n                          key={skill}\n                          className=\"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30\"\n                        >\n                          {skill}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Requested Skills */}\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Looking for</h4>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {trade.requestedSkills.map((skill) => (\n                        <span\n                          key={skill}\n                          className=\"px-2 py-1 bg-accent-clay/20 text-gray-900 text-sm rounded-full border border-accent-clay/30\"\n                        >\n                          {skill}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Footer */}\n                <div className=\"flex justify-between items-center mt-6 pt-4 border-t border-earth-700\">\n                  <div className=\"flex items-center gap-2 text-gray-900\">\n                    {creator ? (\n                      <ProfileHoverCard \n                        profile={creator}\n                        onMessageClick={() => handleStartChat(creator.id)}\n                      >\n                        <div className=\"flex items-center gap-2 cursor-pointer\">\n                          <ProfilePicture url={creator.profilePicture} size=\"sm\" />\n                          <span className=\"text-sm font-medium\">{creator.displayName}</span>\n                        </div>\n                      </ProfileHoverCard>\n                    ) : (\n                      <>\n                        <User className=\"h-4 w-4\" />\n                        <span className=\"text-sm font-medium\">Loading...</span>\n                      </>\n                    )}\n                  </div>\n                  <div className=\"flex items-center text-gray-900\">\n                    <Clock className=\"h-4 w-4 mr-1\" />\n                    <span className=\"text-sm font-medium\">\n                      {new Date(trade.createdAt).toLocaleDateString()}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n\n          {filteredTrades.length === 0 && (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-8\">\n                <Search className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-display font-semibold text-gray-900 mb-2\">\n                  No trades found\n                </h3>\n                <p className=\"text-gray-700\">\n                  Try adjusting your search or filters\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","import { Badge, UserProfile } from '../types';\nimport { doc, updateDoc, increment, arrayUnion } from 'firebase/firestore';\nimport { db } from './firebase';\n\n// Experience points configuration\nexport const XP_CONFIG = {\n  TRADE_COMPLETION: 100,\n  COLLABORATION_COMPLETION: 150,\n  ENDORSEMENT_RECEIVED: 10,\n  GOOD_RATING: 50,\n  BADGE_EARNED: 25,\n};\n\n// Level thresholds (Fibonacci sequence for increasing difficulty)\nexport const LEVEL_THRESHOLDS = [0, 100, 200, 300, 500, 800, 1300, 2100, 3400, 5500];\n\n// Available badges\nexport const BADGES: { [key: string]: Omit<Badge, 'earnedAt'> } = {\n  FIRST_TRADE: {\n    id: 'first_trade',\n    name: 'Trade Pioneer',\n    description: 'Completed your first trade',\n    icon: 'rocket',\n  },\n  SKILLED_TRADER: {\n    id: 'skilled_trader',\n    name: 'Skilled Trader',\n    description: 'Completed 10 successful trades',\n    icon: 'award',\n  },\n  MASTER_COLLABORATOR: {\n    id: 'master_collaborator',\n    name: 'Master Collaborator',\n    description: 'Participated in 5 successful collaborations',\n    icon: 'users',\n  },\n  SKILL_MASTER: {\n    id: 'skill_master',\n    name: 'Skill Master',\n    description: 'Reached level 5 in any skill',\n    icon: 'star',\n  },\n  ENDORSED_EXPERT: {\n    id: 'endorsed_expert',\n    name: 'Endorsed Expert',\n    description: 'Received 10 endorsements in a single skill',\n    icon: 'thumbs-up',\n  },\n};\n\n// Calculate level from experience\nexport function calculateLevel(experience: number): number {\n  return LEVEL_THRESHOLDS.findIndex(\n    (threshold, index) =>\n      experience >= threshold &&\n      (index === LEVEL_THRESHOLDS.length - 1 || experience < LEVEL_THRESHOLDS[index + 1])\n  );\n}\n\n// Award experience points\nexport async function awardExperience(userId: string, amount: number, skills?: string[]) {\n  const userRef = doc(db, 'users', userId);\n  \n  await updateDoc(userRef, {\n    experience: increment(amount),\n    level: calculateLevel(amount), // This will be calculated on the client as well\n    ...(skills\n      ? skills.reduce(\n          (acc, skill) => ({\n            ...acc,\n            [`skillLevels.${skill}.experience`]: increment(amount / skills.length),\n          }),\n          {}\n        )\n      : {}),\n  });\n}\n\n// Add endorsement\nexport async function addEndorsement(userId: string, endorserId: string, skill: string) {\n  const userRef = doc(db, 'users', userId);\n  \n  await updateDoc(userRef, {\n    [`endorsements.${skill}`]: arrayUnion(endorserId),\n    experience: increment(XP_CONFIG.ENDORSEMENT_RECEIVED),\n  });\n}\n\n// Award badge\nexport async function awardBadge(userId: string, badgeId: keyof typeof BADGES) {\n  const badge: Badge = {\n    ...BADGES[badgeId],\n    earnedAt: new Date(),\n  };\n\n  const userRef = doc(db, 'users', userId);\n  \n  await updateDoc(userRef, {\n    badges: arrayUnion(badge),\n    experience: increment(XP_CONFIG.BADGE_EARNED),\n  });\n}\n\n// Check and award badges based on user's stats\nexport async function checkAndAwardBadges(userId: string, profile: UserProfile) {\n  // First Trade Badge\n  if (profile.experience >= XP_CONFIG.TRADE_COMPLETION && \n      !profile.badges?.some(b => b.id === 'first_trade')) {\n    await awardBadge(userId, 'FIRST_TRADE');\n  }\n\n  // Skilled Trader Badge (requires trade count from separate query)\n  // Implementation would go here...\n\n  // Skill Master Badge\n  const hasSkillMaster = Object.values(profile.skillLevels || {}).some(\n    skill => skill.level >= 5\n  );\n  if (hasSkillMaster && !profile.badges?.some(b => b.id === 'skill_master')) {\n    await awardBadge(userId, 'SKILL_MASTER');\n  }\n\n  // Endorsed Expert Badge\n  const hasEndorsedExpert = Object.values(profile.endorsements || {}).some(\n    endorsers => endorsers.length >= 10\n  );\n  if (hasEndorsedExpert && !profile.badges?.some(b => b.id === 'endorsed_expert')) {\n    await awardBadge(userId, 'ENDORSED_EXPERT');\n  }\n}","import { UserProfile } from '../types';\nimport { calculateLevel, LEVEL_THRESHOLDS } from '../lib/reputation';\nimport { Award, Star, ThumbsUp, Trophy, Zap, Target } from 'lucide-react';\n\ninterface ReputationCardProps {\n  profile: UserProfile;\n  showEndorsements?: boolean;\n}\n\nexport function ReputationCard({ profile, showEndorsements = true }: ReputationCardProps) {\n  const level = calculateLevel(profile.experience);\n  const nextLevelXP = LEVEL_THRESHOLDS[level + 1] || LEVEL_THRESHOLDS[level];\n  const currentLevelXP = LEVEL_THRESHOLDS[level];\n  const progress = ((profile.experience - currentLevelXP) / (nextLevelXP - currentLevelXP)) * 100;\n\n  return (\n    <div className=\"card\">\n      {/* Level and XP */}\n      <div className=\"p-6 border-b border-cyber-gray-800\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative\">\n              <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center\">\n                <Trophy className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-cyber-gray-900 border border-cyber-gray-800 flex items-center justify-center\">\n                <span className=\"text-xs font-medium text-neon-green\">{level}</span>\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-display font-semibold text-cyber-gray-50\">Level {level}</h3>\n              <p className=\"text-sm text-cyber-gray-400\">\n                {profile.experience} / {nextLevelXP} XP\n              </p>\n            </div>\n          </div>\n          <Zap className=\"h-5 w-5 text-neon-orange animate-pulse\" />\n        </div>\n        \n        {/* XP Progress Bar */}\n        <div className=\"relative h-2 bg-cyber-gray-800 rounded-full overflow-hidden\">\n          <div\n            className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-neon-blue to-neon-purple transition-all duration-500\"\n            style={{ width: `${progress}%` }}\n          />\n          <div className=\"absolute inset-0 bg-[length:20px_20px] bg-noise opacity-25\" />\n        </div>\n      </div>\n\n      {/* Skill Levels */}\n      <div className=\"p-6 border-b border-cyber-gray-800\">\n        <h3 className=\"text-lg font-display font-semibold text-cyber-gray-50 mb-4 flex items-center gap-2\">\n          <Star className=\"h-5 w-5 text-neon-orange\" />\n          Skill Levels\n        </h3>\n        <div className=\"space-y-3\">\n          {Object.entries(profile.skillLevels || {}).map(([skill, { level, experience }]) => (\n            <div key={skill} className=\"group\">\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-cyber-gray-200 group-hover:text-neon-blue transition-colors\">\n                  {skill}\n                </span>\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-sm font-medium text-neon-green\">Lvl {level}</span>\n                  {showEndorsements && profile.endorsements?.[skill] && (\n                    <div className=\"flex items-center gap-1 px-2 py-0.5 rounded-full bg-neon-purple/10 text-neon-purple\">\n                      <ThumbsUp className=\"h-3 w-3\" />\n                      <span className=\"text-xs font-medium\">{profile.endorsements[skill].length}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"h-1 bg-cyber-gray-800 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-gradient-to-r from-neon-blue to-neon-purple transition-all duration-300 group-hover:from-neon-purple group-hover:to-neon-blue\"\n                  style={{ width: `${(experience / 1000) * 100}%` }}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Badges */}\n      {profile.badges && profile.badges.length > 0 && (\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-display font-semibold text-cyber-gray-50 mb-4 flex items-center gap-2\">\n            <Award className=\"h-5 w-5 text-neon-orange\" />\n            Achievements\n          </h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            {profile.badges.map((badge) => (\n              <div\n                key={badge.id}\n                className=\"group p-3 rounded-lg bg-cyber-gray-800/50 hover:bg-cyber-gray-800 \n                          border border-cyber-gray-700 hover:border-neon-blue \n                          transition-all duration-300\"\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"p-2 rounded-lg bg-gradient-to-br from-neon-blue to-neon-purple\">\n                    <Award className=\"h-4 w-4 text-white\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-cyber-gray-50 group-hover:text-neon-blue transition-colors\">\n                      {badge.name}\n                    </p>\n                    <p className=\"text-xs text-cyber-gray-400 mt-1\">\n                      {badge.description}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","export const COMMON_MIME_TYPES = new Map([\n    // https://github.com/guzzle/psr7/blob/2d9260799e713f1c475d3c5fdc3d6561ff7441b2/src/MimeType.php\n    ['1km', 'application/vnd.1000minds.decision-model+xml'],\n    ['3dml', 'text/vnd.in3d.3dml'],\n    ['3ds', 'image/x-3ds'],\n    ['3g2', 'video/3gpp2'],\n    ['3gp', 'video/3gp'],\n    ['3gpp', 'video/3gpp'],\n    ['3mf', 'model/3mf'],\n    ['7z', 'application/x-7z-compressed'],\n    ['7zip', 'application/x-7z-compressed'],\n    ['123', 'application/vnd.lotus-1-2-3'],\n    ['aab', 'application/x-authorware-bin'],\n    ['aac', 'audio/x-acc'],\n    ['aam', 'application/x-authorware-map'],\n    ['aas', 'application/x-authorware-seg'],\n    ['abw', 'application/x-abiword'],\n    ['ac', 'application/vnd.nokia.n-gage.ac+xml'],\n    ['ac3', 'audio/ac3'],\n    ['acc', 'application/vnd.americandynamics.acc'],\n    ['ace', 'application/x-ace-compressed'],\n    ['acu', 'application/vnd.acucobol'],\n    ['acutc', 'application/vnd.acucorp'],\n    ['adp', 'audio/adpcm'],\n    ['aep', 'application/vnd.audiograph'],\n    ['afm', 'application/x-font-type1'],\n    ['afp', 'application/vnd.ibm.modcap'],\n    ['ahead', 'application/vnd.ahead.space'],\n    ['ai', 'application/pdf'],\n    ['aif', 'audio/x-aiff'],\n    ['aifc', 'audio/x-aiff'],\n    ['aiff', 'audio/x-aiff'],\n    ['air', 'application/vnd.adobe.air-application-installer-package+zip'],\n    ['ait', 'application/vnd.dvb.ait'],\n    ['ami', 'application/vnd.amiga.ami'],\n    ['amr', 'audio/amr'],\n    ['apk', 'application/vnd.android.package-archive'],\n    ['apng', 'image/apng'],\n    ['appcache', 'text/cache-manifest'],\n    ['application', 'application/x-ms-application'],\n    ['apr', 'application/vnd.lotus-approach'],\n    ['arc', 'application/x-freearc'],\n    ['arj', 'application/x-arj'],\n    ['asc', 'application/pgp-signature'],\n    ['asf', 'video/x-ms-asf'],\n    ['asm', 'text/x-asm'],\n    ['aso', 'application/vnd.accpac.simply.aso'],\n    ['asx', 'video/x-ms-asf'],\n    ['atc', 'application/vnd.acucorp'],\n    ['atom', 'application/atom+xml'],\n    ['atomcat', 'application/atomcat+xml'],\n    ['atomdeleted', 'application/atomdeleted+xml'],\n    ['atomsvc', 'application/atomsvc+xml'],\n    ['atx', 'application/vnd.antix.game-component'],\n    ['au', 'audio/x-au'],\n    ['avi', 'video/x-msvideo'],\n    ['avif', 'image/avif'],\n    ['aw', 'application/applixware'],\n    ['azf', 'application/vnd.airzip.filesecure.azf'],\n    ['azs', 'application/vnd.airzip.filesecure.azs'],\n    ['azv', 'image/vnd.airzip.accelerator.azv'],\n    ['azw', 'application/vnd.amazon.ebook'],\n    ['b16', 'image/vnd.pco.b16'],\n    ['bat', 'application/x-msdownload'],\n    ['bcpio', 'application/x-bcpio'],\n    ['bdf', 'application/x-font-bdf'],\n    ['bdm', 'application/vnd.syncml.dm+wbxml'],\n    ['bdoc', 'application/x-bdoc'],\n    ['bed', 'application/vnd.realvnc.bed'],\n    ['bh2', 'application/vnd.fujitsu.oasysprs'],\n    ['bin', 'application/octet-stream'],\n    ['blb', 'application/x-blorb'],\n    ['blorb', 'application/x-blorb'],\n    ['bmi', 'application/vnd.bmi'],\n    ['bmml', 'application/vnd.balsamiq.bmml+xml'],\n    ['bmp', 'image/bmp'],\n    ['book', 'application/vnd.framemaker'],\n    ['box', 'application/vnd.previewsystems.box'],\n    ['boz', 'application/x-bzip2'],\n    ['bpk', 'application/octet-stream'],\n    ['bpmn', 'application/octet-stream'],\n    ['bsp', 'model/vnd.valve.source.compiled-map'],\n    ['btif', 'image/prs.btif'],\n    ['buffer', 'application/octet-stream'],\n    ['bz', 'application/x-bzip'],\n    ['bz2', 'application/x-bzip2'],\n    ['c', 'text/x-c'],\n    ['c4d', 'application/vnd.clonk.c4group'],\n    ['c4f', 'application/vnd.clonk.c4group'],\n    ['c4g', 'application/vnd.clonk.c4group'],\n    ['c4p', 'application/vnd.clonk.c4group'],\n    ['c4u', 'application/vnd.clonk.c4group'],\n    ['c11amc', 'application/vnd.cluetrust.cartomobile-config'],\n    ['c11amz', 'application/vnd.cluetrust.cartomobile-config-pkg'],\n    ['cab', 'application/vnd.ms-cab-compressed'],\n    ['caf', 'audio/x-caf'],\n    ['cap', 'application/vnd.tcpdump.pcap'],\n    ['car', 'application/vnd.curl.car'],\n    ['cat', 'application/vnd.ms-pki.seccat'],\n    ['cb7', 'application/x-cbr'],\n    ['cba', 'application/x-cbr'],\n    ['cbr', 'application/x-cbr'],\n    ['cbt', 'application/x-cbr'],\n    ['cbz', 'application/x-cbr'],\n    ['cc', 'text/x-c'],\n    ['cco', 'application/x-cocoa'],\n    ['cct', 'application/x-director'],\n    ['ccxml', 'application/ccxml+xml'],\n    ['cdbcmsg', 'application/vnd.contact.cmsg'],\n    ['cda', 'application/x-cdf'],\n    ['cdf', 'application/x-netcdf'],\n    ['cdfx', 'application/cdfx+xml'],\n    ['cdkey', 'application/vnd.mediastation.cdkey'],\n    ['cdmia', 'application/cdmi-capability'],\n    ['cdmic', 'application/cdmi-container'],\n    ['cdmid', 'application/cdmi-domain'],\n    ['cdmio', 'application/cdmi-object'],\n    ['cdmiq', 'application/cdmi-queue'],\n    ['cdr', 'application/cdr'],\n    ['cdx', 'chemical/x-cdx'],\n    ['cdxml', 'application/vnd.chemdraw+xml'],\n    ['cdy', 'application/vnd.cinderella'],\n    ['cer', 'application/pkix-cert'],\n    ['cfs', 'application/x-cfs-compressed'],\n    ['cgm', 'image/cgm'],\n    ['chat', 'application/x-chat'],\n    ['chm', 'application/vnd.ms-htmlhelp'],\n    ['chrt', 'application/vnd.kde.kchart'],\n    ['cif', 'chemical/x-cif'],\n    ['cii', 'application/vnd.anser-web-certificate-issue-initiation'],\n    ['cil', 'application/vnd.ms-artgalry'],\n    ['cjs', 'application/node'],\n    ['cla', 'application/vnd.claymore'],\n    ['class', 'application/octet-stream'],\n    ['clkk', 'application/vnd.crick.clicker.keyboard'],\n    ['clkp', 'application/vnd.crick.clicker.palette'],\n    ['clkt', 'application/vnd.crick.clicker.template'],\n    ['clkw', 'application/vnd.crick.clicker.wordbank'],\n    ['clkx', 'application/vnd.crick.clicker'],\n    ['clp', 'application/x-msclip'],\n    ['cmc', 'application/vnd.cosmocaller'],\n    ['cmdf', 'chemical/x-cmdf'],\n    ['cml', 'chemical/x-cml'],\n    ['cmp', 'application/vnd.yellowriver-custom-menu'],\n    ['cmx', 'image/x-cmx'],\n    ['cod', 'application/vnd.rim.cod'],\n    ['coffee', 'text/coffeescript'],\n    ['com', 'application/x-msdownload'],\n    ['conf', 'text/plain'],\n    ['cpio', 'application/x-cpio'],\n    ['cpp', 'text/x-c'],\n    ['cpt', 'application/mac-compactpro'],\n    ['crd', 'application/x-mscardfile'],\n    ['crl', 'application/pkix-crl'],\n    ['crt', 'application/x-x509-ca-cert'],\n    ['crx', 'application/x-chrome-extension'],\n    ['cryptonote', 'application/vnd.rig.cryptonote'],\n    ['csh', 'application/x-csh'],\n    ['csl', 'application/vnd.citationstyles.style+xml'],\n    ['csml', 'chemical/x-csml'],\n    ['csp', 'application/vnd.commonspace'],\n    ['csr', 'application/octet-stream'],\n    ['css', 'text/css'],\n    ['cst', 'application/x-director'],\n    ['csv', 'text/csv'],\n    ['cu', 'application/cu-seeme'],\n    ['curl', 'text/vnd.curl'],\n    ['cww', 'application/prs.cww'],\n    ['cxt', 'application/x-director'],\n    ['cxx', 'text/x-c'],\n    ['dae', 'model/vnd.collada+xml'],\n    ['daf', 'application/vnd.mobius.daf'],\n    ['dart', 'application/vnd.dart'],\n    ['dataless', 'application/vnd.fdsn.seed'],\n    ['davmount', 'application/davmount+xml'],\n    ['dbf', 'application/vnd.dbf'],\n    ['dbk', 'application/docbook+xml'],\n    ['dcr', 'application/x-director'],\n    ['dcurl', 'text/vnd.curl.dcurl'],\n    ['dd2', 'application/vnd.oma.dd2+xml'],\n    ['ddd', 'application/vnd.fujixerox.ddd'],\n    ['ddf', 'application/vnd.syncml.dmddf+xml'],\n    ['dds', 'image/vnd.ms-dds'],\n    ['deb', 'application/x-debian-package'],\n    ['def', 'text/plain'],\n    ['deploy', 'application/octet-stream'],\n    ['der', 'application/x-x509-ca-cert'],\n    ['dfac', 'application/vnd.dreamfactory'],\n    ['dgc', 'application/x-dgc-compressed'],\n    ['dic', 'text/x-c'],\n    ['dir', 'application/x-director'],\n    ['dis', 'application/vnd.mobius.dis'],\n    ['disposition-notification', 'message/disposition-notification'],\n    ['dist', 'application/octet-stream'],\n    ['distz', 'application/octet-stream'],\n    ['djv', 'image/vnd.djvu'],\n    ['djvu', 'image/vnd.djvu'],\n    ['dll', 'application/octet-stream'],\n    ['dmg', 'application/x-apple-diskimage'],\n    ['dmn', 'application/octet-stream'],\n    ['dmp', 'application/vnd.tcpdump.pcap'],\n    ['dms', 'application/octet-stream'],\n    ['dna', 'application/vnd.dna'],\n    ['doc', 'application/msword'],\n    ['docm', 'application/vnd.ms-word.template.macroEnabled.12'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\n    ['dot', 'application/msword'],\n    ['dotm', 'application/vnd.ms-word.template.macroEnabled.12'],\n    ['dotx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.template'],\n    ['dp', 'application/vnd.osgi.dp'],\n    ['dpg', 'application/vnd.dpgraph'],\n    ['dra', 'audio/vnd.dra'],\n    ['drle', 'image/dicom-rle'],\n    ['dsc', 'text/prs.lines.tag'],\n    ['dssc', 'application/dssc+der'],\n    ['dtb', 'application/x-dtbook+xml'],\n    ['dtd', 'application/xml-dtd'],\n    ['dts', 'audio/vnd.dts'],\n    ['dtshd', 'audio/vnd.dts.hd'],\n    ['dump', 'application/octet-stream'],\n    ['dvb', 'video/vnd.dvb.file'],\n    ['dvi', 'application/x-dvi'],\n    ['dwd', 'application/atsc-dwd+xml'],\n    ['dwf', 'model/vnd.dwf'],\n    ['dwg', 'image/vnd.dwg'],\n    ['dxf', 'image/vnd.dxf'],\n    ['dxp', 'application/vnd.spotfire.dxp'],\n    ['dxr', 'application/x-director'],\n    ['ear', 'application/java-archive'],\n    ['ecelp4800', 'audio/vnd.nuera.ecelp4800'],\n    ['ecelp7470', 'audio/vnd.nuera.ecelp7470'],\n    ['ecelp9600', 'audio/vnd.nuera.ecelp9600'],\n    ['ecma', 'application/ecmascript'],\n    ['edm', 'application/vnd.novadigm.edm'],\n    ['edx', 'application/vnd.novadigm.edx'],\n    ['efif', 'application/vnd.picsel'],\n    ['ei6', 'application/vnd.pg.osasli'],\n    ['elc', 'application/octet-stream'],\n    ['emf', 'image/emf'],\n    ['eml', 'message/rfc822'],\n    ['emma', 'application/emma+xml'],\n    ['emotionml', 'application/emotionml+xml'],\n    ['emz', 'application/x-msmetafile'],\n    ['eol', 'audio/vnd.digital-winds'],\n    ['eot', 'application/vnd.ms-fontobject'],\n    ['eps', 'application/postscript'],\n    ['epub', 'application/epub+zip'],\n    ['es', 'application/ecmascript'],\n    ['es3', 'application/vnd.eszigno3+xml'],\n    ['esa', 'application/vnd.osgi.subsystem'],\n    ['esf', 'application/vnd.epson.esf'],\n    ['et3', 'application/vnd.eszigno3+xml'],\n    ['etx', 'text/x-setext'],\n    ['eva', 'application/x-eva'],\n    ['evy', 'application/x-envoy'],\n    ['exe', 'application/octet-stream'],\n    ['exi', 'application/exi'],\n    ['exp', 'application/express'],\n    ['exr', 'image/aces'],\n    ['ext', 'application/vnd.novadigm.ext'],\n    ['ez', 'application/andrew-inset'],\n    ['ez2', 'application/vnd.ezpix-album'],\n    ['ez3', 'application/vnd.ezpix-package'],\n    ['f', 'text/x-fortran'],\n    ['f4v', 'video/mp4'],\n    ['f77', 'text/x-fortran'],\n    ['f90', 'text/x-fortran'],\n    ['fbs', 'image/vnd.fastbidsheet'],\n    ['fcdt', 'application/vnd.adobe.formscentral.fcdt'],\n    ['fcs', 'application/vnd.isac.fcs'],\n    ['fdf', 'application/vnd.fdf'],\n    ['fdt', 'application/fdt+xml'],\n    ['fe_launch', 'application/vnd.denovo.fcselayout-link'],\n    ['fg5', 'application/vnd.fujitsu.oasysgp'],\n    ['fgd', 'application/x-director'],\n    ['fh', 'image/x-freehand'],\n    ['fh4', 'image/x-freehand'],\n    ['fh5', 'image/x-freehand'],\n    ['fh7', 'image/x-freehand'],\n    ['fhc', 'image/x-freehand'],\n    ['fig', 'application/x-xfig'],\n    ['fits', 'image/fits'],\n    ['flac', 'audio/x-flac'],\n    ['fli', 'video/x-fli'],\n    ['flo', 'application/vnd.micrografx.flo'],\n    ['flv', 'video/x-flv'],\n    ['flw', 'application/vnd.kde.kivio'],\n    ['flx', 'text/vnd.fmi.flexstor'],\n    ['fly', 'text/vnd.fly'],\n    ['fm', 'application/vnd.framemaker'],\n    ['fnc', 'application/vnd.frogans.fnc'],\n    ['fo', 'application/vnd.software602.filler.form+xml'],\n    ['for', 'text/x-fortran'],\n    ['fpx', 'image/vnd.fpx'],\n    ['frame', 'application/vnd.framemaker'],\n    ['fsc', 'application/vnd.fsc.weblaunch'],\n    ['fst', 'image/vnd.fst'],\n    ['ftc', 'application/vnd.fluxtime.clip'],\n    ['fti', 'application/vnd.anser-web-funds-transfer-initiation'],\n    ['fvt', 'video/vnd.fvt'],\n    ['fxp', 'application/vnd.adobe.fxp'],\n    ['fxpl', 'application/vnd.adobe.fxp'],\n    ['fzs', 'application/vnd.fuzzysheet'],\n    ['g2w', 'application/vnd.geoplan'],\n    ['g3', 'image/g3fax'],\n    ['g3w', 'application/vnd.geospace'],\n    ['gac', 'application/vnd.groove-account'],\n    ['gam', 'application/x-tads'],\n    ['gbr', 'application/rpki-ghostbusters'],\n    ['gca', 'application/x-gca-compressed'],\n    ['gdl', 'model/vnd.gdl'],\n    ['gdoc', 'application/vnd.google-apps.document'],\n    ['geo', 'application/vnd.dynageo'],\n    ['geojson', 'application/geo+json'],\n    ['gex', 'application/vnd.geometry-explorer'],\n    ['ggb', 'application/vnd.geogebra.file'],\n    ['ggt', 'application/vnd.geogebra.tool'],\n    ['ghf', 'application/vnd.groove-help'],\n    ['gif', 'image/gif'],\n    ['gim', 'application/vnd.groove-identity-message'],\n    ['glb', 'model/gltf-binary'],\n    ['gltf', 'model/gltf+json'],\n    ['gml', 'application/gml+xml'],\n    ['gmx', 'application/vnd.gmx'],\n    ['gnumeric', 'application/x-gnumeric'],\n    ['gpg', 'application/gpg-keys'],\n    ['gph', 'application/vnd.flographit'],\n    ['gpx', 'application/gpx+xml'],\n    ['gqf', 'application/vnd.grafeq'],\n    ['gqs', 'application/vnd.grafeq'],\n    ['gram', 'application/srgs'],\n    ['gramps', 'application/x-gramps-xml'],\n    ['gre', 'application/vnd.geometry-explorer'],\n    ['grv', 'application/vnd.groove-injector'],\n    ['grxml', 'application/srgs+xml'],\n    ['gsf', 'application/x-font-ghostscript'],\n    ['gsheet', 'application/vnd.google-apps.spreadsheet'],\n    ['gslides', 'application/vnd.google-apps.presentation'],\n    ['gtar', 'application/x-gtar'],\n    ['gtm', 'application/vnd.groove-tool-message'],\n    ['gtw', 'model/vnd.gtw'],\n    ['gv', 'text/vnd.graphviz'],\n    ['gxf', 'application/gxf'],\n    ['gxt', 'application/vnd.geonext'],\n    ['gz', 'application/gzip'],\n    ['gzip', 'application/gzip'],\n    ['h', 'text/x-c'],\n    ['h261', 'video/h261'],\n    ['h263', 'video/h263'],\n    ['h264', 'video/h264'],\n    ['hal', 'application/vnd.hal+xml'],\n    ['hbci', 'application/vnd.hbci'],\n    ['hbs', 'text/x-handlebars-template'],\n    ['hdd', 'application/x-virtualbox-hdd'],\n    ['hdf', 'application/x-hdf'],\n    ['heic', 'image/heic'],\n    ['heics', 'image/heic-sequence'],\n    ['heif', 'image/heif'],\n    ['heifs', 'image/heif-sequence'],\n    ['hej2', 'image/hej2k'],\n    ['held', 'application/atsc-held+xml'],\n    ['hh', 'text/x-c'],\n    ['hjson', 'application/hjson'],\n    ['hlp', 'application/winhlp'],\n    ['hpgl', 'application/vnd.hp-hpgl'],\n    ['hpid', 'application/vnd.hp-hpid'],\n    ['hps', 'application/vnd.hp-hps'],\n    ['hqx', 'application/mac-binhex40'],\n    ['hsj2', 'image/hsj2'],\n    ['htc', 'text/x-component'],\n    ['htke', 'application/vnd.kenameaapp'],\n    ['htm', 'text/html'],\n    ['html', 'text/html'],\n    ['hvd', 'application/vnd.yamaha.hv-dic'],\n    ['hvp', 'application/vnd.yamaha.hv-voice'],\n    ['hvs', 'application/vnd.yamaha.hv-script'],\n    ['i2g', 'application/vnd.intergeo'],\n    ['icc', 'application/vnd.iccprofile'],\n    ['ice', 'x-conference/x-cooltalk'],\n    ['icm', 'application/vnd.iccprofile'],\n    ['ico', 'image/x-icon'],\n    ['ics', 'text/calendar'],\n    ['ief', 'image/ief'],\n    ['ifb', 'text/calendar'],\n    ['ifm', 'application/vnd.shana.informed.formdata'],\n    ['iges', 'model/iges'],\n    ['igl', 'application/vnd.igloader'],\n    ['igm', 'application/vnd.insors.igm'],\n    ['igs', 'model/iges'],\n    ['igx', 'application/vnd.micrografx.igx'],\n    ['iif', 'application/vnd.shana.informed.interchange'],\n    ['img', 'application/octet-stream'],\n    ['imp', 'application/vnd.accpac.simply.imp'],\n    ['ims', 'application/vnd.ms-ims'],\n    ['in', 'text/plain'],\n    ['ini', 'text/plain'],\n    ['ink', 'application/inkml+xml'],\n    ['inkml', 'application/inkml+xml'],\n    ['install', 'application/x-install-instructions'],\n    ['iota', 'application/vnd.astraea-software.iota'],\n    ['ipfix', 'application/ipfix'],\n    ['ipk', 'application/vnd.shana.informed.package'],\n    ['irm', 'application/vnd.ibm.rights-management'],\n    ['irp', 'application/vnd.irepository.package+xml'],\n    ['iso', 'application/x-iso9660-image'],\n    ['itp', 'application/vnd.shana.informed.formtemplate'],\n    ['its', 'application/its+xml'],\n    ['ivp', 'application/vnd.immervision-ivp'],\n    ['ivu', 'application/vnd.immervision-ivu'],\n    ['jad', 'text/vnd.sun.j2me.app-descriptor'],\n    ['jade', 'text/jade'],\n    ['jam', 'application/vnd.jam'],\n    ['jar', 'application/java-archive'],\n    ['jardiff', 'application/x-java-archive-diff'],\n    ['java', 'text/x-java-source'],\n    ['jhc', 'image/jphc'],\n    ['jisp', 'application/vnd.jisp'],\n    ['jls', 'image/jls'],\n    ['jlt', 'application/vnd.hp-jlyt'],\n    ['jng', 'image/x-jng'],\n    ['jnlp', 'application/x-java-jnlp-file'],\n    ['joda', 'application/vnd.joost.joda-archive'],\n    ['jp2', 'image/jp2'],\n    ['jpe', 'image/jpeg'],\n    ['jpeg', 'image/jpeg'],\n    ['jpf', 'image/jpx'],\n    ['jpg', 'image/jpeg'],\n    ['jpg2', 'image/jp2'],\n    ['jpgm', 'video/jpm'],\n    ['jpgv', 'video/jpeg'],\n    ['jph', 'image/jph'],\n    ['jpm', 'video/jpm'],\n    ['jpx', 'image/jpx'],\n    ['js', 'application/javascript'],\n    ['json', 'application/json'],\n    ['json5', 'application/json5'],\n    ['jsonld', 'application/ld+json'],\n    // https://jsonlines.org/\n    ['jsonl', 'application/jsonl'],\n    ['jsonml', 'application/jsonml+json'],\n    ['jsx', 'text/jsx'],\n    ['jxr', 'image/jxr'],\n    ['jxra', 'image/jxra'],\n    ['jxrs', 'image/jxrs'],\n    ['jxs', 'image/jxs'],\n    ['jxsc', 'image/jxsc'],\n    ['jxsi', 'image/jxsi'],\n    ['jxss', 'image/jxss'],\n    ['kar', 'audio/midi'],\n    ['karbon', 'application/vnd.kde.karbon'],\n    ['kdb', 'application/octet-stream'],\n    ['kdbx', 'application/x-keepass2'],\n    ['key', 'application/x-iwork-keynote-sffkey'],\n    ['kfo', 'application/vnd.kde.kformula'],\n    ['kia', 'application/vnd.kidspiration'],\n    ['kml', 'application/vnd.google-earth.kml+xml'],\n    ['kmz', 'application/vnd.google-earth.kmz'],\n    ['kne', 'application/vnd.kinar'],\n    ['knp', 'application/vnd.kinar'],\n    ['kon', 'application/vnd.kde.kontour'],\n    ['kpr', 'application/vnd.kde.kpresenter'],\n    ['kpt', 'application/vnd.kde.kpresenter'],\n    ['kpxx', 'application/vnd.ds-keypoint'],\n    ['ksp', 'application/vnd.kde.kspread'],\n    ['ktr', 'application/vnd.kahootz'],\n    ['ktx', 'image/ktx'],\n    ['ktx2', 'image/ktx2'],\n    ['ktz', 'application/vnd.kahootz'],\n    ['kwd', 'application/vnd.kde.kword'],\n    ['kwt', 'application/vnd.kde.kword'],\n    ['lasxml', 'application/vnd.las.las+xml'],\n    ['latex', 'application/x-latex'],\n    ['lbd', 'application/vnd.llamagraphics.life-balance.desktop'],\n    ['lbe', 'application/vnd.llamagraphics.life-balance.exchange+xml'],\n    ['les', 'application/vnd.hhe.lesson-player'],\n    ['less', 'text/less'],\n    ['lgr', 'application/lgr+xml'],\n    ['lha', 'application/octet-stream'],\n    ['link66', 'application/vnd.route66.link66+xml'],\n    ['list', 'text/plain'],\n    ['list3820', 'application/vnd.ibm.modcap'],\n    ['listafp', 'application/vnd.ibm.modcap'],\n    ['litcoffee', 'text/coffeescript'],\n    ['lnk', 'application/x-ms-shortcut'],\n    ['log', 'text/plain'],\n    ['lostxml', 'application/lost+xml'],\n    ['lrf', 'application/octet-stream'],\n    ['lrm', 'application/vnd.ms-lrm'],\n    ['ltf', 'application/vnd.frogans.ltf'],\n    ['lua', 'text/x-lua'],\n    ['luac', 'application/x-lua-bytecode'],\n    ['lvp', 'audio/vnd.lucent.voice'],\n    ['lwp', 'application/vnd.lotus-wordpro'],\n    ['lzh', 'application/octet-stream'],\n    ['m1v', 'video/mpeg'],\n    ['m2a', 'audio/mpeg'],\n    ['m2v', 'video/mpeg'],\n    ['m3a', 'audio/mpeg'],\n    ['m3u', 'text/plain'],\n    ['m3u8', 'application/vnd.apple.mpegurl'],\n    ['m4a', 'audio/x-m4a'],\n    ['m4p', 'application/mp4'],\n    ['m4s', 'video/iso.segment'],\n    ['m4u', 'application/vnd.mpegurl'],\n    ['m4v', 'video/x-m4v'],\n    ['m13', 'application/x-msmediaview'],\n    ['m14', 'application/x-msmediaview'],\n    ['m21', 'application/mp21'],\n    ['ma', 'application/mathematica'],\n    ['mads', 'application/mads+xml'],\n    ['maei', 'application/mmt-aei+xml'],\n    ['mag', 'application/vnd.ecowin.chart'],\n    ['maker', 'application/vnd.framemaker'],\n    ['man', 'text/troff'],\n    ['manifest', 'text/cache-manifest'],\n    ['map', 'application/json'],\n    ['mar', 'application/octet-stream'],\n    ['markdown', 'text/markdown'],\n    ['mathml', 'application/mathml+xml'],\n    ['mb', 'application/mathematica'],\n    ['mbk', 'application/vnd.mobius.mbk'],\n    ['mbox', 'application/mbox'],\n    ['mc1', 'application/vnd.medcalcdata'],\n    ['mcd', 'application/vnd.mcd'],\n    ['mcurl', 'text/vnd.curl.mcurl'],\n    ['md', 'text/markdown'],\n    ['mdb', 'application/x-msaccess'],\n    ['mdi', 'image/vnd.ms-modi'],\n    ['mdx', 'text/mdx'],\n    ['me', 'text/troff'],\n    ['mesh', 'model/mesh'],\n    ['meta4', 'application/metalink4+xml'],\n    ['metalink', 'application/metalink+xml'],\n    ['mets', 'application/mets+xml'],\n    ['mfm', 'application/vnd.mfmp'],\n    ['mft', 'application/rpki-manifest'],\n    ['mgp', 'application/vnd.osgeo.mapguide.package'],\n    ['mgz', 'application/vnd.proteus.magazine'],\n    ['mid', 'audio/midi'],\n    ['midi', 'audio/midi'],\n    ['mie', 'application/x-mie'],\n    ['mif', 'application/vnd.mif'],\n    ['mime', 'message/rfc822'],\n    ['mj2', 'video/mj2'],\n    ['mjp2', 'video/mj2'],\n    ['mjs', 'application/javascript'],\n    ['mk3d', 'video/x-matroska'],\n    ['mka', 'audio/x-matroska'],\n    ['mkd', 'text/x-markdown'],\n    ['mks', 'video/x-matroska'],\n    ['mkv', 'video/x-matroska'],\n    ['mlp', 'application/vnd.dolby.mlp'],\n    ['mmd', 'application/vnd.chipnuts.karaoke-mmd'],\n    ['mmf', 'application/vnd.smaf'],\n    ['mml', 'text/mathml'],\n    ['mmr', 'image/vnd.fujixerox.edmics-mmr'],\n    ['mng', 'video/x-mng'],\n    ['mny', 'application/x-msmoney'],\n    ['mobi', 'application/x-mobipocket-ebook'],\n    ['mods', 'application/mods+xml'],\n    ['mov', 'video/quicktime'],\n    ['movie', 'video/x-sgi-movie'],\n    ['mp2', 'audio/mpeg'],\n    ['mp2a', 'audio/mpeg'],\n    ['mp3', 'audio/mpeg'],\n    ['mp4', 'video/mp4'],\n    ['mp4a', 'audio/mp4'],\n    ['mp4s', 'application/mp4'],\n    ['mp4v', 'video/mp4'],\n    ['mp21', 'application/mp21'],\n    ['mpc', 'application/vnd.mophun.certificate'],\n    ['mpd', 'application/dash+xml'],\n    ['mpe', 'video/mpeg'],\n    ['mpeg', 'video/mpeg'],\n    ['mpg', 'video/mpeg'],\n    ['mpg4', 'video/mp4'],\n    ['mpga', 'audio/mpeg'],\n    ['mpkg', 'application/vnd.apple.installer+xml'],\n    ['mpm', 'application/vnd.blueice.multipass'],\n    ['mpn', 'application/vnd.mophun.application'],\n    ['mpp', 'application/vnd.ms-project'],\n    ['mpt', 'application/vnd.ms-project'],\n    ['mpy', 'application/vnd.ibm.minipay'],\n    ['mqy', 'application/vnd.mobius.mqy'],\n    ['mrc', 'application/marc'],\n    ['mrcx', 'application/marcxml+xml'],\n    ['ms', 'text/troff'],\n    ['mscml', 'application/mediaservercontrol+xml'],\n    ['mseed', 'application/vnd.fdsn.mseed'],\n    ['mseq', 'application/vnd.mseq'],\n    ['msf', 'application/vnd.epson.msf'],\n    ['msg', 'application/vnd.ms-outlook'],\n    ['msh', 'model/mesh'],\n    ['msi', 'application/x-msdownload'],\n    ['msl', 'application/vnd.mobius.msl'],\n    ['msm', 'application/octet-stream'],\n    ['msp', 'application/octet-stream'],\n    ['msty', 'application/vnd.muvee.style'],\n    ['mtl', 'model/mtl'],\n    ['mts', 'model/vnd.mts'],\n    ['mus', 'application/vnd.musician'],\n    ['musd', 'application/mmt-usd+xml'],\n    ['musicxml', 'application/vnd.recordare.musicxml+xml'],\n    ['mvb', 'application/x-msmediaview'],\n    ['mvt', 'application/vnd.mapbox-vector-tile'],\n    ['mwf', 'application/vnd.mfer'],\n    ['mxf', 'application/mxf'],\n    ['mxl', 'application/vnd.recordare.musicxml'],\n    ['mxmf', 'audio/mobile-xmf'],\n    ['mxml', 'application/xv+xml'],\n    ['mxs', 'application/vnd.triscape.mxs'],\n    ['mxu', 'video/vnd.mpegurl'],\n    ['n-gage', 'application/vnd.nokia.n-gage.symbian.install'],\n    ['n3', 'text/n3'],\n    ['nb', 'application/mathematica'],\n    ['nbp', 'application/vnd.wolfram.player'],\n    ['nc', 'application/x-netcdf'],\n    ['ncx', 'application/x-dtbncx+xml'],\n    ['nfo', 'text/x-nfo'],\n    ['ngdat', 'application/vnd.nokia.n-gage.data'],\n    ['nitf', 'application/vnd.nitf'],\n    ['nlu', 'application/vnd.neurolanguage.nlu'],\n    ['nml', 'application/vnd.enliven'],\n    ['nnd', 'application/vnd.noblenet-directory'],\n    ['nns', 'application/vnd.noblenet-sealer'],\n    ['nnw', 'application/vnd.noblenet-web'],\n    ['npx', 'image/vnd.net-fpx'],\n    ['nq', 'application/n-quads'],\n    ['nsc', 'application/x-conference'],\n    ['nsf', 'application/vnd.lotus-notes'],\n    ['nt', 'application/n-triples'],\n    ['ntf', 'application/vnd.nitf'],\n    ['numbers', 'application/x-iwork-numbers-sffnumbers'],\n    ['nzb', 'application/x-nzb'],\n    ['oa2', 'application/vnd.fujitsu.oasys2'],\n    ['oa3', 'application/vnd.fujitsu.oasys3'],\n    ['oas', 'application/vnd.fujitsu.oasys'],\n    ['obd', 'application/x-msbinder'],\n    ['obgx', 'application/vnd.openblox.game+xml'],\n    ['obj', 'model/obj'],\n    ['oda', 'application/oda'],\n    ['odb', 'application/vnd.oasis.opendocument.database'],\n    ['odc', 'application/vnd.oasis.opendocument.chart'],\n    ['odf', 'application/vnd.oasis.opendocument.formula'],\n    ['odft', 'application/vnd.oasis.opendocument.formula-template'],\n    ['odg', 'application/vnd.oasis.opendocument.graphics'],\n    ['odi', 'application/vnd.oasis.opendocument.image'],\n    ['odm', 'application/vnd.oasis.opendocument.text-master'],\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\n    ['odt', 'application/vnd.oasis.opendocument.text'],\n    ['oga', 'audio/ogg'],\n    ['ogex', 'model/vnd.opengex'],\n    ['ogg', 'audio/ogg'],\n    ['ogv', 'video/ogg'],\n    ['ogx', 'application/ogg'],\n    ['omdoc', 'application/omdoc+xml'],\n    ['onepkg', 'application/onenote'],\n    ['onetmp', 'application/onenote'],\n    ['onetoc', 'application/onenote'],\n    ['onetoc2', 'application/onenote'],\n    ['opf', 'application/oebps-package+xml'],\n    ['opml', 'text/x-opml'],\n    ['oprc', 'application/vnd.palm'],\n    ['opus', 'audio/ogg'],\n    ['org', 'text/x-org'],\n    ['osf', 'application/vnd.yamaha.openscoreformat'],\n    ['osfpvg', 'application/vnd.yamaha.openscoreformat.osfpvg+xml'],\n    ['osm', 'application/vnd.openstreetmap.data+xml'],\n    ['otc', 'application/vnd.oasis.opendocument.chart-template'],\n    ['otf', 'font/otf'],\n    ['otg', 'application/vnd.oasis.opendocument.graphics-template'],\n    ['oth', 'application/vnd.oasis.opendocument.text-web'],\n    ['oti', 'application/vnd.oasis.opendocument.image-template'],\n    ['otp', 'application/vnd.oasis.opendocument.presentation-template'],\n    ['ots', 'application/vnd.oasis.opendocument.spreadsheet-template'],\n    ['ott', 'application/vnd.oasis.opendocument.text-template'],\n    ['ova', 'application/x-virtualbox-ova'],\n    ['ovf', 'application/x-virtualbox-ovf'],\n    ['owl', 'application/rdf+xml'],\n    ['oxps', 'application/oxps'],\n    ['oxt', 'application/vnd.openofficeorg.extension'],\n    ['p', 'text/x-pascal'],\n    ['p7a', 'application/x-pkcs7-signature'],\n    ['p7b', 'application/x-pkcs7-certificates'],\n    ['p7c', 'application/pkcs7-mime'],\n    ['p7m', 'application/pkcs7-mime'],\n    ['p7r', 'application/x-pkcs7-certreqresp'],\n    ['p7s', 'application/pkcs7-signature'],\n    ['p8', 'application/pkcs8'],\n    ['p10', 'application/x-pkcs10'],\n    ['p12', 'application/x-pkcs12'],\n    ['pac', 'application/x-ns-proxy-autoconfig'],\n    ['pages', 'application/x-iwork-pages-sffpages'],\n    ['pas', 'text/x-pascal'],\n    ['paw', 'application/vnd.pawaafile'],\n    ['pbd', 'application/vnd.powerbuilder6'],\n    ['pbm', 'image/x-portable-bitmap'],\n    ['pcap', 'application/vnd.tcpdump.pcap'],\n    ['pcf', 'application/x-font-pcf'],\n    ['pcl', 'application/vnd.hp-pcl'],\n    ['pclxl', 'application/vnd.hp-pclxl'],\n    ['pct', 'image/x-pict'],\n    ['pcurl', 'application/vnd.curl.pcurl'],\n    ['pcx', 'image/x-pcx'],\n    ['pdb', 'application/x-pilot'],\n    ['pde', 'text/x-processing'],\n    ['pdf', 'application/pdf'],\n    ['pem', 'application/x-x509-user-cert'],\n    ['pfa', 'application/x-font-type1'],\n    ['pfb', 'application/x-font-type1'],\n    ['pfm', 'application/x-font-type1'],\n    ['pfr', 'application/font-tdpfr'],\n    ['pfx', 'application/x-pkcs12'],\n    ['pgm', 'image/x-portable-graymap'],\n    ['pgn', 'application/x-chess-pgn'],\n    ['pgp', 'application/pgp'],\n    ['php', 'application/x-httpd-php'],\n    ['php3', 'application/x-httpd-php'],\n    ['php4', 'application/x-httpd-php'],\n    ['phps', 'application/x-httpd-php-source'],\n    ['phtml', 'application/x-httpd-php'],\n    ['pic', 'image/x-pict'],\n    ['pkg', 'application/octet-stream'],\n    ['pki', 'application/pkixcmp'],\n    ['pkipath', 'application/pkix-pkipath'],\n    ['pkpass', 'application/vnd.apple.pkpass'],\n    ['pl', 'application/x-perl'],\n    ['plb', 'application/vnd.3gpp.pic-bw-large'],\n    ['plc', 'application/vnd.mobius.plc'],\n    ['plf', 'application/vnd.pocketlearn'],\n    ['pls', 'application/pls+xml'],\n    ['pm', 'application/x-perl'],\n    ['pml', 'application/vnd.ctc-posml'],\n    ['png', 'image/png'],\n    ['pnm', 'image/x-portable-anymap'],\n    ['portpkg', 'application/vnd.macports.portpkg'],\n    ['pot', 'application/vnd.ms-powerpoint'],\n    ['potm', 'application/vnd.ms-powerpoint.presentation.macroEnabled.12'],\n    ['potx', 'application/vnd.openxmlformats-officedocument.presentationml.template'],\n    ['ppa', 'application/vnd.ms-powerpoint'],\n    ['ppam', 'application/vnd.ms-powerpoint.addin.macroEnabled.12'],\n    ['ppd', 'application/vnd.cups-ppd'],\n    ['ppm', 'image/x-portable-pixmap'],\n    ['pps', 'application/vnd.ms-powerpoint'],\n    ['ppsm', 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'],\n    ['ppsx', 'application/vnd.openxmlformats-officedocument.presentationml.slideshow'],\n    ['ppt', 'application/powerpoint'],\n    ['pptm', 'application/vnd.ms-powerpoint.presentation.macroEnabled.12'],\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\n    ['pqa', 'application/vnd.palm'],\n    ['prc', 'application/x-pilot'],\n    ['pre', 'application/vnd.lotus-freelance'],\n    ['prf', 'application/pics-rules'],\n    ['provx', 'application/provenance+xml'],\n    ['ps', 'application/postscript'],\n    ['psb', 'application/vnd.3gpp.pic-bw-small'],\n    ['psd', 'application/x-photoshop'],\n    ['psf', 'application/x-font-linux-psf'],\n    ['pskcxml', 'application/pskc+xml'],\n    ['pti', 'image/prs.pti'],\n    ['ptid', 'application/vnd.pvi.ptid1'],\n    ['pub', 'application/x-mspublisher'],\n    ['pvb', 'application/vnd.3gpp.pic-bw-var'],\n    ['pwn', 'application/vnd.3m.post-it-notes'],\n    ['pya', 'audio/vnd.ms-playready.media.pya'],\n    ['pyv', 'video/vnd.ms-playready.media.pyv'],\n    ['qam', 'application/vnd.epson.quickanime'],\n    ['qbo', 'application/vnd.intu.qbo'],\n    ['qfx', 'application/vnd.intu.qfx'],\n    ['qps', 'application/vnd.publishare-delta-tree'],\n    ['qt', 'video/quicktime'],\n    ['qwd', 'application/vnd.quark.quarkxpress'],\n    ['qwt', 'application/vnd.quark.quarkxpress'],\n    ['qxb', 'application/vnd.quark.quarkxpress'],\n    ['qxd', 'application/vnd.quark.quarkxpress'],\n    ['qxl', 'application/vnd.quark.quarkxpress'],\n    ['qxt', 'application/vnd.quark.quarkxpress'],\n    ['ra', 'audio/x-realaudio'],\n    ['ram', 'audio/x-pn-realaudio'],\n    ['raml', 'application/raml+yaml'],\n    ['rapd', 'application/route-apd+xml'],\n    ['rar', 'application/x-rar'],\n    ['ras', 'image/x-cmu-raster'],\n    ['rcprofile', 'application/vnd.ipunplugged.rcprofile'],\n    ['rdf', 'application/rdf+xml'],\n    ['rdz', 'application/vnd.data-vision.rdz'],\n    ['relo', 'application/p2p-overlay+xml'],\n    ['rep', 'application/vnd.businessobjects'],\n    ['res', 'application/x-dtbresource+xml'],\n    ['rgb', 'image/x-rgb'],\n    ['rif', 'application/reginfo+xml'],\n    ['rip', 'audio/vnd.rip'],\n    ['ris', 'application/x-research-info-systems'],\n    ['rl', 'application/resource-lists+xml'],\n    ['rlc', 'image/vnd.fujixerox.edmics-rlc'],\n    ['rld', 'application/resource-lists-diff+xml'],\n    ['rm', 'audio/x-pn-realaudio'],\n    ['rmi', 'audio/midi'],\n    ['rmp', 'audio/x-pn-realaudio-plugin'],\n    ['rms', 'application/vnd.jcp.javame.midlet-rms'],\n    ['rmvb', 'application/vnd.rn-realmedia-vbr'],\n    ['rnc', 'application/relax-ng-compact-syntax'],\n    ['rng', 'application/xml'],\n    ['roa', 'application/rpki-roa'],\n    ['roff', 'text/troff'],\n    ['rp9', 'application/vnd.cloanto.rp9'],\n    ['rpm', 'audio/x-pn-realaudio-plugin'],\n    ['rpss', 'application/vnd.nokia.radio-presets'],\n    ['rpst', 'application/vnd.nokia.radio-preset'],\n    ['rq', 'application/sparql-query'],\n    ['rs', 'application/rls-services+xml'],\n    ['rsa', 'application/x-pkcs7'],\n    ['rsat', 'application/atsc-rsat+xml'],\n    ['rsd', 'application/rsd+xml'],\n    ['rsheet', 'application/urc-ressheet+xml'],\n    ['rss', 'application/rss+xml'],\n    ['rtf', 'text/rtf'],\n    ['rtx', 'text/richtext'],\n    ['run', 'application/x-makeself'],\n    ['rusd', 'application/route-usd+xml'],\n    ['rv', 'video/vnd.rn-realvideo'],\n    ['s', 'text/x-asm'],\n    ['s3m', 'audio/s3m'],\n    ['saf', 'application/vnd.yamaha.smaf-audio'],\n    ['sass', 'text/x-sass'],\n    ['sbml', 'application/sbml+xml'],\n    ['sc', 'application/vnd.ibm.secure-container'],\n    ['scd', 'application/x-msschedule'],\n    ['scm', 'application/vnd.lotus-screencam'],\n    ['scq', 'application/scvp-cv-request'],\n    ['scs', 'application/scvp-cv-response'],\n    ['scss', 'text/x-scss'],\n    ['scurl', 'text/vnd.curl.scurl'],\n    ['sda', 'application/vnd.stardivision.draw'],\n    ['sdc', 'application/vnd.stardivision.calc'],\n    ['sdd', 'application/vnd.stardivision.impress'],\n    ['sdkd', 'application/vnd.solent.sdkm+xml'],\n    ['sdkm', 'application/vnd.solent.sdkm+xml'],\n    ['sdp', 'application/sdp'],\n    ['sdw', 'application/vnd.stardivision.writer'],\n    ['sea', 'application/octet-stream'],\n    ['see', 'application/vnd.seemail'],\n    ['seed', 'application/vnd.fdsn.seed'],\n    ['sema', 'application/vnd.sema'],\n    ['semd', 'application/vnd.semd'],\n    ['semf', 'application/vnd.semf'],\n    ['senmlx', 'application/senml+xml'],\n    ['sensmlx', 'application/sensml+xml'],\n    ['ser', 'application/java-serialized-object'],\n    ['setpay', 'application/set-payment-initiation'],\n    ['setreg', 'application/set-registration-initiation'],\n    ['sfd-hdstx', 'application/vnd.hydrostatix.sof-data'],\n    ['sfs', 'application/vnd.spotfire.sfs'],\n    ['sfv', 'text/x-sfv'],\n    ['sgi', 'image/sgi'],\n    ['sgl', 'application/vnd.stardivision.writer-global'],\n    ['sgm', 'text/sgml'],\n    ['sgml', 'text/sgml'],\n    ['sh', 'application/x-sh'],\n    ['shar', 'application/x-shar'],\n    ['shex', 'text/shex'],\n    ['shf', 'application/shf+xml'],\n    ['shtml', 'text/html'],\n    ['sid', 'image/x-mrsid-image'],\n    ['sieve', 'application/sieve'],\n    ['sig', 'application/pgp-signature'],\n    ['sil', 'audio/silk'],\n    ['silo', 'model/mesh'],\n    ['sis', 'application/vnd.symbian.install'],\n    ['sisx', 'application/vnd.symbian.install'],\n    ['sit', 'application/x-stuffit'],\n    ['sitx', 'application/x-stuffitx'],\n    ['siv', 'application/sieve'],\n    ['skd', 'application/vnd.koan'],\n    ['skm', 'application/vnd.koan'],\n    ['skp', 'application/vnd.koan'],\n    ['skt', 'application/vnd.koan'],\n    ['sldm', 'application/vnd.ms-powerpoint.slide.macroenabled.12'],\n    ['sldx', 'application/vnd.openxmlformats-officedocument.presentationml.slide'],\n    ['slim', 'text/slim'],\n    ['slm', 'text/slim'],\n    ['sls', 'application/route-s-tsid+xml'],\n    ['slt', 'application/vnd.epson.salt'],\n    ['sm', 'application/vnd.stepmania.stepchart'],\n    ['smf', 'application/vnd.stardivision.math'],\n    ['smi', 'application/smil'],\n    ['smil', 'application/smil'],\n    ['smv', 'video/x-smv'],\n    ['smzip', 'application/vnd.stepmania.package'],\n    ['snd', 'audio/basic'],\n    ['snf', 'application/x-font-snf'],\n    ['so', 'application/octet-stream'],\n    ['spc', 'application/x-pkcs7-certificates'],\n    ['spdx', 'text/spdx'],\n    ['spf', 'application/vnd.yamaha.smaf-phrase'],\n    ['spl', 'application/x-futuresplash'],\n    ['spot', 'text/vnd.in3d.spot'],\n    ['spp', 'application/scvp-vp-response'],\n    ['spq', 'application/scvp-vp-request'],\n    ['spx', 'audio/ogg'],\n    ['sql', 'application/x-sql'],\n    ['src', 'application/x-wais-source'],\n    ['srt', 'application/x-subrip'],\n    ['sru', 'application/sru+xml'],\n    ['srx', 'application/sparql-results+xml'],\n    ['ssdl', 'application/ssdl+xml'],\n    ['sse', 'application/vnd.kodak-descriptor'],\n    ['ssf', 'application/vnd.epson.ssf'],\n    ['ssml', 'application/ssml+xml'],\n    ['sst', 'application/octet-stream'],\n    ['st', 'application/vnd.sailingtracker.track'],\n    ['stc', 'application/vnd.sun.xml.calc.template'],\n    ['std', 'application/vnd.sun.xml.draw.template'],\n    ['stf', 'application/vnd.wt.stf'],\n    ['sti', 'application/vnd.sun.xml.impress.template'],\n    ['stk', 'application/hyperstudio'],\n    ['stl', 'model/stl'],\n    ['stpx', 'model/step+xml'],\n    ['stpxz', 'model/step-xml+zip'],\n    ['stpz', 'model/step+zip'],\n    ['str', 'application/vnd.pg.format'],\n    ['stw', 'application/vnd.sun.xml.writer.template'],\n    ['styl', 'text/stylus'],\n    ['stylus', 'text/stylus'],\n    ['sub', 'text/vnd.dvb.subtitle'],\n    ['sus', 'application/vnd.sus-calendar'],\n    ['susp', 'application/vnd.sus-calendar'],\n    ['sv4cpio', 'application/x-sv4cpio'],\n    ['sv4crc', 'application/x-sv4crc'],\n    ['svc', 'application/vnd.dvb.service'],\n    ['svd', 'application/vnd.svd'],\n    ['svg', 'image/svg+xml'],\n    ['svgz', 'image/svg+xml'],\n    ['swa', 'application/x-director'],\n    ['swf', 'application/x-shockwave-flash'],\n    ['swi', 'application/vnd.aristanetworks.swi'],\n    ['swidtag', 'application/swid+xml'],\n    ['sxc', 'application/vnd.sun.xml.calc'],\n    ['sxd', 'application/vnd.sun.xml.draw'],\n    ['sxg', 'application/vnd.sun.xml.writer.global'],\n    ['sxi', 'application/vnd.sun.xml.impress'],\n    ['sxm', 'application/vnd.sun.xml.math'],\n    ['sxw', 'application/vnd.sun.xml.writer'],\n    ['t', 'text/troff'],\n    ['t3', 'application/x-t3vm-image'],\n    ['t38', 'image/t38'],\n    ['taglet', 'application/vnd.mynfc'],\n    ['tao', 'application/vnd.tao.intent-module-archive'],\n    ['tap', 'image/vnd.tencent.tap'],\n    ['tar', 'application/x-tar'],\n    ['tcap', 'application/vnd.3gpp2.tcap'],\n    ['tcl', 'application/x-tcl'],\n    ['td', 'application/urc-targetdesc+xml'],\n    ['teacher', 'application/vnd.smart.teacher'],\n    ['tei', 'application/tei+xml'],\n    ['teicorpus', 'application/tei+xml'],\n    ['tex', 'application/x-tex'],\n    ['texi', 'application/x-texinfo'],\n    ['texinfo', 'application/x-texinfo'],\n    ['text', 'text/plain'],\n    ['tfi', 'application/thraud+xml'],\n    ['tfm', 'application/x-tex-tfm'],\n    ['tfx', 'image/tiff-fx'],\n    ['tga', 'image/x-tga'],\n    ['tgz', 'application/x-tar'],\n    ['thmx', 'application/vnd.ms-officetheme'],\n    ['tif', 'image/tiff'],\n    ['tiff', 'image/tiff'],\n    ['tk', 'application/x-tcl'],\n    ['tmo', 'application/vnd.tmobile-livetv'],\n    ['toml', 'application/toml'],\n    ['torrent', 'application/x-bittorrent'],\n    ['tpl', 'application/vnd.groove-tool-template'],\n    ['tpt', 'application/vnd.trid.tpt'],\n    ['tr', 'text/troff'],\n    ['tra', 'application/vnd.trueapp'],\n    ['trig', 'application/trig'],\n    ['trm', 'application/x-msterminal'],\n    ['ts', 'video/mp2t'],\n    ['tsd', 'application/timestamped-data'],\n    ['tsv', 'text/tab-separated-values'],\n    ['ttc', 'font/collection'],\n    ['ttf', 'font/ttf'],\n    ['ttl', 'text/turtle'],\n    ['ttml', 'application/ttml+xml'],\n    ['twd', 'application/vnd.simtech-mindmapper'],\n    ['twds', 'application/vnd.simtech-mindmapper'],\n    ['txd', 'application/vnd.genomatix.tuxedo'],\n    ['txf', 'application/vnd.mobius.txf'],\n    ['txt', 'text/plain'],\n    ['u8dsn', 'message/global-delivery-status'],\n    ['u8hdr', 'message/global-headers'],\n    ['u8mdn', 'message/global-disposition-notification'],\n    ['u8msg', 'message/global'],\n    ['u32', 'application/x-authorware-bin'],\n    ['ubj', 'application/ubjson'],\n    ['udeb', 'application/x-debian-package'],\n    ['ufd', 'application/vnd.ufdl'],\n    ['ufdl', 'application/vnd.ufdl'],\n    ['ulx', 'application/x-glulx'],\n    ['umj', 'application/vnd.umajin'],\n    ['unityweb', 'application/vnd.unity'],\n    ['uoml', 'application/vnd.uoml+xml'],\n    ['uri', 'text/uri-list'],\n    ['uris', 'text/uri-list'],\n    ['urls', 'text/uri-list'],\n    ['usdz', 'model/vnd.usdz+zip'],\n    ['ustar', 'application/x-ustar'],\n    ['utz', 'application/vnd.uiq.theme'],\n    ['uu', 'text/x-uuencode'],\n    ['uva', 'audio/vnd.dece.audio'],\n    ['uvd', 'application/vnd.dece.data'],\n    ['uvf', 'application/vnd.dece.data'],\n    ['uvg', 'image/vnd.dece.graphic'],\n    ['uvh', 'video/vnd.dece.hd'],\n    ['uvi', 'image/vnd.dece.graphic'],\n    ['uvm', 'video/vnd.dece.mobile'],\n    ['uvp', 'video/vnd.dece.pd'],\n    ['uvs', 'video/vnd.dece.sd'],\n    ['uvt', 'application/vnd.dece.ttml+xml'],\n    ['uvu', 'video/vnd.uvvu.mp4'],\n    ['uvv', 'video/vnd.dece.video'],\n    ['uvva', 'audio/vnd.dece.audio'],\n    ['uvvd', 'application/vnd.dece.data'],\n    ['uvvf', 'application/vnd.dece.data'],\n    ['uvvg', 'image/vnd.dece.graphic'],\n    ['uvvh', 'video/vnd.dece.hd'],\n    ['uvvi', 'image/vnd.dece.graphic'],\n    ['uvvm', 'video/vnd.dece.mobile'],\n    ['uvvp', 'video/vnd.dece.pd'],\n    ['uvvs', 'video/vnd.dece.sd'],\n    ['uvvt', 'application/vnd.dece.ttml+xml'],\n    ['uvvu', 'video/vnd.uvvu.mp4'],\n    ['uvvv', 'video/vnd.dece.video'],\n    ['uvvx', 'application/vnd.dece.unspecified'],\n    ['uvvz', 'application/vnd.dece.zip'],\n    ['uvx', 'application/vnd.dece.unspecified'],\n    ['uvz', 'application/vnd.dece.zip'],\n    ['vbox', 'application/x-virtualbox-vbox'],\n    ['vbox-extpack', 'application/x-virtualbox-vbox-extpack'],\n    ['vcard', 'text/vcard'],\n    ['vcd', 'application/x-cdlink'],\n    ['vcf', 'text/x-vcard'],\n    ['vcg', 'application/vnd.groove-vcard'],\n    ['vcs', 'text/x-vcalendar'],\n    ['vcx', 'application/vnd.vcx'],\n    ['vdi', 'application/x-virtualbox-vdi'],\n    ['vds', 'model/vnd.sap.vds'],\n    ['vhd', 'application/x-virtualbox-vhd'],\n    ['vis', 'application/vnd.visionary'],\n    ['viv', 'video/vnd.vivo'],\n    ['vlc', 'application/videolan'],\n    ['vmdk', 'application/x-virtualbox-vmdk'],\n    ['vob', 'video/x-ms-vob'],\n    ['vor', 'application/vnd.stardivision.writer'],\n    ['vox', 'application/x-authorware-bin'],\n    ['vrml', 'model/vrml'],\n    ['vsd', 'application/vnd.visio'],\n    ['vsf', 'application/vnd.vsf'],\n    ['vss', 'application/vnd.visio'],\n    ['vst', 'application/vnd.visio'],\n    ['vsw', 'application/vnd.visio'],\n    ['vtf', 'image/vnd.valve.source.texture'],\n    ['vtt', 'text/vtt'],\n    ['vtu', 'model/vnd.vtu'],\n    ['vxml', 'application/voicexml+xml'],\n    ['w3d', 'application/x-director'],\n    ['wad', 'application/x-doom'],\n    ['wadl', 'application/vnd.sun.wadl+xml'],\n    ['war', 'application/java-archive'],\n    ['wasm', 'application/wasm'],\n    ['wav', 'audio/x-wav'],\n    ['wax', 'audio/x-ms-wax'],\n    ['wbmp', 'image/vnd.wap.wbmp'],\n    ['wbs', 'application/vnd.criticaltools.wbs+xml'],\n    ['wbxml', 'application/wbxml'],\n    ['wcm', 'application/vnd.ms-works'],\n    ['wdb', 'application/vnd.ms-works'],\n    ['wdp', 'image/vnd.ms-photo'],\n    ['weba', 'audio/webm'],\n    ['webapp', 'application/x-web-app-manifest+json'],\n    ['webm', 'video/webm'],\n    ['webmanifest', 'application/manifest+json'],\n    ['webp', 'image/webp'],\n    ['wg', 'application/vnd.pmi.widget'],\n    ['wgt', 'application/widget'],\n    ['wks', 'application/vnd.ms-works'],\n    ['wm', 'video/x-ms-wm'],\n    ['wma', 'audio/x-ms-wma'],\n    ['wmd', 'application/x-ms-wmd'],\n    ['wmf', 'image/wmf'],\n    ['wml', 'text/vnd.wap.wml'],\n    ['wmlc', 'application/wmlc'],\n    ['wmls', 'text/vnd.wap.wmlscript'],\n    ['wmlsc', 'application/vnd.wap.wmlscriptc'],\n    ['wmv', 'video/x-ms-wmv'],\n    ['wmx', 'video/x-ms-wmx'],\n    ['wmz', 'application/x-msmetafile'],\n    ['woff', 'font/woff'],\n    ['woff2', 'font/woff2'],\n    ['word', 'application/msword'],\n    ['wpd', 'application/vnd.wordperfect'],\n    ['wpl', 'application/vnd.ms-wpl'],\n    ['wps', 'application/vnd.ms-works'],\n    ['wqd', 'application/vnd.wqd'],\n    ['wri', 'application/x-mswrite'],\n    ['wrl', 'model/vrml'],\n    ['wsc', 'message/vnd.wfa.wsc'],\n    ['wsdl', 'application/wsdl+xml'],\n    ['wspolicy', 'application/wspolicy+xml'],\n    ['wtb', 'application/vnd.webturbo'],\n    ['wvx', 'video/x-ms-wvx'],\n    ['x3d', 'model/x3d+xml'],\n    ['x3db', 'model/x3d+fastinfoset'],\n    ['x3dbz', 'model/x3d+binary'],\n    ['x3dv', 'model/x3d-vrml'],\n    ['x3dvz', 'model/x3d+vrml'],\n    ['x3dz', 'model/x3d+xml'],\n    ['x32', 'application/x-authorware-bin'],\n    ['x_b', 'model/vnd.parasolid.transmit.binary'],\n    ['x_t', 'model/vnd.parasolid.transmit.text'],\n    ['xaml', 'application/xaml+xml'],\n    ['xap', 'application/x-silverlight-app'],\n    ['xar', 'application/vnd.xara'],\n    ['xav', 'application/xcap-att+xml'],\n    ['xbap', 'application/x-ms-xbap'],\n    ['xbd', 'application/vnd.fujixerox.docuworks.binder'],\n    ['xbm', 'image/x-xbitmap'],\n    ['xca', 'application/xcap-caps+xml'],\n    ['xcs', 'application/calendar+xml'],\n    ['xdf', 'application/xcap-diff+xml'],\n    ['xdm', 'application/vnd.syncml.dm+xml'],\n    ['xdp', 'application/vnd.adobe.xdp+xml'],\n    ['xdssc', 'application/dssc+xml'],\n    ['xdw', 'application/vnd.fujixerox.docuworks'],\n    ['xel', 'application/xcap-el+xml'],\n    ['xenc', 'application/xenc+xml'],\n    ['xer', 'application/patch-ops-error+xml'],\n    ['xfdf', 'application/vnd.adobe.xfdf'],\n    ['xfdl', 'application/vnd.xfdl'],\n    ['xht', 'application/xhtml+xml'],\n    ['xhtml', 'application/xhtml+xml'],\n    ['xhvml', 'application/xv+xml'],\n    ['xif', 'image/vnd.xiff'],\n    ['xl', 'application/excel'],\n    ['xla', 'application/vnd.ms-excel'],\n    ['xlam', 'application/vnd.ms-excel.addin.macroEnabled.12'],\n    ['xlc', 'application/vnd.ms-excel'],\n    ['xlf', 'application/xliff+xml'],\n    ['xlm', 'application/vnd.ms-excel'],\n    ['xls', 'application/vnd.ms-excel'],\n    ['xlsb', 'application/vnd.ms-excel.sheet.binary.macroEnabled.12'],\n    ['xlsm', 'application/vnd.ms-excel.sheet.macroEnabled.12'],\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\n    ['xlt', 'application/vnd.ms-excel'],\n    ['xltm', 'application/vnd.ms-excel.template.macroEnabled.12'],\n    ['xltx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.template'],\n    ['xlw', 'application/vnd.ms-excel'],\n    ['xm', 'audio/xm'],\n    ['xml', 'application/xml'],\n    ['xns', 'application/xcap-ns+xml'],\n    ['xo', 'application/vnd.olpc-sugar'],\n    ['xop', 'application/xop+xml'],\n    ['xpi', 'application/x-xpinstall'],\n    ['xpl', 'application/xproc+xml'],\n    ['xpm', 'image/x-xpixmap'],\n    ['xpr', 'application/vnd.is-xpr'],\n    ['xps', 'application/vnd.ms-xpsdocument'],\n    ['xpw', 'application/vnd.intercon.formnet'],\n    ['xpx', 'application/vnd.intercon.formnet'],\n    ['xsd', 'application/xml'],\n    ['xsl', 'application/xml'],\n    ['xslt', 'application/xslt+xml'],\n    ['xsm', 'application/vnd.syncml+xml'],\n    ['xspf', 'application/xspf+xml'],\n    ['xul', 'application/vnd.mozilla.xul+xml'],\n    ['xvm', 'application/xv+xml'],\n    ['xvml', 'application/xv+xml'],\n    ['xwd', 'image/x-xwindowdump'],\n    ['xyz', 'chemical/x-xyz'],\n    ['xz', 'application/x-xz'],\n    ['yaml', 'text/yaml'],\n    ['yang', 'application/yang'],\n    ['yin', 'application/yin+xml'],\n    ['yml', 'text/yaml'],\n    ['ymp', 'text/x-suse-ymp'],\n    ['z', 'application/x-compress'],\n    ['z1', 'application/x-zmachine'],\n    ['z2', 'application/x-zmachine'],\n    ['z3', 'application/x-zmachine'],\n    ['z4', 'application/x-zmachine'],\n    ['z5', 'application/x-zmachine'],\n    ['z6', 'application/x-zmachine'],\n    ['z7', 'application/x-zmachine'],\n    ['z8', 'application/x-zmachine'],\n    ['zaz', 'application/vnd.zzazz.deck+xml'],\n    ['zip', 'application/zip'],\n    ['zir', 'application/vnd.zul'],\n    ['zirz', 'application/vnd.zul'],\n    ['zmm', 'application/vnd.handheld-entertainment+xml'],\n    ['zsh', 'text/x-scriptzsh']\n]);\nexport function toFileWithPath(file, path, h) {\n    const f = withMimeType(file);\n    const { webkitRelativePath } = file;\n    const p = typeof path === 'string'\n        ? path\n        // If <input webkitdirectory> is set,\n        // the File will have a {webkitRelativePath} property\n        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n        : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n            ? webkitRelativePath\n            : `./${file.name}`;\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        setObjProp(f, 'path', p);\n    }\n    if (h !== undefined) {\n        Object.defineProperty(f, 'handle', {\n            value: h,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    // Always populate a relative path so that even electron apps have access to a relativePath value\n    setObjProp(f, 'relativePath', p);\n    return f;\n}\nfunction withMimeType(file) {\n    const { name } = file;\n    const hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        const ext = name.split('.')\n            .pop().toLowerCase();\n        const type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\nfunction setObjProp(f, key, value) {\n    Object.defineProperty(f, key, {\n        value,\n        writable: false,\n        configurable: false,\n        enumerable: true\n    });\n}\n//# sourceMappingURL=file.js.map","import { __awaiter } from \"tslib\";\nimport { toFileWithPath } from './file';\nconst FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store', // macOs\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n *\n * EXPERIMENTAL: A list of https://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle objects can also be passed as an arg\n * and a list of File objects will be returned.\n *\n * @param evt\n */\nexport function fromEvent(evt) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (isObject(evt) && isDataTransfer(evt.dataTransfer)) {\n            return getDataTransferFiles(evt.dataTransfer, evt.type);\n        }\n        else if (isChangeEvt(evt)) {\n            return getInputFiles(evt);\n        }\n        else if (Array.isArray(evt) && evt.every(item => 'getFile' in item && typeof item.getFile === 'function')) {\n            return getFsHandleFiles(evt);\n        }\n        return [];\n    });\n}\nfunction isDataTransfer(value) {\n    return isObject(value);\n}\nfunction isChangeEvt(value) {\n    return isObject(value) && isObject(value.target);\n}\nfunction isObject(v) {\n    return typeof v === 'object' && v !== null;\n}\nfunction getInputFiles(evt) {\n    return fromList(evt.target.files).map(file => toFileWithPath(file));\n}\n// Ee expect each handle to be https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\nfunction getFsHandleFiles(handles) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const files = yield Promise.all(handles.map(h => h.getFile()));\n        return files.map(file => toFileWithPath(file));\n    });\n}\nfunction getDataTransferFiles(dt, type) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // IE11 does not support dataTransfer.items\n        // See https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items#Browser_compatibility\n        if (dt.items) {\n            const items = fromList(dt.items)\n                .filter(item => item.kind === 'file');\n            // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n            // only 'dragstart' and 'drop' has access to the data (source node)\n            if (type !== 'drop') {\n                return items;\n            }\n            const files = yield Promise.all(items.map(toFilePromises));\n            return noIgnoredFiles(flatten(files));\n        }\n        return noIgnoredFiles(fromList(dt.files)\n            .map(file => toFileWithPath(file)));\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(file => FILES_TO_IGNORE.indexOf(file.name) === -1);\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    if (items === null) {\n        return [];\n    }\n    const files = [];\n    // tslint:disable: prefer-for-of\n    for (let i = 0; i < items.length; i++) {\n        const file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    const entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item, entry);\n}\nfunction flatten(items) {\n    return items.reduce((acc, files) => [\n        ...acc,\n        ...(Array.isArray(files) ? flatten(files) : [files])\n    ], []);\n}\nfunction fromDataTransferItem(item, entry) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        // Check if we're in a secure context; due to a bug in Chrome (as far as we know)\n        // the browser crashes when calling this API (yet to be confirmed as a consistent behaviour).\n        //\n        // See:\n        // - https://issues.chromium.org/issues/40186242\n        // - https://github.com/react-dropzone/react-dropzone/issues/1397\n        if (globalThis.isSecureContext && typeof item.getAsFileSystemHandle === 'function') {\n            const h = yield item.getAsFileSystemHandle();\n            if (h === null) {\n                throw new Error(`${item} is not a File`);\n            }\n            // It seems that the handle can be `undefined` (see https://github.com/react-dropzone/file-selector/issues/120),\n            // so we check if it isn't; if it is, the code path continues to the next API (`getAsFile`).\n            if (h !== undefined) {\n                const file = yield h.getFile();\n                file.handle = h;\n                return toFileWithPath(file);\n            }\n        }\n        const file = item.getAsFile();\n        if (!file) {\n            throw new Error(`${item} is not a File`);\n        }\n        const fwp = toFileWithPath(file, (_a = entry === null || entry === void 0 ? void 0 : entry.fullPath) !== null && _a !== void 0 ? _a : undefined);\n        return fwp;\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry);\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    const reader = entry.createReader();\n    return new Promise((resolve, reject) => {\n        const entries = [];\n        function readEntries() {\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries((batch) => __awaiter(this, void 0, void 0, function* () {\n                if (!batch.length) {\n                    // Done reading directory\n                    try {\n                        const files = yield Promise.all(entries);\n                        resolve(files);\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                }\n                else {\n                    const items = Promise.all(batch.map(fromEntry));\n                    entries.push(items);\n                    // Continue reading\n                    readEntries();\n                }\n            }), (err) => {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            entry.file((file) => {\n                const fwp = toFileWithPath(file, entry.fullPath);\n                resolve(fwp);\n            }, (err) => {\n                reject(err);\n            });\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n\n    if (acceptedFilesArray.length === 0) {\n      return true;\n    }\n\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport _accepts from \"attr-accept\";\nvar accepts = typeof _accepts === \"function\" ? _accepts : _accepts.default; // Error codes\n\nexport var FILE_INVALID_TYPE = \"file-invalid-type\";\nexport var FILE_TOO_LARGE = \"file-too-large\";\nexport var FILE_TOO_SMALL = \"file-too-small\";\nexport var TOO_MANY_FILES = \"too-many-files\";\nexport var ErrorCode = {\n  FileInvalidType: FILE_INVALID_TYPE,\n  FileTooLarge: FILE_TOO_LARGE,\n  FileTooSmall: FILE_TOO_SMALL,\n  TooManyFiles: TOO_MANY_FILES\n};\n/**\n *\n * @param {string} accept\n */\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr() {\n  var accept = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var acceptArr = accept.split(\",\");\n  var msg = acceptArr.length > 1 ? \"one of \".concat(acceptArr.join(\", \")) : acceptArr[0];\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(msg)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" \").concat(maxSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" \").concat(minSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: \"Too many files\"\n};\n/**\n * Check if file is accepted.\n *\n * Firefox versions prior to 53 return a bogus MIME type for every file drag,\n * so dragovers with that MIME type will always be accepted.\n *\n * @param {File} file\n * @param {string} accept\n * @returns\n */\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === \"application/x-moz-file\" || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n/**\n *\n * @param {object} options\n * @param {File[]} options.files\n * @param {string} [options.accept]\n * @param {number} [options.minSize]\n * @param {number} [options.maxSize]\n * @param {boolean} [options.multiple]\n * @param {number} [options.maxFiles]\n * @param {(f: File) => FileError|FileError[]|null} [options.validator]\n * @returns\n */\n\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple,\n      maxFiles = _ref.maxFiles,\n      validator = _ref.validator;\n\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    var customErrors = validator ? validator(file) : null;\n    return accepted && sizeMatch && !customErrors;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === \"function\") {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== \"undefined\") {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === \"object\" && item !== null && item.kind === \"file\";\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf(\"Edge/\") !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}\n/**\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\n * is supported by the browser.\n * @returns {boolean}\n */\n\nexport function canUseFileSystemAccessAPI() {\n  return \"showOpenFilePicker\" in window;\n}\n/**\n * Convert the `{accept}` dropzone prop to the\n * `{types}` option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n *\n * @param {AcceptProp} accept\n * @returns {{accept: string[]}[]}\n */\n\nexport function pickerOptionsFromAccept(accept) {\n  if (isDefined(accept)) {\n    var acceptForPicker = Object.entries(accept).filter(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          mimeType = _ref3[0],\n          ext = _ref3[1];\n\n      var ok = true;\n\n      if (!isMIMEType(mimeType)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.\"));\n        ok = false;\n      }\n\n      if (!Array.isArray(ext) || !ext.every(isExt)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because an invalid file extension was provided.\"));\n        ok = false;\n      }\n\n      return ok;\n    }).reduce(function (agg, _ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          mimeType = _ref5[0],\n          ext = _ref5[1];\n\n      return _objectSpread(_objectSpread({}, agg), {}, _defineProperty({}, mimeType, ext));\n    }, {});\n    return [{\n      // description is required due to https://crbug.com/1264708\n      description: \"Files\",\n      accept: acceptForPicker\n    }];\n  }\n\n  return accept;\n}\n/**\n * Convert the `{accept}` dropzone prop to an array of MIME types/extensions.\n * @param {AcceptProp} accept\n * @returns {string}\n */\n\nexport function acceptPropAsAcceptAttr(accept) {\n  if (isDefined(accept)) {\n    return Object.entries(accept).reduce(function (a, _ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          mimeType = _ref7[0],\n          ext = _ref7[1];\n\n      return [].concat(_toConsumableArray(a), [mimeType], _toConsumableArray(ext));\n    }, []) // Silently discard invalid entries as pickerOptionsFromAccept warns about these\n    .filter(function (v) {\n      return isMIMEType(v) || isExt(v);\n    }).join(\",\");\n  }\n\n  return undefined;\n}\n/**\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is an abort exception.\n */\n\nexport function isAbort(v) {\n  return v instanceof DOMException && (v.name === \"AbortError\" || v.code === v.ABORT_ERR);\n}\n/**\n * Check if v is a security error.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is a security error.\n */\n\nexport function isSecurityError(v) {\n  return v instanceof DOMException && (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR);\n}\n/**\n * Check if v is a MIME type string.\n *\n * See accepted format: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers.\n *\n * @param {string} v\n */\n\nexport function isMIMEType(v) {\n  return v === \"audio/*\" || v === \"video/*\" || v === \"image/*\" || v === \"text/*\" || v === \"application/*\" || /\\w+\\/[-+.\\w]+/g.test(v);\n}\n/**\n * Check if v is a file extension.\n * @param {string} v\n */\n\nexport function isExt(v) {\n  return /^.*\\.[\\w]+$/.test(v);\n}\n/**\n * @typedef {Object.<string, string[]>} AcceptProp\n */\n\n/**\n * @typedef {object} FileError\n * @property {string} message\n * @property {ErrorCode|string} code\n */\n\n/**\n * @typedef {\"file-invalid-type\"|\"file-too-large\"|\"file-too-small\"|\"too-many-files\"} ErrorCode\n */","var _excluded = [\"children\"],\n    _excluded2 = [\"open\"],\n    _excluded3 = [\"refKey\", \"role\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fromEvent } from \"file-selector\";\nimport { acceptPropAsAcceptAttr, allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, canUseFileSystemAccessAPI, isAbort, isEvtWithFiles, isIeOrEdge, isPropagationStopped, isSecurityError, onDocumentDragOver, pickerOptionsFromAccept, TOO_MANY_FILES_REJECTION } from \"./utils/index\";\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\n    open: open\n  })));\n});\nDropzone.displayName = \"Dropzone\"; // Add default props for react-docgen\n\nvar defaultProps = {\n  disabled: false,\n  getFilesFromEvent: fromEvent,\n  maxSize: Infinity,\n  minSize: 0,\n  multiple: true,\n  maxFiles: 0,\n  preventDropOnDocument: true,\n  noClick: false,\n  noKeyboard: false,\n  noDrag: false,\n  noDragEventsBubbling: false,\n  validator: null,\n  useFsAccessApi: false,\n  autoFocus: false\n};\nDropzone.defaultProps = defaultProps;\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n   */\n  accept: PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Maximum accepted number of files\n   * The default value is 0 which means there is no limitation to how many files are accepted.\n   */\n  maxFiles: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when opening the file dialog\n   */\n  onFileDialogOpen: PropTypes.func,\n\n  /**\n   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n   * to open the file picker instead of using an `<input type=\"file\">` click event.\n   */\n  useFsAccessApi: PropTypes.bool,\n\n  /**\n   * Set to true to focus the root element on render\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are dropped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * Cb for when there's some error from any of the promises.\n   *\n   * @param {Error} error\n   */\n  onError: PropTypes.func,\n\n  /**\n   * Custom validation function. It must return null if there's no errors.\n   * @param {File} file\n   * @returns {FileError|FileError[]|null}\n   */\n  validator: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state.\n *\n * @typedef {object} DropzoneState\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\n/**\n * An object with the dropzone methods.\n *\n * @typedef {object} DropzoneMethods\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {import(\"./utils\").AcceptProp} [props.accept] Set accepted file types.\n * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {boolean} [props.useFsAccessApi] Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n * to open the file picker instead of using an `<input type=\"file\">` click event.\n * @param {boolean} autoFocus Set to true to auto focus the root element.\n * @param {Function} [props.onFileDialogOpen] Cb for when opening the file dialog\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be an object with keys as a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) and the value an array of file extensions (optional).\n * If `multiple` is set to false and additional files are dropped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n * @param {(error: Error) => void} [props.onError]\n *\n * @returns {DropzoneState & DropzoneMethods}\n */\n\nexport function useDropzone() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n      accept = _defaultProps$props.accept,\n      disabled = _defaultProps$props.disabled,\n      getFilesFromEvent = _defaultProps$props.getFilesFromEvent,\n      maxSize = _defaultProps$props.maxSize,\n      minSize = _defaultProps$props.minSize,\n      multiple = _defaultProps$props.multiple,\n      maxFiles = _defaultProps$props.maxFiles,\n      onDragEnter = _defaultProps$props.onDragEnter,\n      onDragLeave = _defaultProps$props.onDragLeave,\n      onDragOver = _defaultProps$props.onDragOver,\n      onDrop = _defaultProps$props.onDrop,\n      onDropAccepted = _defaultProps$props.onDropAccepted,\n      onDropRejected = _defaultProps$props.onDropRejected,\n      onFileDialogCancel = _defaultProps$props.onFileDialogCancel,\n      onFileDialogOpen = _defaultProps$props.onFileDialogOpen,\n      useFsAccessApi = _defaultProps$props.useFsAccessApi,\n      autoFocus = _defaultProps$props.autoFocus,\n      preventDropOnDocument = _defaultProps$props.preventDropOnDocument,\n      noClick = _defaultProps$props.noClick,\n      noKeyboard = _defaultProps$props.noKeyboard,\n      noDrag = _defaultProps$props.noDrag,\n      noDragEventsBubbling = _defaultProps$props.noDragEventsBubbling,\n      onError = _defaultProps$props.onError,\n      validator = _defaultProps$props.validator;\n\n  var acceptAttr = useMemo(function () {\n    return acceptPropAsAcceptAttr(accept);\n  }, [accept]);\n  var pickerTypes = useMemo(function () {\n    return pickerOptionsFromAccept(accept);\n  }, [accept]);\n  var onFileDialogOpenCb = useMemo(function () {\n    return typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop;\n  }, [onFileDialogOpen]);\n  var onFileDialogCancelCb = useMemo(function () {\n    return typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop;\n  }, [onFileDialogCancel]);\n  /**\n   * @constant\n   * @type {React.MutableRefObject<HTMLElement>}\n   */\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive;\n  var fsAccessApiWorksRef = useRef(typeof window !== \"undefined\" && window.isSecureContext && useFsAccessApi && canUseFileSystemAccessAPI()); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: \"closeDialog\"\n            });\n            onFileDialogCancelCb();\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"focus\", onWindowFocus, false);\n    return function () {\n      window.removeEventListener(\"focus\", onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\n      document.addEventListener(\"drop\", onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\n        document.removeEventListener(\"drop\", onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]); // Auto focus the root when autoFocus is true\n\n  useEffect(function () {\n    if (!disabled && autoFocus && rootRef.current) {\n      rootRef.current.focus();\n    }\n\n    return function () {};\n  }, [rootRef, autoFocus, disabled]);\n  var onErrCb = useCallback(function (e) {\n    if (onError) {\n      onError(e);\n    } else {\n      // Let the user know something's gone wrong if they haven't provided the onError cb.\n      console.error(e);\n    }\n  }, [onError]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var fileCount = files.length;\n        var isDragAccept = fileCount > 0 && allFilesAccepted({\n          files: files,\n          accept: acceptAttr,\n          minSize: minSize,\n          maxSize: maxSize,\n          multiple: multiple,\n          maxFiles: maxFiles,\n          validator: validator\n        });\n        var isDragReject = fileCount > 0 && !isDragAccept;\n        dispatch({\n          isDragAccept: isDragAccept,\n          isDragReject: isDragReject,\n          isDragActive: true,\n          type: \"setDraggedFiles\"\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, onErrCb, noDragEventsBubbling, acceptAttr, minSize, maxSize, multiple, maxFiles, validator]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n    var hasFiles = isEvtWithFiles(event);\n\n    if (hasFiles && event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = \"copy\";\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (hasFiles && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      type: \"setDraggedFiles\",\n      isDragActive: false,\n      isDragAccept: false,\n      isDragReject: false\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var setFiles = useCallback(function (files, event) {\n    var acceptedFiles = [];\n    var fileRejections = [];\n    files.forEach(function (file) {\n      var _fileAccepted = fileAccepted(file, acceptAttr),\n          _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n          accepted = _fileAccepted2[0],\n          acceptError = _fileAccepted2[1];\n\n      var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n          _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n          sizeMatch = _fileMatchSize2[0],\n          sizeError = _fileMatchSize2[1];\n\n      var customErrors = validator ? validator(file) : null;\n\n      if (accepted && sizeMatch && !customErrors) {\n        acceptedFiles.push(file);\n      } else {\n        var errors = [acceptError, sizeError];\n\n        if (customErrors) {\n          errors = errors.concat(customErrors);\n        }\n\n        fileRejections.push({\n          file: file,\n          errors: errors.filter(function (e) {\n            return e;\n          })\n        });\n      }\n    });\n\n    if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\n      // Reject everything and empty accepted files\n      acceptedFiles.forEach(function (file) {\n        fileRejections.push({\n          file: file,\n          errors: [TOO_MANY_FILES_REJECTION]\n        });\n      });\n      acceptedFiles.splice(0);\n    }\n\n    dispatch({\n      acceptedFiles: acceptedFiles,\n      fileRejections: fileRejections,\n      isDragReject: fileRejections.length > 0,\n      type: \"setFiles\"\n    });\n\n    if (onDrop) {\n      onDrop(acceptedFiles, fileRejections, event);\n    }\n\n    if (fileRejections.length > 0 && onDropRejected) {\n      onDropRejected(fileRejections, event);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted(acceptedFiles, event);\n    }\n  }, [dispatch, multiple, acceptAttr, minSize, maxSize, maxFiles, onDrop, onDropAccepted, onDropRejected, validator]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        setFiles(files, event);\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n\n    dispatch({\n      type: \"reset\"\n    });\n  }, [getFilesFromEvent, setFiles, onErrCb, noDragEventsBubbling]); // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    // No point to use FS access APIs if context is not secure\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\n    if (fsAccessApiWorksRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb(); // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n\n      var opts = {\n        multiple: multiple,\n        types: pickerTypes\n      };\n      window.showOpenFilePicker(opts).then(function (handles) {\n        return getFilesFromEvent(handles);\n      }).then(function (files) {\n        setFiles(files, null);\n        dispatch({\n          type: \"closeDialog\"\n        });\n      }).catch(function (e) {\n        // AbortError means the user canceled\n        if (isAbort(e)) {\n          onFileDialogCancelCb(e);\n          dispatch({\n            type: \"closeDialog\"\n          });\n        } else if (isSecurityError(e)) {\n          fsAccessApiWorksRef.current = false; // CORS, so cannot use this API\n          // Try using the input\n\n          if (inputRef.current) {\n            inputRef.current.value = null;\n            inputRef.current.click();\n          } else {\n            onErrCb(new Error(\"Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.\"));\n          }\n        } else {\n          onErrCb(e);\n        }\n      });\n      return;\n    }\n\n    if (inputRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb();\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch, onFileDialogOpenCb, onFileDialogCancelCb, useFsAccessApi, setFiles, onErrCb, pickerTypes, multiple]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.key === \" \" || event.key === \"Enter\" || event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, openFileDialog]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: \"focus\"\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: \"blur\"\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [noClick, openFileDialog]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? \"ref\" : _ref2$refKey,\n          role = _ref2.role,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, _excluded3);\n\n      return _objectSpread(_objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\n        role: typeof role === \"string\" && role !== \"\" ? role : \"presentation\"\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}), rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, _excluded4);\n\n      var inputProps = _defineProperty({\n        accept: acceptAttr,\n        multiple: multiple,\n        type: \"file\",\n        style: {\n          border: 0,\n          clip: \"rect(0, 0, 0, 0)\",\n          clipPath: \"inset(50%)\",\n          height: \"1px\",\n          margin: \"0 -1px -1px 0\",\n          overflow: \"hidden\",\n          padding: 0,\n          position: \"absolute\",\n          width: \"1px\",\n          whiteSpace: \"nowrap\"\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread(_objectSpread({}, inputProps), rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n/**\n * @param {DropzoneState} state\n * @param {{type: string} & DropzoneState} action\n * @returns {DropzoneState}\n */\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case \"focus\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: true\n      });\n\n    case \"blur\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: false\n      });\n\n    case \"openDialog\":\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        isFileDialogActive: true\n      });\n\n    case \"closeDialog\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: false\n      });\n\n    case \"setDraggedFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isDragActive: action.isDragActive,\n        isDragAccept: action.isDragAccept,\n        isDragReject: action.isDragReject\n      });\n\n    case \"setFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections,\n        isDragReject: action.isDragReject\n      });\n\n    case \"reset\":\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nfunction noop() {}\n\nexport { ErrorCode } from \"./utils\";","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule UserAgent_DEPRECATED\n */\n\n/**\n *  Provides entirely client-side User Agent and OS detection. You should prefer\n *  the non-deprecated UserAgent module when possible, which exposes our\n *  authoritative server-side PHP-based detection to the client.\n *\n *  Usage is straightforward:\n *\n *    if (UserAgent_DEPRECATED.ie()) {\n *      //  IE\n *    }\n *\n *  You can also do version checks:\n *\n *    if (UserAgent_DEPRECATED.ie() >= 7) {\n *      //  IE7 or better\n *    }\n *\n *  The browser functions will return NaN if the browser does not match, so\n *  you can also do version compares the other way:\n *\n *    if (UserAgent_DEPRECATED.ie() < 7) {\n *      //  IE6 or worse\n *    }\n *\n *  Note that the version is a float and may include a minor version number,\n *  so you should always use range operators to perform comparisons, not\n *  strict equality.\n *\n *  **Note:** You should **strongly** prefer capability detection to browser\n *  version detection where it's reasonable:\n *\n *    http://www.quirksmode.org/js/support.html\n *\n *  Further, we have a large number of mature wrapper functions and classes\n *  which abstract away many browser irregularities. Check the documentation,\n *  grep for things, or ask on javascript@lists.facebook.com before writing yet\n *  another copy of \"event || window.event\".\n *\n */\n\nvar _populated = false;\n\n// Browsers\nvar _ie, _firefox, _opera, _webkit, _chrome;\n\n// Actual IE browser for compatibility mode\nvar _ie_real_version;\n\n// Platforms\nvar _osx, _windows, _linux, _android;\n\n// Architectures\nvar _win64;\n\n// Devices\nvar _iphone, _ipad, _native;\n\nvar _mobile;\n\nfunction _populate() {\n  if (_populated) {\n    return;\n  }\n\n  _populated = true;\n\n  // To work around buggy JS libraries that can't handle multi-digit\n  // version numbers, Opera 10's user agent string claims it's Opera\n  // 9, then later includes a Version/X.Y field:\n  //\n  // Opera/9.80 (foo) Presto/2.2.15 Version/10.10\n  var uas = navigator.userAgent;\n  var agent = /(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(uas);\n  var os    = /(Mac OS X)|(Windows)|(Linux)/.exec(uas);\n\n  _iphone = /\\b(iPhone|iP[ao]d)/.exec(uas);\n  _ipad = /\\b(iP[ao]d)/.exec(uas);\n  _android = /Android/i.exec(uas);\n  _native = /FBAN\\/\\w+;/i.exec(uas);\n  _mobile = /Mobile/i.exec(uas);\n\n  // Note that the IE team blog would have you believe you should be checking\n  // for 'Win64; x64'.  But MSDN then reveals that you can actually be coming\n  // from either x64 or ia64;  so ultimately, you should just check for Win64\n  // as in indicator of whether you're in 64-bit IE.  32-bit IE on 64-bit\n  // Windows will send 'WOW64' instead.\n  _win64 = !!(/Win64/.exec(uas));\n\n  if (agent) {\n    _ie = agent[1] ? parseFloat(agent[1]) : (\n          agent[5] ? parseFloat(agent[5]) : NaN);\n    // IE compatibility mode\n    if (_ie && document && document.documentMode) {\n      _ie = document.documentMode;\n    }\n    // grab the \"true\" ie version from the trident token if available\n    var trident = /(?:Trident\\/(\\d+.\\d+))/.exec(uas);\n    _ie_real_version = trident ? parseFloat(trident[1]) + 4 : _ie;\n\n    _firefox = agent[2] ? parseFloat(agent[2]) : NaN;\n    _opera   = agent[3] ? parseFloat(agent[3]) : NaN;\n    _webkit  = agent[4] ? parseFloat(agent[4]) : NaN;\n    if (_webkit) {\n      // We do not add the regexp to the above test, because it will always\n      // match 'safari' only since 'AppleWebKit' appears before 'Chrome' in\n      // the userAgent string.\n      agent = /(?:Chrome\\/(\\d+\\.\\d+))/.exec(uas);\n      _chrome = agent && agent[1] ? parseFloat(agent[1]) : NaN;\n    } else {\n      _chrome = NaN;\n    }\n  } else {\n    _ie = _firefox = _opera = _chrome = _webkit = NaN;\n  }\n\n  if (os) {\n    if (os[1]) {\n      // Detect OS X version.  If no version number matches, set _osx to true.\n      // Version examples:  10, 10_6_1, 10.7\n      // Parses version number as a float, taking only first two sets of\n      // digits.  If only one set of digits is found, returns just the major\n      // version number.\n      var ver = /(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(uas);\n\n      _osx = ver ? parseFloat(ver[1].replace('_', '.')) : true;\n    } else {\n      _osx = false;\n    }\n    _windows = !!os[2];\n    _linux   = !!os[3];\n  } else {\n    _osx = _windows = _linux = false;\n  }\n}\n\nvar UserAgent_DEPRECATED = {\n\n  /**\n   *  Check if the UA is Internet Explorer.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  ie: function() {\n    return _populate() || _ie;\n  },\n\n  /**\n   * Check if we're in Internet Explorer compatibility mode.\n   *\n   * @return bool true if in compatibility mode, false if\n   * not compatibility mode or not ie\n   */\n  ieCompatibilityMode: function() {\n    return _populate() || (_ie_real_version > _ie);\n  },\n\n\n  /**\n   * Whether the browser is 64-bit IE.  Really, this is kind of weak sauce;  we\n   * only need this because Skype can't handle 64-bit IE yet.  We need to remove\n   * this when we don't need it -- tracked by #601957.\n   */\n  ie64: function() {\n    return UserAgent_DEPRECATED.ie() && _win64;\n  },\n\n  /**\n   *  Check if the UA is Firefox.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  firefox: function() {\n    return _populate() || _firefox;\n  },\n\n\n  /**\n   *  Check if the UA is Opera.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  opera: function() {\n    return _populate() || _opera;\n  },\n\n\n  /**\n   *  Check if the UA is WebKit.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  webkit: function() {\n    return _populate() || _webkit;\n  },\n\n  /**\n   *  For Push\n   *  WILL BE REMOVED VERY SOON. Use UserAgent_DEPRECATED.webkit\n   */\n  safari: function() {\n    return UserAgent_DEPRECATED.webkit();\n  },\n\n  /**\n   *  Check if the UA is a Chrome browser.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  chrome : function() {\n    return _populate() || _chrome;\n  },\n\n\n  /**\n   *  Check if the user is running Windows.\n   *\n   *  @return bool `true' if the user's OS is Windows.\n   */\n  windows: function() {\n    return _populate() || _windows;\n  },\n\n\n  /**\n   *  Check if the user is running Mac OS X.\n   *\n   *  @return float|bool   Returns a float if a version number is detected,\n   *                       otherwise true/false.\n   */\n  osx: function() {\n    return _populate() || _osx;\n  },\n\n  /**\n   * Check if the user is running Linux.\n   *\n   * @return bool `true' if the user's OS is some flavor of Linux.\n   */\n  linux: function() {\n    return _populate() || _linux;\n  },\n\n  /**\n   * Check if the user is running on an iPhone or iPod platform.\n   *\n   * @return bool `true' if the user is running some flavor of the\n   *    iPhone OS.\n   */\n  iphone: function() {\n    return _populate() || _iphone;\n  },\n\n  mobile: function() {\n    return _populate() || (_iphone || _ipad || _android || _mobile);\n  },\n\n  nativeApp: function() {\n    // webviews inside of the native apps\n    return _populate() || _native;\n  },\n\n  android: function() {\n    return _populate() || _android;\n  },\n\n  ipad: function() {\n    return _populate() || _ipad;\n  }\n};\n\nmodule.exports = UserAgent_DEPRECATED;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n/*jslint evil: true */\n\n'use strict';\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners:\n    canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventSupported\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature =\n    document.implementation &&\n    document.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (!ExecutionEnvironment.canUseDOM ||\n      capture && !('addEventListener' in document)) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nmodule.exports = isEventSupported;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\n'use strict';\n\nvar UserAgent_DEPRECATED = require('./UserAgent_DEPRECATED');\n\nvar isEventSupported = require('./isEventSupported');\n\n\n// Reasonable defaults\nvar PIXEL_STEP  = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0, sY = 0,       // spinX, spinY\n      pX = 0, pY = 0;       // pixelX, pixelY\n\n  // Legacy\n  if ('detail'      in event) { sY = event.detail; }\n  if ('wheelDelta'  in event) { sY = -event.wheelDelta / 120; }\n  if ('wheelDeltaY' in event) { sY = -event.wheelDeltaY / 120; }\n  if ('wheelDeltaX' in event) { sX = -event.wheelDeltaX / 120; }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) { pY = event.deltaY; }\n  if ('deltaX' in event) { pX = event.deltaX; }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {          // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {                             // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) { sX = (pX < 1) ? -1 : 1; }\n  if (pY && !sY) { sY = (pY < 1) ? -1 : 1; }\n\n  return { spinX  : sX,\n           spinY  : sY,\n           pixelX : pX,\n           pixelY : pY };\n}\n\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function() /*string*/ {\n  return (UserAgent_DEPRECATED.firefox())\n           ? 'DOMMouseScroll'\n           : (isEventSupported('wheel'))\n               ? 'wheel'\n               : 'mousewheel';\n};\n\nmodule.exports = normalizeWheel;\n","module.exports = require('./src/normalizeWheel.js');\n","import { __assign, __extends } from 'tslib';\nimport * as React from 'react';\nimport normalizeWheel from 'normalize-wheel';\n\n/**\r\n * Compute the dimension of the crop area based on media size,\r\n * aspect ratio and optionally rotation\r\n */\nfunction getCropSize(mediaWidth, mediaHeight, containerWidth, containerHeight, aspect, rotation) {\n  if (rotation === void 0) {\n    rotation = 0;\n  }\n  var _a = rotateSize(mediaWidth, mediaHeight, rotation),\n    width = _a.width,\n    height = _a.height;\n  var fittingWidth = Math.min(width, containerWidth);\n  var fittingHeight = Math.min(height, containerHeight);\n  if (fittingWidth > fittingHeight * aspect) {\n    return {\n      width: fittingHeight * aspect,\n      height: fittingHeight\n    };\n  }\n  return {\n    width: fittingWidth,\n    height: fittingWidth / aspect\n  };\n}\n/**\r\n * Compute media zoom.\r\n * We fit the media into the container with \"max-width: 100%; max-height: 100%;\"\r\n */\nfunction getMediaZoom(mediaSize) {\n  // Take the axis with more pixels to improve accuracy\n  return mediaSize.width > mediaSize.height ? mediaSize.width / mediaSize.naturalWidth : mediaSize.height / mediaSize.naturalHeight;\n}\n/**\r\n * Ensure a new media position stays in the crop area.\r\n */\nfunction restrictPosition(position, mediaSize, cropSize, zoom, rotation) {\n  if (rotation === void 0) {\n    rotation = 0;\n  }\n  var _a = rotateSize(mediaSize.width, mediaSize.height, rotation),\n    width = _a.width,\n    height = _a.height;\n  return {\n    x: restrictPositionCoord(position.x, width, cropSize.width, zoom),\n    y: restrictPositionCoord(position.y, height, cropSize.height, zoom)\n  };\n}\nfunction restrictPositionCoord(position, mediaSize, cropSize, zoom) {\n  var maxPosition = mediaSize * zoom / 2 - cropSize / 2;\n  return clamp(position, -maxPosition, maxPosition);\n}\nfunction getDistanceBetweenPoints(pointA, pointB) {\n  return Math.sqrt(Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2));\n}\nfunction getRotationBetweenPoints(pointA, pointB) {\n  return Math.atan2(pointB.y - pointA.y, pointB.x - pointA.x) * 180 / Math.PI;\n}\n/**\r\n * Compute the output cropped area of the media in percentages and pixels.\r\n * x/y are the top-left coordinates on the src media\r\n */\nfunction computeCroppedArea(crop, mediaSize, cropSize, aspect, zoom, rotation, restrictPosition) {\n  if (rotation === void 0) {\n    rotation = 0;\n  }\n  if (restrictPosition === void 0) {\n    restrictPosition = true;\n  }\n  // if the media is rotated by the user, we cannot limit the position anymore\n  // as it might need to be negative.\n  var limitAreaFn = restrictPosition ? limitArea : noOp;\n  var mediaBBoxSize = rotateSize(mediaSize.width, mediaSize.height, rotation);\n  var mediaNaturalBBoxSize = rotateSize(mediaSize.naturalWidth, mediaSize.naturalHeight, rotation);\n  // calculate the crop area in percentages\n  // in the rotated space\n  var croppedAreaPercentages = {\n    x: limitAreaFn(100, ((mediaBBoxSize.width - cropSize.width / zoom) / 2 - crop.x / zoom) / mediaBBoxSize.width * 100),\n    y: limitAreaFn(100, ((mediaBBoxSize.height - cropSize.height / zoom) / 2 - crop.y / zoom) / mediaBBoxSize.height * 100),\n    width: limitAreaFn(100, cropSize.width / mediaBBoxSize.width * 100 / zoom),\n    height: limitAreaFn(100, cropSize.height / mediaBBoxSize.height * 100 / zoom)\n  };\n  // we compute the pixels size naively\n  var widthInPixels = Math.round(limitAreaFn(mediaNaturalBBoxSize.width, croppedAreaPercentages.width * mediaNaturalBBoxSize.width / 100));\n  var heightInPixels = Math.round(limitAreaFn(mediaNaturalBBoxSize.height, croppedAreaPercentages.height * mediaNaturalBBoxSize.height / 100));\n  var isImgWiderThanHigh = mediaNaturalBBoxSize.width >= mediaNaturalBBoxSize.height * aspect;\n  // then we ensure the width and height exactly match the aspect (to avoid rounding approximations)\n  // if the media is wider than high, when zoom is 0, the crop height will be equals to image height\n  // thus we want to compute the width from the height and aspect for accuracy.\n  // Otherwise, we compute the height from width and aspect.\n  var sizePixels = isImgWiderThanHigh ? {\n    width: Math.round(heightInPixels * aspect),\n    height: heightInPixels\n  } : {\n    width: widthInPixels,\n    height: Math.round(widthInPixels / aspect)\n  };\n  var croppedAreaPixels = __assign(__assign({}, sizePixels), {\n    x: Math.round(limitAreaFn(mediaNaturalBBoxSize.width - sizePixels.width, croppedAreaPercentages.x * mediaNaturalBBoxSize.width / 100)),\n    y: Math.round(limitAreaFn(mediaNaturalBBoxSize.height - sizePixels.height, croppedAreaPercentages.y * mediaNaturalBBoxSize.height / 100))\n  });\n  return {\n    croppedAreaPercentages: croppedAreaPercentages,\n    croppedAreaPixels: croppedAreaPixels\n  };\n}\n/**\r\n * Ensure the returned value is between 0 and max\r\n */\nfunction limitArea(max, value) {\n  return Math.min(max, Math.max(0, value));\n}\nfunction noOp(_max, value) {\n  return value;\n}\n/**\r\n * Compute crop and zoom from the croppedAreaPercentages.\r\n */\nfunction getInitialCropFromCroppedAreaPercentages(croppedAreaPercentages, mediaSize, rotation, cropSize, minZoom, maxZoom) {\n  var mediaBBoxSize = rotateSize(mediaSize.width, mediaSize.height, rotation);\n  // This is the inverse process of computeCroppedArea\n  var zoom = clamp(cropSize.width / mediaBBoxSize.width * (100 / croppedAreaPercentages.width), minZoom, maxZoom);\n  var crop = {\n    x: zoom * mediaBBoxSize.width / 2 - cropSize.width / 2 - mediaBBoxSize.width * zoom * (croppedAreaPercentages.x / 100),\n    y: zoom * mediaBBoxSize.height / 2 - cropSize.height / 2 - mediaBBoxSize.height * zoom * (croppedAreaPercentages.y / 100)\n  };\n  return {\n    crop: crop,\n    zoom: zoom\n  };\n}\n/**\r\n * Compute zoom from the croppedAreaPixels\r\n */\nfunction getZoomFromCroppedAreaPixels(croppedAreaPixels, mediaSize, cropSize) {\n  var mediaZoom = getMediaZoom(mediaSize);\n  return cropSize.height > cropSize.width ? cropSize.height / (croppedAreaPixels.height * mediaZoom) : cropSize.width / (croppedAreaPixels.width * mediaZoom);\n}\n/**\r\n * Compute crop and zoom from the croppedAreaPixels\r\n */\nfunction getInitialCropFromCroppedAreaPixels(croppedAreaPixels, mediaSize, rotation, cropSize, minZoom, maxZoom) {\n  if (rotation === void 0) {\n    rotation = 0;\n  }\n  var mediaNaturalBBoxSize = rotateSize(mediaSize.naturalWidth, mediaSize.naturalHeight, rotation);\n  var zoom = clamp(getZoomFromCroppedAreaPixels(croppedAreaPixels, mediaSize, cropSize), minZoom, maxZoom);\n  var cropZoom = cropSize.height > cropSize.width ? cropSize.height / croppedAreaPixels.height : cropSize.width / croppedAreaPixels.width;\n  var crop = {\n    x: ((mediaNaturalBBoxSize.width - croppedAreaPixels.width) / 2 - croppedAreaPixels.x) * cropZoom,\n    y: ((mediaNaturalBBoxSize.height - croppedAreaPixels.height) / 2 - croppedAreaPixels.y) * cropZoom\n  };\n  return {\n    crop: crop,\n    zoom: zoom\n  };\n}\n/**\r\n * Return the point that is the center of point a and b\r\n */\nfunction getCenter(a, b) {\n  return {\n    x: (b.x + a.x) / 2,\n    y: (b.y + a.y) / 2\n  };\n}\nfunction getRadianAngle(degreeValue) {\n  return degreeValue * Math.PI / 180;\n}\n/**\r\n * Returns the new bounding area of a rotated rectangle.\r\n */\nfunction rotateSize(width, height, rotation) {\n  var rotRad = getRadianAngle(rotation);\n  return {\n    width: Math.abs(Math.cos(rotRad) * width) + Math.abs(Math.sin(rotRad) * height),\n    height: Math.abs(Math.sin(rotRad) * width) + Math.abs(Math.cos(rotRad) * height)\n  };\n}\n/**\r\n * Clamp value between min and max\r\n */\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n/**\r\n * Combine multiple class names into a single string.\r\n */\nfunction classNames() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  return args.filter(function (value) {\n    if (typeof value === 'string' && value.length > 0) {\n      return true;\n    }\n    return false;\n  }).join(' ').trim();\n}\n\nvar css_248z = \".reactEasyCrop_Container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: hidden;\\n  user-select: none;\\n  touch-action: none;\\n  cursor: move;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.reactEasyCrop_Image,\\n.reactEasyCrop_Video {\\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\\n}\\n\\n.reactEasyCrop_Contain {\\n  max-width: 100%;\\n  max-height: 100%;\\n  margin: auto;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.reactEasyCrop_Cover_Horizontal {\\n  width: 100%;\\n  height: auto;\\n}\\n.reactEasyCrop_Cover_Vertical {\\n  width: auto;\\n  height: 100%;\\n}\\n\\n.reactEasyCrop_CropArea {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  border: 1px solid rgba(255, 255, 255, 0.5);\\n  box-sizing: border-box;\\n  box-shadow: 0 0 0 9999em;\\n  color: rgba(0, 0, 0, 0.5);\\n  overflow: hidden;\\n}\\n\\n.reactEasyCrop_CropAreaRound {\\n  border-radius: 50%;\\n}\\n\\n.reactEasyCrop_CropAreaGrid::before {\\n  content: ' ';\\n  box-sizing: border-box;\\n  position: absolute;\\n  border: 1px solid rgba(255, 255, 255, 0.5);\\n  top: 0;\\n  bottom: 0;\\n  left: 33.33%;\\n  right: 33.33%;\\n  border-top: 0;\\n  border-bottom: 0;\\n}\\n\\n.reactEasyCrop_CropAreaGrid::after {\\n  content: ' ';\\n  box-sizing: border-box;\\n  position: absolute;\\n  border: 1px solid rgba(255, 255, 255, 0.5);\\n  top: 33.33%;\\n  bottom: 33.33%;\\n  left: 0;\\n  right: 0;\\n  border-left: 0;\\n  border-right: 0;\\n}\\n\";\n\nvar MIN_ZOOM = 1;\nvar MAX_ZOOM = 3;\nvar KEYBOARD_STEP = 1;\nvar Cropper = /** @class */function (_super) {\n  __extends(Cropper, _super);\n  function Cropper() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.imageRef = React.createRef();\n    _this.videoRef = React.createRef();\n    _this.containerPosition = {\n      x: 0,\n      y: 0\n    };\n    _this.containerRef = null;\n    _this.styleRef = null;\n    _this.containerRect = null;\n    _this.mediaSize = {\n      width: 0,\n      height: 0,\n      naturalWidth: 0,\n      naturalHeight: 0\n    };\n    _this.dragStartPosition = {\n      x: 0,\n      y: 0\n    };\n    _this.dragStartCrop = {\n      x: 0,\n      y: 0\n    };\n    _this.gestureZoomStart = 0;\n    _this.gestureRotationStart = 0;\n    _this.isTouching = false;\n    _this.lastPinchDistance = 0;\n    _this.lastPinchRotation = 0;\n    _this.rafDragTimeout = null;\n    _this.rafPinchTimeout = null;\n    _this.wheelTimer = null;\n    _this.currentDoc = typeof document !== 'undefined' ? document : null;\n    _this.currentWindow = typeof window !== 'undefined' ? window : null;\n    _this.resizeObserver = null;\n    _this.state = {\n      cropSize: null,\n      hasWheelJustStarted: false,\n      mediaObjectFit: undefined\n    };\n    _this.initResizeObserver = function () {\n      if (typeof window.ResizeObserver === 'undefined' || !_this.containerRef) {\n        return;\n      }\n      var isFirstResize = true;\n      _this.resizeObserver = new window.ResizeObserver(function (entries) {\n        if (isFirstResize) {\n          isFirstResize = false; // observe() is called on mount, we don't want to trigger a recompute on mount\n          return;\n        }\n        _this.computeSizes();\n      });\n      _this.resizeObserver.observe(_this.containerRef);\n    };\n    // this is to prevent Safari on iOS >= 10 to zoom the page\n    _this.preventZoomSafari = function (e) {\n      return e.preventDefault();\n    };\n    _this.cleanEvents = function () {\n      if (!_this.currentDoc) return;\n      _this.currentDoc.removeEventListener('mousemove', _this.onMouseMove);\n      _this.currentDoc.removeEventListener('mouseup', _this.onDragStopped);\n      _this.currentDoc.removeEventListener('touchmove', _this.onTouchMove);\n      _this.currentDoc.removeEventListener('touchend', _this.onDragStopped);\n      _this.currentDoc.removeEventListener('gesturemove', _this.onGestureMove);\n      _this.currentDoc.removeEventListener('gestureend', _this.onGestureEnd);\n      _this.currentDoc.removeEventListener('scroll', _this.onScroll);\n    };\n    _this.clearScrollEvent = function () {\n      if (_this.containerRef) _this.containerRef.removeEventListener('wheel', _this.onWheel);\n      if (_this.wheelTimer) {\n        clearTimeout(_this.wheelTimer);\n      }\n    };\n    _this.onMediaLoad = function () {\n      var cropSize = _this.computeSizes();\n      if (cropSize) {\n        _this.emitCropData();\n        _this.setInitialCrop(cropSize);\n      }\n      if (_this.props.onMediaLoaded) {\n        _this.props.onMediaLoaded(_this.mediaSize);\n      }\n    };\n    _this.setInitialCrop = function (cropSize) {\n      if (_this.props.initialCroppedAreaPercentages) {\n        var _a = getInitialCropFromCroppedAreaPercentages(_this.props.initialCroppedAreaPercentages, _this.mediaSize, _this.props.rotation, cropSize, _this.props.minZoom, _this.props.maxZoom),\n          crop = _a.crop,\n          zoom = _a.zoom;\n        _this.props.onCropChange(crop);\n        _this.props.onZoomChange && _this.props.onZoomChange(zoom);\n      } else if (_this.props.initialCroppedAreaPixels) {\n        var _b = getInitialCropFromCroppedAreaPixels(_this.props.initialCroppedAreaPixels, _this.mediaSize, _this.props.rotation, cropSize, _this.props.minZoom, _this.props.maxZoom),\n          crop = _b.crop,\n          zoom = _b.zoom;\n        _this.props.onCropChange(crop);\n        _this.props.onZoomChange && _this.props.onZoomChange(zoom);\n      }\n    };\n    _this.computeSizes = function () {\n      var _a, _b, _c, _d, _e, _f;\n      var mediaRef = _this.imageRef.current || _this.videoRef.current;\n      if (mediaRef && _this.containerRef) {\n        _this.containerRect = _this.containerRef.getBoundingClientRect();\n        _this.saveContainerPosition();\n        var containerAspect = _this.containerRect.width / _this.containerRect.height;\n        var naturalWidth = ((_a = _this.imageRef.current) === null || _a === void 0 ? void 0 : _a.naturalWidth) || ((_b = _this.videoRef.current) === null || _b === void 0 ? void 0 : _b.videoWidth) || 0;\n        var naturalHeight = ((_c = _this.imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalHeight) || ((_d = _this.videoRef.current) === null || _d === void 0 ? void 0 : _d.videoHeight) || 0;\n        var isMediaScaledDown = mediaRef.offsetWidth < naturalWidth || mediaRef.offsetHeight < naturalHeight;\n        var mediaAspect = naturalWidth / naturalHeight;\n        // We do not rely on the offsetWidth/offsetHeight if the media is scaled down\n        // as the values they report are rounded. That will result in precision losses\n        // when calculating zoom. We use the fact that the media is positionned relative\n        // to the container. That allows us to use the container's dimensions\n        // and natural aspect ratio of the media to calculate accurate media size.\n        // However, for this to work, the container should not be rotated\n        var renderedMediaSize = void 0;\n        if (isMediaScaledDown) {\n          switch (_this.state.mediaObjectFit) {\n            default:\n            case 'contain':\n              renderedMediaSize = containerAspect > mediaAspect ? {\n                width: _this.containerRect.height * mediaAspect,\n                height: _this.containerRect.height\n              } : {\n                width: _this.containerRect.width,\n                height: _this.containerRect.width / mediaAspect\n              };\n              break;\n            case 'horizontal-cover':\n              renderedMediaSize = {\n                width: _this.containerRect.width,\n                height: _this.containerRect.width / mediaAspect\n              };\n              break;\n            case 'vertical-cover':\n              renderedMediaSize = {\n                width: _this.containerRect.height * mediaAspect,\n                height: _this.containerRect.height\n              };\n              break;\n          }\n        } else {\n          renderedMediaSize = {\n            width: mediaRef.offsetWidth,\n            height: mediaRef.offsetHeight\n          };\n        }\n        _this.mediaSize = __assign(__assign({}, renderedMediaSize), {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        });\n        // set media size in the parent\n        if (_this.props.setMediaSize) {\n          _this.props.setMediaSize(_this.mediaSize);\n        }\n        var cropSize = _this.props.cropSize ? _this.props.cropSize : getCropSize(_this.mediaSize.width, _this.mediaSize.height, _this.containerRect.width, _this.containerRect.height, _this.props.aspect, _this.props.rotation);\n        if (((_e = _this.state.cropSize) === null || _e === void 0 ? void 0 : _e.height) !== cropSize.height || ((_f = _this.state.cropSize) === null || _f === void 0 ? void 0 : _f.width) !== cropSize.width) {\n          _this.props.onCropSizeChange && _this.props.onCropSizeChange(cropSize);\n        }\n        _this.setState({\n          cropSize: cropSize\n        }, _this.recomputeCropPosition);\n        // pass crop size to parent\n        if (_this.props.setCropSize) {\n          _this.props.setCropSize(cropSize);\n        }\n        return cropSize;\n      }\n    };\n    _this.saveContainerPosition = function () {\n      if (_this.containerRef) {\n        var bounds = _this.containerRef.getBoundingClientRect();\n        _this.containerPosition = {\n          x: bounds.left,\n          y: bounds.top\n        };\n      }\n    };\n    _this.onMouseDown = function (e) {\n      if (!_this.currentDoc) return;\n      e.preventDefault();\n      _this.currentDoc.addEventListener('mousemove', _this.onMouseMove);\n      _this.currentDoc.addEventListener('mouseup', _this.onDragStopped);\n      _this.saveContainerPosition();\n      _this.onDragStart(Cropper.getMousePoint(e));\n    };\n    _this.onMouseMove = function (e) {\n      return _this.onDrag(Cropper.getMousePoint(e));\n    };\n    _this.onScroll = function (e) {\n      if (!_this.currentDoc) return;\n      e.preventDefault();\n      _this.saveContainerPosition();\n    };\n    _this.onTouchStart = function (e) {\n      if (!_this.currentDoc) return;\n      _this.isTouching = true;\n      if (_this.props.onTouchRequest && !_this.props.onTouchRequest(e)) {\n        return;\n      }\n      _this.currentDoc.addEventListener('touchmove', _this.onTouchMove, {\n        passive: false\n      }); // iOS 11 now defaults to passive: true\n      _this.currentDoc.addEventListener('touchend', _this.onDragStopped);\n      _this.saveContainerPosition();\n      if (e.touches.length === 2) {\n        _this.onPinchStart(e);\n      } else if (e.touches.length === 1) {\n        _this.onDragStart(Cropper.getTouchPoint(e.touches[0]));\n      }\n    };\n    _this.onTouchMove = function (e) {\n      // Prevent whole page from scrolling on iOS.\n      e.preventDefault();\n      if (e.touches.length === 2) {\n        _this.onPinchMove(e);\n      } else if (e.touches.length === 1) {\n        _this.onDrag(Cropper.getTouchPoint(e.touches[0]));\n      }\n    };\n    _this.onGestureStart = function (e) {\n      if (!_this.currentDoc) return;\n      e.preventDefault();\n      _this.currentDoc.addEventListener('gesturechange', _this.onGestureMove);\n      _this.currentDoc.addEventListener('gestureend', _this.onGestureEnd);\n      _this.gestureZoomStart = _this.props.zoom;\n      _this.gestureRotationStart = _this.props.rotation;\n    };\n    _this.onGestureMove = function (e) {\n      e.preventDefault();\n      if (_this.isTouching) {\n        // this is to avoid conflict between gesture and touch events\n        return;\n      }\n      var point = Cropper.getMousePoint(e);\n      var newZoom = _this.gestureZoomStart - 1 + e.scale;\n      _this.setNewZoom(newZoom, point, {\n        shouldUpdatePosition: true\n      });\n      if (_this.props.onRotationChange) {\n        var newRotation = _this.gestureRotationStart + e.rotation;\n        _this.props.onRotationChange(newRotation);\n      }\n    };\n    _this.onGestureEnd = function (e) {\n      _this.cleanEvents();\n    };\n    _this.onDragStart = function (_a) {\n      var _b, _c;\n      var x = _a.x,\n        y = _a.y;\n      _this.dragStartPosition = {\n        x: x,\n        y: y\n      };\n      _this.dragStartCrop = __assign({}, _this.props.crop);\n      (_c = (_b = _this.props).onInteractionStart) === null || _c === void 0 ? void 0 : _c.call(_b);\n    };\n    _this.onDrag = function (_a) {\n      var x = _a.x,\n        y = _a.y;\n      if (!_this.currentWindow) return;\n      if (_this.rafDragTimeout) _this.currentWindow.cancelAnimationFrame(_this.rafDragTimeout);\n      _this.rafDragTimeout = _this.currentWindow.requestAnimationFrame(function () {\n        if (!_this.state.cropSize) return;\n        if (x === undefined || y === undefined) return;\n        var offsetX = x - _this.dragStartPosition.x;\n        var offsetY = y - _this.dragStartPosition.y;\n        var requestedPosition = {\n          x: _this.dragStartCrop.x + offsetX,\n          y: _this.dragStartCrop.y + offsetY\n        };\n        var newPosition = _this.props.restrictPosition ? restrictPosition(requestedPosition, _this.mediaSize, _this.state.cropSize, _this.props.zoom, _this.props.rotation) : requestedPosition;\n        _this.props.onCropChange(newPosition);\n      });\n    };\n    _this.onDragStopped = function () {\n      var _a, _b;\n      _this.isTouching = false;\n      _this.cleanEvents();\n      _this.emitCropData();\n      (_b = (_a = _this.props).onInteractionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    _this.onWheel = function (e) {\n      if (!_this.currentWindow) return;\n      if (_this.props.onWheelRequest && !_this.props.onWheelRequest(e)) {\n        return;\n      }\n      e.preventDefault();\n      var point = Cropper.getMousePoint(e);\n      var pixelY = normalizeWheel(e).pixelY;\n      var newZoom = _this.props.zoom - pixelY * _this.props.zoomSpeed / 200;\n      _this.setNewZoom(newZoom, point, {\n        shouldUpdatePosition: true\n      });\n      if (!_this.state.hasWheelJustStarted) {\n        _this.setState({\n          hasWheelJustStarted: true\n        }, function () {\n          var _a, _b;\n          return (_b = (_a = _this.props).onInteractionStart) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n      }\n      if (_this.wheelTimer) {\n        clearTimeout(_this.wheelTimer);\n      }\n      _this.wheelTimer = _this.currentWindow.setTimeout(function () {\n        return _this.setState({\n          hasWheelJustStarted: false\n        }, function () {\n          var _a, _b;\n          return (_b = (_a = _this.props).onInteractionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n      }, 250);\n    };\n    _this.getPointOnContainer = function (_a, containerTopLeft) {\n      var x = _a.x,\n        y = _a.y;\n      if (!_this.containerRect) {\n        throw new Error('The Cropper is not mounted');\n      }\n      return {\n        x: _this.containerRect.width / 2 - (x - containerTopLeft.x),\n        y: _this.containerRect.height / 2 - (y - containerTopLeft.y)\n      };\n    };\n    _this.getPointOnMedia = function (_a) {\n      var x = _a.x,\n        y = _a.y;\n      var _b = _this.props,\n        crop = _b.crop,\n        zoom = _b.zoom;\n      return {\n        x: (x + crop.x) / zoom,\n        y: (y + crop.y) / zoom\n      };\n    };\n    _this.setNewZoom = function (zoom, point, _a) {\n      var _b = _a === void 0 ? {} : _a,\n        _c = _b.shouldUpdatePosition,\n        shouldUpdatePosition = _c === void 0 ? true : _c;\n      if (!_this.state.cropSize || !_this.props.onZoomChange) return;\n      var newZoom = clamp(zoom, _this.props.minZoom, _this.props.maxZoom);\n      if (shouldUpdatePosition) {\n        var zoomPoint = _this.getPointOnContainer(point, _this.containerPosition);\n        var zoomTarget = _this.getPointOnMedia(zoomPoint);\n        var requestedPosition = {\n          x: zoomTarget.x * newZoom - zoomPoint.x,\n          y: zoomTarget.y * newZoom - zoomPoint.y\n        };\n        var newPosition = _this.props.restrictPosition ? restrictPosition(requestedPosition, _this.mediaSize, _this.state.cropSize, newZoom, _this.props.rotation) : requestedPosition;\n        _this.props.onCropChange(newPosition);\n      }\n      _this.props.onZoomChange(newZoom);\n    };\n    _this.getCropData = function () {\n      if (!_this.state.cropSize) {\n        return null;\n      }\n      // this is to ensure the crop is correctly restricted after a zoom back (https://github.com/ValentinH/react-easy-crop/issues/6)\n      var restrictedPosition = _this.props.restrictPosition ? restrictPosition(_this.props.crop, _this.mediaSize, _this.state.cropSize, _this.props.zoom, _this.props.rotation) : _this.props.crop;\n      return computeCroppedArea(restrictedPosition, _this.mediaSize, _this.state.cropSize, _this.getAspect(), _this.props.zoom, _this.props.rotation, _this.props.restrictPosition);\n    };\n    _this.emitCropData = function () {\n      var cropData = _this.getCropData();\n      if (!cropData) return;\n      var croppedAreaPercentages = cropData.croppedAreaPercentages,\n        croppedAreaPixels = cropData.croppedAreaPixels;\n      if (_this.props.onCropComplete) {\n        _this.props.onCropComplete(croppedAreaPercentages, croppedAreaPixels);\n      }\n      if (_this.props.onCropAreaChange) {\n        _this.props.onCropAreaChange(croppedAreaPercentages, croppedAreaPixels);\n      }\n    };\n    _this.emitCropAreaChange = function () {\n      var cropData = _this.getCropData();\n      if (!cropData) return;\n      var croppedAreaPercentages = cropData.croppedAreaPercentages,\n        croppedAreaPixels = cropData.croppedAreaPixels;\n      if (_this.props.onCropAreaChange) {\n        _this.props.onCropAreaChange(croppedAreaPercentages, croppedAreaPixels);\n      }\n    };\n    _this.recomputeCropPosition = function () {\n      if (!_this.state.cropSize) return;\n      var newPosition = _this.props.restrictPosition ? restrictPosition(_this.props.crop, _this.mediaSize, _this.state.cropSize, _this.props.zoom, _this.props.rotation) : _this.props.crop;\n      _this.props.onCropChange(newPosition);\n      _this.emitCropData();\n    };\n    _this.onKeyDown = function (event) {\n      var _a = _this.props,\n        crop = _a.crop,\n        onCropChange = _a.onCropChange,\n        keyboardStep = _a.keyboardStep,\n        zoom = _a.zoom,\n        rotation = _a.rotation;\n      var step = keyboardStep;\n      if (!_this.state.cropSize) return;\n      // if the shift key is pressed, reduce the step to allow finer control\n      if (event.shiftKey) {\n        step *= 0.2;\n      }\n      var newCrop = __assign({}, crop);\n      switch (event.key) {\n        case 'ArrowUp':\n          newCrop.y -= step;\n          event.preventDefault();\n          break;\n        case 'ArrowDown':\n          newCrop.y += step;\n          event.preventDefault();\n          break;\n        case 'ArrowLeft':\n          newCrop.x -= step;\n          event.preventDefault();\n          break;\n        case 'ArrowRight':\n          newCrop.x += step;\n          event.preventDefault();\n          break;\n        default:\n          return;\n      }\n      if (_this.props.restrictPosition) {\n        newCrop = restrictPosition(newCrop, _this.mediaSize, _this.state.cropSize, zoom, rotation);\n      }\n      onCropChange(newCrop);\n    };\n    return _this;\n  }\n  Cropper.prototype.componentDidMount = function () {\n    if (!this.currentDoc || !this.currentWindow) return;\n    if (this.containerRef) {\n      if (this.containerRef.ownerDocument) {\n        this.currentDoc = this.containerRef.ownerDocument;\n      }\n      if (this.currentDoc.defaultView) {\n        this.currentWindow = this.currentDoc.defaultView;\n      }\n      this.initResizeObserver();\n      // only add window resize listener if ResizeObserver is not supported. Otherwise, it would be redundant\n      if (typeof window.ResizeObserver === 'undefined') {\n        this.currentWindow.addEventListener('resize', this.computeSizes);\n      }\n      this.props.zoomWithScroll && this.containerRef.addEventListener('wheel', this.onWheel, {\n        passive: false\n      });\n      this.containerRef.addEventListener('gesturestart', this.onGestureStart);\n    }\n    this.currentDoc.addEventListener('scroll', this.onScroll);\n    if (!this.props.disableAutomaticStylesInjection) {\n      this.styleRef = this.currentDoc.createElement('style');\n      this.styleRef.setAttribute('type', 'text/css');\n      if (this.props.nonce) {\n        this.styleRef.setAttribute('nonce', this.props.nonce);\n      }\n      this.styleRef.innerHTML = css_248z;\n      this.currentDoc.head.appendChild(this.styleRef);\n    }\n    // when rendered via SSR, the image can already be loaded and its onLoad callback will never be called\n    if (this.imageRef.current && this.imageRef.current.complete) {\n      this.onMediaLoad();\n    }\n    // set image and video refs in the parent if the callbacks exist\n    if (this.props.setImageRef) {\n      this.props.setImageRef(this.imageRef);\n    }\n    if (this.props.setVideoRef) {\n      this.props.setVideoRef(this.videoRef);\n    }\n  };\n  Cropper.prototype.componentWillUnmount = function () {\n    var _a, _b;\n    if (!this.currentDoc || !this.currentWindow) return;\n    if (typeof window.ResizeObserver === 'undefined') {\n      this.currentWindow.removeEventListener('resize', this.computeSizes);\n    }\n    (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    if (this.containerRef) {\n      this.containerRef.removeEventListener('gesturestart', this.preventZoomSafari);\n    }\n    if (this.styleRef) {\n      (_b = this.styleRef.parentNode) === null || _b === void 0 ? void 0 : _b.removeChild(this.styleRef);\n    }\n    this.cleanEvents();\n    this.props.zoomWithScroll && this.clearScrollEvent();\n  };\n  Cropper.prototype.componentDidUpdate = function (prevProps) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    if (prevProps.rotation !== this.props.rotation) {\n      this.computeSizes();\n      this.recomputeCropPosition();\n    } else if (prevProps.aspect !== this.props.aspect) {\n      this.computeSizes();\n    } else if (prevProps.objectFit !== this.props.objectFit) {\n      this.computeSizes();\n    } else if (prevProps.zoom !== this.props.zoom) {\n      this.recomputeCropPosition();\n    } else if (((_a = prevProps.cropSize) === null || _a === void 0 ? void 0 : _a.height) !== ((_b = this.props.cropSize) === null || _b === void 0 ? void 0 : _b.height) || ((_c = prevProps.cropSize) === null || _c === void 0 ? void 0 : _c.width) !== ((_d = this.props.cropSize) === null || _d === void 0 ? void 0 : _d.width)) {\n      this.computeSizes();\n    } else if (((_e = prevProps.crop) === null || _e === void 0 ? void 0 : _e.x) !== ((_f = this.props.crop) === null || _f === void 0 ? void 0 : _f.x) || ((_g = prevProps.crop) === null || _g === void 0 ? void 0 : _g.y) !== ((_h = this.props.crop) === null || _h === void 0 ? void 0 : _h.y)) {\n      this.emitCropAreaChange();\n    }\n    if (prevProps.zoomWithScroll !== this.props.zoomWithScroll && this.containerRef) {\n      this.props.zoomWithScroll ? this.containerRef.addEventListener('wheel', this.onWheel, {\n        passive: false\n      }) : this.clearScrollEvent();\n    }\n    if (prevProps.video !== this.props.video) {\n      (_j = this.videoRef.current) === null || _j === void 0 ? void 0 : _j.load();\n    }\n    var objectFit = this.getObjectFit();\n    if (objectFit !== this.state.mediaObjectFit) {\n      this.setState({\n        mediaObjectFit: objectFit\n      }, this.computeSizes);\n    }\n  };\n  Cropper.prototype.getAspect = function () {\n    var _a = this.props,\n      cropSize = _a.cropSize,\n      aspect = _a.aspect;\n    if (cropSize) {\n      return cropSize.width / cropSize.height;\n    }\n    return aspect;\n  };\n  Cropper.prototype.getObjectFit = function () {\n    var _a, _b, _c, _d;\n    if (this.props.objectFit === 'cover') {\n      var mediaRef = this.imageRef.current || this.videoRef.current;\n      if (mediaRef && this.containerRef) {\n        this.containerRect = this.containerRef.getBoundingClientRect();\n        var containerAspect = this.containerRect.width / this.containerRect.height;\n        var naturalWidth = ((_a = this.imageRef.current) === null || _a === void 0 ? void 0 : _a.naturalWidth) || ((_b = this.videoRef.current) === null || _b === void 0 ? void 0 : _b.videoWidth) || 0;\n        var naturalHeight = ((_c = this.imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalHeight) || ((_d = this.videoRef.current) === null || _d === void 0 ? void 0 : _d.videoHeight) || 0;\n        var mediaAspect = naturalWidth / naturalHeight;\n        return mediaAspect < containerAspect ? 'horizontal-cover' : 'vertical-cover';\n      }\n      return 'horizontal-cover';\n    }\n    return this.props.objectFit;\n  };\n  Cropper.prototype.onPinchStart = function (e) {\n    var pointA = Cropper.getTouchPoint(e.touches[0]);\n    var pointB = Cropper.getTouchPoint(e.touches[1]);\n    this.lastPinchDistance = getDistanceBetweenPoints(pointA, pointB);\n    this.lastPinchRotation = getRotationBetweenPoints(pointA, pointB);\n    this.onDragStart(getCenter(pointA, pointB));\n  };\n  Cropper.prototype.onPinchMove = function (e) {\n    var _this = this;\n    if (!this.currentDoc || !this.currentWindow) return;\n    var pointA = Cropper.getTouchPoint(e.touches[0]);\n    var pointB = Cropper.getTouchPoint(e.touches[1]);\n    var center = getCenter(pointA, pointB);\n    this.onDrag(center);\n    if (this.rafPinchTimeout) this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout);\n    this.rafPinchTimeout = this.currentWindow.requestAnimationFrame(function () {\n      var distance = getDistanceBetweenPoints(pointA, pointB);\n      var newZoom = _this.props.zoom * (distance / _this.lastPinchDistance);\n      _this.setNewZoom(newZoom, center, {\n        shouldUpdatePosition: false\n      });\n      _this.lastPinchDistance = distance;\n      var rotation = getRotationBetweenPoints(pointA, pointB);\n      var newRotation = _this.props.rotation + (rotation - _this.lastPinchRotation);\n      _this.props.onRotationChange && _this.props.onRotationChange(newRotation);\n      _this.lastPinchRotation = rotation;\n    });\n  };\n  Cropper.prototype.render = function () {\n    var _this = this;\n    var _a;\n    var _b = this.props,\n      image = _b.image,\n      video = _b.video,\n      mediaProps = _b.mediaProps,\n      transform = _b.transform,\n      _c = _b.crop,\n      x = _c.x,\n      y = _c.y,\n      rotation = _b.rotation,\n      zoom = _b.zoom,\n      cropShape = _b.cropShape,\n      showGrid = _b.showGrid,\n      _d = _b.style,\n      containerStyle = _d.containerStyle,\n      cropAreaStyle = _d.cropAreaStyle,\n      mediaStyle = _d.mediaStyle,\n      _e = _b.classes,\n      containerClassName = _e.containerClassName,\n      cropAreaClassName = _e.cropAreaClassName,\n      mediaClassName = _e.mediaClassName;\n    var objectFit = (_a = this.state.mediaObjectFit) !== null && _a !== void 0 ? _a : this.getObjectFit();\n    return React.createElement(\"div\", {\n      onMouseDown: this.onMouseDown,\n      onTouchStart: this.onTouchStart,\n      ref: function ref(el) {\n        return _this.containerRef = el;\n      },\n      \"data-testid\": \"container\",\n      style: containerStyle,\n      className: classNames('reactEasyCrop_Container', containerClassName)\n    }, image ? React.createElement(\"img\", __assign({\n      alt: \"\",\n      className: classNames('reactEasyCrop_Image', objectFit === 'contain' && 'reactEasyCrop_Contain', objectFit === 'horizontal-cover' && 'reactEasyCrop_Cover_Horizontal', objectFit === 'vertical-cover' && 'reactEasyCrop_Cover_Vertical', mediaClassName)\n    }, mediaProps, {\n      src: image,\n      ref: this.imageRef,\n      style: __assign(__assign({}, mediaStyle), {\n        transform: transform || \"translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"deg) scale(\").concat(zoom, \")\")\n      }),\n      onLoad: this.onMediaLoad\n    })) : video && React.createElement(\"video\", __assign({\n      autoPlay: true,\n      playsInline: true,\n      loop: true,\n      muted: true,\n      className: classNames('reactEasyCrop_Video', objectFit === 'contain' && 'reactEasyCrop_Contain', objectFit === 'horizontal-cover' && 'reactEasyCrop_Cover_Horizontal', objectFit === 'vertical-cover' && 'reactEasyCrop_Cover_Vertical', mediaClassName)\n    }, mediaProps, {\n      ref: this.videoRef,\n      onLoadedMetadata: this.onMediaLoad,\n      style: __assign(__assign({}, mediaStyle), {\n        transform: transform || \"translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"deg) scale(\").concat(zoom, \")\")\n      }),\n      controls: false\n    }), (Array.isArray(video) ? video : [{\n      src: video\n    }]).map(function (item) {\n      return React.createElement(\"source\", __assign({\n        key: item.src\n      }, item));\n    })), this.state.cropSize && React.createElement(\"div\", {\n      style: __assign(__assign({}, cropAreaStyle), {\n        width: this.state.cropSize.width,\n        height: this.state.cropSize.height\n      }),\n      tabIndex: 0,\n      onKeyDown: this.onKeyDown,\n      \"data-testid\": \"cropper\",\n      className: classNames('reactEasyCrop_CropArea', cropShape === 'round' && 'reactEasyCrop_CropAreaRound', showGrid && 'reactEasyCrop_CropAreaGrid', cropAreaClassName)\n    }));\n  };\n  Cropper.defaultProps = {\n    zoom: 1,\n    rotation: 0,\n    aspect: 4 / 3,\n    maxZoom: MAX_ZOOM,\n    minZoom: MIN_ZOOM,\n    cropShape: 'rect',\n    objectFit: 'contain',\n    showGrid: true,\n    style: {},\n    classes: {},\n    mediaProps: {},\n    zoomSpeed: 1,\n    restrictPosition: true,\n    zoomWithScroll: true,\n    keyboardStep: KEYBOARD_STEP\n  };\n  Cropper.getMousePoint = function (e) {\n    return {\n      x: Number(e.clientX),\n      y: Number(e.clientY)\n    };\n  };\n  Cropper.getTouchPoint = function (touch) {\n    return {\n      x: Number(touch.clientX),\n      y: Number(touch.clientY)\n    };\n  };\n  return Cropper;\n}(React.Component);\n\nexport { Cropper as default, getInitialCropFromCroppedAreaPercentages, getInitialCropFromCroppedAreaPixels };\n//# sourceMappingURL=index.module.js.map\n","import { useState, useCallback } from 'react';\nimport Cropper from 'react-easy-crop';\nimport { X, ZoomIn, Save, AlertCircle } from 'lucide-react';\n\ninterface ImageCropperProps {\n  image: string;\n  onCropComplete: (croppedImage: Blob) => void;\n  onCancel: () => void;\n  aspectRatio?: number;\n}\n\nexport function ImageCropper({ image, onCropComplete, onCancel, aspectRatio = 1 }: ImageCropperProps) {\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState<any>(null);\n  const [cropping, setCropping] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const onCropChange = (crop: { x: number; y: number }) => {\n    setCrop(crop);\n  };\n\n  const onZoomChange = (zoom: number) => {\n    setZoom(zoom);\n  };\n\n  const onCropAreaChange = useCallback((croppedArea: any, croppedAreaPixels: any) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const createImage = (url: string): Promise<HTMLImageElement> =>\n    new Promise((resolve, reject) => {\n      const image = new Image();\n      image.addEventListener('load', () => resolve(image));\n      image.addEventListener('error', error => reject(error));\n      image.setAttribute('crossOrigin', 'anonymous');\n      image.src = url;\n    });\n\n  const getCroppedImg = async (\n    imageSrc: string,\n    pixelCrop: any,\n    rotation = 0\n  ): Promise<Blob> => {\n    const image = await createImage(imageSrc);\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    if (!ctx) {\n      throw new Error('No 2d context');\n    }\n\n    canvas.width = pixelCrop.width;\n    canvas.height = pixelCrop.height;\n\n    ctx.save();\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate((rotation * Math.PI) / 180);\n    ctx.translate(-canvas.width / 2, -canvas.height / 2);\n\n    ctx.drawImage(\n      image,\n      pixelCrop.x,\n      pixelCrop.y,\n      pixelCrop.width,\n      pixelCrop.height,\n      0,\n      0,\n      pixelCrop.width,\n      pixelCrop.height\n    );\n\n    ctx.restore();\n\n    return new Promise((resolve, reject) => {\n      canvas.toBlob(\n        (blob) => {\n          if (blob) {\n            resolve(blob);\n          } else {\n            reject(new Error('Canvas to Blob conversion failed'));\n          }\n        },\n        'image/jpeg',\n        0.95\n      );\n    });\n  };\n\n  const handleCrop = async () => {\n    if (!croppedAreaPixels) return;\n    \n    setCropping(true);\n    setError(null);\n    \n    try {\n      const croppedImage = await getCroppedImg(image, croppedAreaPixels);\n      await onCropComplete(croppedImage);\n    } catch (e) {\n      console.error('Error cropping image:', e);\n      setError('Failed to crop image. Please try again.');\n    } finally {\n      setCropping(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-cyber-black/90 backdrop-blur-lg z-50 flex items-center justify-center p-4\">\n      <div className=\"relative w-full max-w-2xl bg-cyber-gray-900 rounded-lg\">\n        {/* Header */}\n        <div className=\"p-4 border-b border-cyber-gray-800 flex justify-between items-center\">\n          <h3 className=\"text-lg font-display font-semibold text-cyber-gray-50\">\n            Adjust Profile Picture\n          </h3>\n          <button \n            onClick={onCancel} \n            className=\"p-2 text-cyber-gray-400 hover:text-neon-blue transition-colors\"\n            disabled={cropping}\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n        \n        {/* Cropper */}\n        <div className=\"relative h-96\">\n          <Cropper\n            image={image}\n            crop={crop}\n            zoom={zoom}\n            aspect={aspectRatio}\n            onCropChange={onCropChange}\n            onZoomChange={onZoomChange}\n            onCropComplete={onCropAreaChange}\n            cropShape=\"round\"\n            showGrid={false}\n            style={{\n              containerStyle: {\n                background: 'rgb(26, 26, 26)',\n              },\n              cropAreaStyle: {\n                border: '2px solid rgba(255, 255, 255, 0.5)',\n                borderRadius: '50%',\n                boxShadow: '0 0 0 9999px rgba(12, 12, 12, 0.85)',\n              },\n              mediaStyle: {\n                background: 'rgb(26, 26, 26)',\n              },\n            }}\n          />\n        </div>\n\n        {/* Controls */}\n        <div className=\"p-6 border-t border-cyber-gray-800\">\n          {/* Zoom slider */}\n          <div className=\"mb-6\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <label className=\"text-sm font-medium text-cyber-gray-200 flex items-center gap-2\">\n                <ZoomIn className=\"h-4 w-4 text-cyber-gray-400\" />\n                Zoom Level\n              </label>\n              <span className=\"text-sm text-cyber-gray-400\">{zoom.toFixed(1)}x</span>\n            </div>\n            <input\n              type=\"range\"\n              min={1}\n              max={3}\n              step={0.1}\n              value={zoom}\n              onChange={(e) => setZoom(Number(e.target.value))}\n              className=\"w-full appearance-none bg-cyber-gray-800 h-2 rounded-full outline-none\n                       [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 \n                       [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full \n                       [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer\n                       [&::-webkit-slider-thumb]:hover:ring-2 [&::-webkit-slider-thumb]:hover:ring-white/50\n                       [&::-webkit-slider-thumb]:transition-all\"\n            />\n          </div>\n\n          {/* Error message */}\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-900/20 border border-red-500/50 rounded-lg\">\n              <div className=\"flex items-center gap-2 text-red-500\">\n                <AlertCircle className=\"h-5 w-5 flex-shrink-0\" />\n                <p className=\"text-sm\">{error}</p>\n              </div>\n            </div>\n          )}\n          \n          {/* Action buttons */}\n          <div className=\"flex justify-end gap-3\">\n            <button\n              onClick={onCancel}\n              disabled={cropping}\n              className=\"px-4 py-2 bg-cyber-gray-800 text-cyber-gray-50 rounded-lg \n                       hover:bg-cyber-gray-700 transition-colors disabled:opacity-50\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleCrop}\n              disabled={cropping}\n              className=\"px-4 py-2 bg-white text-cyber-gray-900 rounded-lg\n                       hover:bg-cyber-gray-100 transition-colors disabled:opacity-50\n                       flex items-center gap-2\"\n            >\n              {cropping ? (\n                <>\n                  <div className=\"h-5 w-5 border-2 border-cyber-gray-900 border-t-transparent rounded-full animate-spin\"></div>\n                  Processing...\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-5 w-5\" />\n                  Save Changes\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from 'uuid';\n\nexport async function uploadProfilePicture(userId: string, file: File | Blob): Promise<string> {\n  if (!userId) {\n    throw new Error('User ID is required');\n  }\n\n  if (!file) {\n    throw new Error('File is required');\n  }\n\n  try {\n    // Validate file type for File objects\n    if (file instanceof File && !file.type.startsWith('image/')) {\n      throw new Error('Invalid file type. Please upload an image file.');\n    }\n\n    // Validate file size (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      throw new Error('File size must be less than 5MB');\n    }\n\n    const CLOUD_NAME = import.meta.env.VITE_CLOUDINARY_CLOUD_NAME;\n    const UPLOAD_PRESET = import.meta.env.VITE_CLOUDINARY_UPLOAD_PRESET;\n\n    if (!CLOUD_NAME || !UPLOAD_PRESET) {\n      console.error('Missing Cloudinary configuration:', { CLOUD_NAME, UPLOAD_PRESET });\n      throw new Error('Image upload is not properly configured');\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('upload_preset', UPLOAD_PRESET);\n    formData.append('folder', 'profile-pictures');\n    formData.append('public_id', `${userId}_${uuidv4()}`);\n\n    const response = await fetch(\n      `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`,\n      {\n        method: 'POST',\n        body: formData\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Cloudinary upload failed:', errorData);\n      throw new Error(errorData.error?.message || 'Upload failed');\n    }\n\n    const data = await response.json();\n    \n    // Apply transformations via URL\n    const transformedUrl = data.secure_url.replace(\n      '/upload/',\n      '/upload/c_fill,g_face,h_400,w_400,q_auto:best,f_auto/'\n    );\n\n    return transformedUrl;\n  } catch (error) {\n    console.error('Error in uploadProfilePicture:', error);\n    \n    if (error instanceof Error) {\n      throw new Error(`Upload failed: ${error.message}`);\n    }\n    \n    throw new Error('Failed to upload profile picture. Please try again.');\n  }\n}\n\nexport async function uploadProfileBanner(userId: string, file: File | Blob): Promise<string> {\n  if (!userId) {\n    throw new Error('User ID is required');\n  }\n\n  if (!file) {\n    throw new Error('File is required');\n  }\n\n  try {\n    // Validate file type for File objects\n    if (file instanceof File && !file.type.startsWith('image/')) {\n      throw new Error('Invalid file type. Please upload an image file.');\n    }\n\n    // Validate file size (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      throw new Error('File size must be less than 5MB');\n    }\n\n    const CLOUD_NAME = import.meta.env.VITE_CLOUDINARY_CLOUD_NAME;\n    const UPLOAD_PRESET = import.meta.env.VITE_CLOUDINARY_UPLOAD_PRESET;\n\n    if (!CLOUD_NAME || !UPLOAD_PRESET) {\n      console.error('Missing Cloudinary configuration:', { CLOUD_NAME, UPLOAD_PRESET });\n      throw new Error('Image upload is not properly configured');\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('upload_preset', UPLOAD_PRESET);\n    formData.append('folder', 'profile-banners');\n    formData.append('public_id', `${userId}_banner_${uuidv4()}`);\n\n    const response = await fetch(\n      `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`,\n      {\n        method: 'POST',\n        body: formData\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Cloudinary upload failed:', errorData);\n      throw new Error(errorData.error?.message || 'Upload failed');\n    }\n\n    const data = await response.json();\n    \n    // Apply transformations via URL for banner optimization\n    const transformedUrl = data.secure_url.replace(\n      '/upload/',\n      '/upload/c_fill,g_auto,h_400,w_1200,q_auto:best,f_auto/'\n    );\n\n    return transformedUrl;\n  } catch (error) {\n    console.error('Error in uploadProfileBanner:', error);\n    \n    if (error instanceof Error) {\n      throw new Error(`Upload failed: ${error.message}`);\n    }\n    \n    throw new Error('Failed to upload banner image. Please try again.');\n  }\n}","import { useState, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Camera, Upload, AlertCircle } from 'lucide-react';\nimport { ProfilePicture } from './ProfilePicture';\nimport { ImageCropper } from './ImageCropper';\nimport { uploadProfilePicture } from '../lib/storage';\n\ninterface ProfilePictureUploadProps {\n  currentUrl?: string;\n  userId: string;\n  onUpload: (url: string) => void;\n}\n\nexport function ProfilePictureUpload({ currentUrl, userId, onUpload }: ProfilePictureUploadProps) {\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [cropImage, setCropImage] = useState<string | null>(null);\n\n  const handleUpload = async (file: File | Blob) => {\n    if (!userId) {\n      setError('User ID is required');\n      return;\n    }\n\n    setUploading(true);\n    setError(null);\n\n    try {\n      const url = await uploadProfilePicture(userId, file);\n      onUpload(url);\n    } catch (error) {\n      console.error('Upload error:', error);\n      setError(error instanceof Error ? error.message : 'Failed to upload profile picture');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const onDrop = useCallback((acceptedFiles: File[]) => {\n    setError(null);\n    const file = acceptedFiles[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setCropImage(reader.result as string);\n      };\n      reader.onerror = () => {\n        setError('Failed to read the image file');\n      };\n      reader.readAsDataURL(file);\n    }\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.gif']\n    },\n    maxSize: 5 * 1024 * 1024, // 5MB\n    multiple: false,\n    onDropRejected: (fileRejections) => {\n      const error = fileRejections[0]?.errors[0];\n      if (error?.code === 'file-too-large') {\n        setError('File is too large. Maximum size is 5MB');\n      } else if (error?.code === 'file-invalid-type') {\n        setError('Invalid file type. Please upload an image');\n      } else {\n        setError('Invalid file. Please try again');\n      }\n    }\n  });\n\n  const handleCropComplete = async (croppedImage: Blob) => {\n    setCropImage(null);\n    await handleUpload(croppedImage);\n  };\n\n  return (\n    <div className=\"relative group\">\n      <div\n        {...getRootProps()}\n        className={`relative cursor-pointer transition-all duration-300\n          ${isDragActive ? 'ring-2 ring-neon-blue ring-offset-2 ring-offset-cyber-black' : ''}`}\n      >\n        {/* Profile Picture with Hover Effects */}\n        <div className=\"relative\">\n          {/* Animated Border */}\n          <div className=\"absolute -inset-0.5 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-lg opacity-75 group-hover:opacity-100 blur transition-opacity\"></div>\n          \n          {/* Profile Picture */}\n          <div className=\"relative\">\n            <ProfilePicture \n              url={currentUrl} \n              size=\"xl\" \n              className={`\n                transition-all duration-300\n                ${uploading ? 'opacity-50' : ''}\n                ${isDragActive ? 'scale-105' : ''}\n              `} \n            />\n            \n            {/* Hover Overlay */}\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-cyber-gray-900/80 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-300\">\n              <Upload className=\"h-6 w-6 text-neon-blue mb-2\" />\n              <span className=\"text-sm font-medium text-cyber-gray-50\">\n                {isDragActive ? 'Drop to Upload' : 'Click or Drag'}\n              </span>\n              <span className=\"text-xs text-cyber-gray-400 mt-1\">Max 5MB</span>\n            </div>\n          </div>\n        </div>\n        \n        <input {...getInputProps()} />\n      </div>\n      \n      {/* Loading State */}\n      {uploading && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-cyber-gray-900/80 backdrop-blur-sm rounded-lg\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple rounded-full animate-spin opacity-75 blur\"></div>\n            <div className=\"relative h-8 w-8 border-2 border-neon-blue border-t-transparent rounded-full animate-spin\"></div>\n          </div>\n        </div>\n      )}\n      \n      {/* Error Message */}\n      {error && (\n        <div className=\"absolute -bottom-20 left-1/2 transform -translate-x-1/2 w-64\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-red-500/20 rounded-lg blur\"></div>\n            <div className=\"relative p-3 bg-cyber-gray-900 border border-red-500/50 rounded-lg\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-500 flex-shrink-0\" />\n                <p className=\"text-sm text-red-500\">{error}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Image Cropper Modal */}\n      {cropImage && (\n        <ImageCropper\n          image={cropImage}\n          onCropComplete={handleCropComplete}\n          onCancel={() => setCropImage(null)}\n          aspectRatio={1}\n        />\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport type { UserProfile } from '../types';\nimport { Pencil, X, Check, Plus, ThumbsUp, User, Link as LinkIcon, Shield } from 'lucide-react';\nimport { ReputationCard } from '../components/ReputationCard';\nimport { addEndorsement } from '../lib/reputation';\nimport { ProfilePicture } from '../components/ProfilePicture';\nimport { ProfilePictureUpload } from '../components/ProfilePictureUpload';\n\nexport function Profile() {\n  const { user } = useAuth();\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedProfile, setEditedProfile] = useState<Partial<UserProfile>>({});\n  const [newSkill, setNewSkill] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [endorsing, setEndorsing] = useState(false);\n\n  useEffect(() => {\n    async function fetchProfile() {\n      if (!user) return;\n      \n      try {\n        const docRef = doc(db, 'users', user.uid);\n        const docSnap = await getDoc(docRef);\n        \n        if (docSnap.exists()) {\n          const profileData = { id: docSnap.id, ...docSnap.data() } as UserProfile;\n          setProfile(profileData);\n          setEditedProfile(profileData);\n        }\n      } catch (err) {\n        setError('Failed to load profile');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchProfile();\n  }, [user]);\n\n  const handleProfilePictureUpload = async (url: string) => {\n    if (!user || !profile) return;\n    \n    try {\n      await updateDoc(doc(db, 'users', user.uid), {\n        profilePicture: url,\n        updatedAt: new Date()\n      });\n      \n      // Update both profile and editedProfile states\n      setProfile(prev => prev ? { ...prev, profilePicture: url } : null);\n      setEditedProfile(prev => ({ ...prev, profilePicture: url }));\n    } catch (err) {\n      setError('Failed to update profile picture');\n    }\n  };\n\n  const handleSave = async () => {\n    if (!user || !profile) return;\n    \n    setSaving(true);\n    try {\n      const docRef = doc(db, 'users', user.uid);\n      await updateDoc(docRef, {\n        ...editedProfile,\n        updatedAt: new Date()\n      });\n      \n      setProfile({ ...profile, ...editedProfile });\n      setIsEditing(false);\n    } catch (err) {\n      setError('Failed to save profile');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleAddSkill = () => {\n    if (!newSkill.trim() || editedProfile.skills?.includes(newSkill.trim())) return;\n    \n    setEditedProfile(prev => ({\n      ...prev,\n      skills: [...(prev.skills || []), newSkill.trim()],\n      // Initialize skill level for new skill\n      skillLevels: {\n        ...prev.skillLevels,\n        [newSkill.trim()]: { level: 1, experience: 0 }\n      }\n    }));\n    setNewSkill('');\n  };\n\n  const handleRemoveSkill = (skillToRemove: string) => {\n    setEditedProfile(prev => {\n      const { [skillToRemove]: removedSkill, ...remainingSkills } = prev.skillLevels || {};\n      return {\n        ...prev,\n        skills: prev.skills?.filter(skill => skill !== skillToRemove) || [],\n        skillLevels: remainingSkills\n      };\n    });\n  };\n\n  const handleEndorse = async (skill: string) => {\n    if (!user || !profile || endorsing) return;\n    \n    setEndorsing(true);\n    try {\n      await addEndorsement(profile.id, user.uid, skill);\n      // Update local state\n      setProfile(prev => {\n        if (!prev) return null;\n        const currentEndorsers = prev.endorsements?.[skill] || [];\n        return {\n          ...prev,\n          endorsements: {\n            ...prev.endorsements,\n            [skill]: [...currentEndorsers, user.uid]\n          }\n        };\n      });\n    } catch (err) {\n      setError('Failed to endorse skill');\n    } finally {\n      setEndorsing(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-[60vh] flex flex-col items-center justify-center\">\n        <div className=\"relative\">\n          {/* Circular gradient glow */}\n          <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink animate-spin opacity-75 blur-lg\"></div>\n          {/* Container */}\n          <div className=\"relative bg-cyber-gray-900 p-8 rounded-full border border-cyber-gray-800\">\n            {/* Spinner */}\n            <div className=\"h-8 w-8 border-2 border-neon-blue border-t-transparent rounded-full animate-spin\"></div>\n          </div>\n        </div>\n        <p className=\"mt-4 text-cyber-gray-400 animate-pulse\">Loading profile...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-900/20 border border-red-500/50 text-red-500 p-4 rounded-lg\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-cyber-gray-900/50 backdrop-blur-sm border border-cyber-gray-800 rounded-lg p-8 text-center\">\n          <Shield className=\"h-12 w-12 text-cyber-gray-400 mx-auto mb-4\" />\n          <p className=\"text-cyber-gray-300\">Profile not found</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"card overflow-hidden\">\n        {/* Cover Image */}\n        <div className=\"h-48 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink relative\">\n          <div className=\"absolute inset-0 bg-mesh opacity-30\"></div>\n          <div className=\"absolute inset-0 bg-noise opacity-50\"></div>\n          \n          {/* Profile Picture */}\n          <div className=\"absolute -bottom-12 left-8\">\n            {isEditing ? (\n              <ProfilePictureUpload\n                currentUrl={profile.profilePicture}\n                userId={user!.uid}\n                onUpload={handleProfilePictureUpload}\n              />\n            ) : (\n              <ProfilePicture url={profile.profilePicture} size=\"xl\" />\n            )}\n          </div>\n        </div>\n        \n        {/* Profile Content */}\n        <div className=\"p-6 mt-16\">\n          {/* Profile Header */}\n          <div className=\"flex justify-between items-start mb-6\">\n            <div>\n              {isEditing ? (\n                <input\n                  type=\"text\"\n                  value={editedProfile.displayName || ''}\n                  onChange={(e) => setEditedProfile(prev => ({ ...prev, displayName: e.target.value }))}\n                  className=\"text-2xl font-display font-bold text-gray-900 bg-transparent border-b-2 border-neon-blue focus:outline-none\"\n                  placeholder=\"Your name\"\n                />\n              ) : (\n                <h1 className=\"text-2xl font-display font-bold text-gray-900\">\n                  {profile.displayName}\n                </h1>\n              )}\n              <p className=\"text-gray-600\">{profile.email}</p>\n            </div>\n            {isEditing ? (\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setIsEditing(false)}\n                  className=\"btn-secondary flex items-center gap-2\"\n                  disabled={saving}\n                >\n                  <X className=\"h-4 w-4\" />\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSave}\n                  className=\"btn-primary flex items-center gap-2\"\n                  disabled={saving}\n                >\n                  {saving ? (\n                    <>\n                      <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                      Saving...\n                    </>\n                  ) : (\n                    <>\n                      <Check className=\"h-4 w-4\" />\n                      Save\n                    </>\n                  )}\n                </button>\n              </div>\n            ) : (\n              <button\n                onClick={() => setIsEditing(true)}\n                className=\"btn-secondary flex items-center gap-2\"\n              >\n                <Pencil className=\"h-4 w-4\" />\n                Edit Profile\n              </button>\n            )}\n          </div>\n\n          {/* Reputation Card */}\n          <div className=\"mb-8\">\n            <ReputationCard profile={profile} />\n          </div>\n\n          {/* Bio */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-lg font-display font-semibold text-gray-900 mb-3\">About</h2>\n            {isEditing ? (\n              <textarea\n                value={editedProfile.bio || ''}\n                onChange={(e) => setEditedProfile(prev => ({ ...prev, bio: e.target.value }))}\n                className=\"w-full p-3 bg-earth-800 border border-earth-700 rounded-lg \n                         text-gray-900 placeholder-gray-500\n                         focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 \n                         transition-all duration-300\"\n                rows={4}\n                placeholder=\"Tell us about yourself...\"\n              />\n            ) : (\n              <p className=\"text-gray-700\">\n                {profile.bio || 'No bio yet. Click edit to add one!'}\n              </p>\n            )}\n          </div>\n\n          {/* Skills */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-lg font-display font-semibold text-gray-900 mb-3\">Skills</h2>\n            {isEditing && (\n              <div className=\"flex gap-2 mb-4\">\n                <input\n                  type=\"text\"\n                  value={newSkill}\n                  onChange={(e) => setNewSkill(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleAddSkill()}\n                  placeholder=\"Add a skill...\"\n                  className=\"flex-1 p-2 bg-earth-800 border border-earth-700 rounded-lg \n                           text-gray-900 placeholder-gray-500\n                           focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 \n                           transition-all duration-300\"\n                />\n                <button\n                  onClick={handleAddSkill}\n                  className=\"btn-primary flex items-center gap-2\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Add\n                </button>\n              </div>\n            )}\n            <div className=\"flex flex-wrap gap-2\">\n              {(isEditing ? editedProfile.skills : profile.skills)?.map((skill) => (\n                <div\n                  key={skill}\n                  className=\"group flex items-center gap-2 px-3 py-1.5 bg-earth-800 \n                           text-gray-900 rounded-full text-sm border border-earth-700\n                           hover:border-neon-blue transition-all duration-300\"\n                >\n                  <span>{skill}</span>\n                  {isEditing ? (\n                    <button\n                      onClick={() => handleRemoveSkill(skill)}\n                      className=\"text-gray-600 hover:text-neon-pink transition-colors\"\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => handleEndorse(skill)}\n                      disabled={endorsing || user?.uid === profile.id}\n                      className=\"opacity-0 group-hover:opacity-100 transition-opacity text-neon-blue \n                               hover:text-neon-purple disabled:opacity-50\"\n                      title={user?.uid === profile.id ? \"You can't endorse your own skills\" : 'Endorse this skill'}\n                    >\n                      <ThumbsUp className=\"h-3 w-3\" />\n                    </button>\n                  )}\n                  {!isEditing && profile.endorsements?.[skill] && (\n                    <span className=\"px-1.5 py-0.5 bg-neon-purple/10 text-neon-purple rounded-full text-xs\">\n                      {profile.endorsements[skill].length}\n                    </span>\n                  )}\n                </div>\n              ))}\n              {(!isEditing ? profile.skills : editedProfile.skills)?.length === 0 && (\n                <p className=\"text-gray-600\">No skills added yet</p>\n              )}\n            </div>\n          </div>\n\n          {/* Portfolio */}\n          <div>\n            <h2 className=\"text-lg font-display font-semibold text-gray-900 mb-3\">Portfolio</h2>\n            {isEditing ? (\n              <div className=\"relative\">\n                <LinkIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                <input\n                  type=\"url\"\n                  value={editedProfile.portfolio || ''}\n                  onChange={(e) => setEditedProfile(prev => ({ ...prev, portfolio: e.target.value }))}\n                  placeholder=\"https://your-portfolio.com\"\n                  className=\"w-full pl-10 pr-4 py-2 bg-earth-800 border border-earth-700 rounded-lg \n                           text-gray-900 placeholder-gray-500\n                           focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 \n                           transition-all duration-300\"\n                />\n              </div>\n            ) : (\n              profile.portfolio ? (\n                <a\n                  href={profile.portfolio}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"inline-flex items-center gap-2 text-neon-blue hover:text-neon-purple transition-colors\"\n                >\n                  <LinkIcon className=\"h-4 w-4\" />\n                  {profile.portfolio}\n                </a>\n              ) : (\n                <p className=\"text-gray-600\">No portfolio link added</p>\n              )\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useFirestore } from '../hooks/useFirestore';\nimport { X, Plus } from 'lucide-react';\nimport type { Trade } from '../types';\n\nexport function CreateTrade() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const { add } = useFirestore<Trade>('trades');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    offeredSkill: '',\n    requestedSkill: '',\n    offeredSkills: [] as string[],\n    requestedSkills: [] as string[],\n  });\n\n  const handleAddSkill = (type: 'offered' | 'requested') => {\n    const skill = type === 'offered' ? formData.offeredSkill : formData.requestedSkill;\n    if (!skill.trim()) return;\n\n    const skillsArray = type === 'offered' ? 'offeredSkills' : 'requestedSkills';\n    const skillField = type === 'offered' ? 'offeredSkill' : 'requestedSkill';\n\n    if (!formData[skillsArray].includes(skill.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        [skillsArray]: [...prev[skillsArray], skill.trim()],\n        [skillField]: ''\n      }));\n    }\n  };\n\n  const handleRemoveSkill = (type: 'offered' | 'requested', skillToRemove: string) => {\n    const skillsArray = type === 'offered' ? 'offeredSkills' : 'requestedSkills';\n    setFormData(prev => ({\n      ...prev,\n      [skillsArray]: prev[skillsArray].filter(skill => skill !== skillToRemove)\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    if (!formData.title.trim() || !formData.description.trim()) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    if (formData.offeredSkills.length === 0 || formData.requestedSkills.length === 0) {\n      setError('Please add at least one skill in each category');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      await add({\n        title: formData.title,\n        description: formData.description,\n        offeredSkills: formData.offeredSkills,\n        requestedSkills: formData.requestedSkills,\n        creatorId: user.uid,\n        status: 'open',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      });\n      navigate('/discover');\n    } catch (err) {\n      setError('Failed to create trade');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <div className=\"p-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Create a New Trade</h1>\n\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            {/* Title */}\n            <div className=\"mb-4\">\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Title\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                value={formData.title}\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"What are you looking to trade?\"\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div className=\"mb-6\">\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                rows={4}\n                placeholder=\"Describe your trade offer in detail...\"\n                required\n              />\n            </div>\n\n            {/* Skills Offered */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Skills You're Offering\n              </label>\n              <div className=\"flex gap-2 mb-2\">\n                <input\n                  type=\"text\"\n                  value={formData.offeredSkill}\n                  onChange={(e) => setFormData(prev => ({ ...prev, offeredSkill: e.target.value }))}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddSkill('offered'))}\n                  className=\"flex-1 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Add a skill you're offering...\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => handleAddSkill('offered')}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Add\n                </button>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                {formData.offeredSkills.map((skill) => (\n                  <span\n                    key={skill}\n                    className=\"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm flex items-center\"\n                  >\n                    {skill}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleRemoveSkill('offered', skill)}\n                      className=\"ml-2 text-indigo-600 hover:text-indigo-800\"\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Skills Requested */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Skills You're Looking For\n              </label>\n              <div className=\"flex gap-2 mb-2\">\n                <input\n                  type=\"text\"\n                  value={formData.requestedSkill}\n                  onChange={(e) => setFormData(prev => ({ ...prev, requestedSkill: e.target.value }))}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddSkill('requested'))}\n                  className=\"flex-1 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Add a skill you're looking for...\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => handleAddSkill('requested')}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Add\n                </button>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                {formData.requestedSkills.map((skill) => (\n                  <span\n                    key={skill}\n                    className=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm flex items-center\"\n                  >\n                    {skill}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleRemoveSkill('requested', skill)}\n                      className=\"ml-2 text-purple-600 hover:text-purple-800\"\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Creating Trade...' : 'Create Trade'}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { doc, getDoc, updateDoc, addDoc, collection, query, where, getDocs, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { MessageSquare, User, Calendar, CheckCircle2, AlertCircle } from 'lucide-react';\nimport type { Trade, UserProfile } from '../types';\nimport { XP_CONFIG, awardExperience, checkAndAwardBadges } from '../lib/reputation';\n\nexport function TradeDetails() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [trade, setTrade] = useState<Trade | null>(null);\n  const [creator, setCreator] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [startingChat, setStartingChat] = useState(false);\n  const [updatingStatus, setUpdatingStatus] = useState(false);\n  const [showStatusModal, setShowStatusModal] = useState(false);\n\n  useEffect(() => {\n    async function fetchTradeAndCreator() {\n      if (!id) return;\n\n      try {\n        const tradeDoc = await getDoc(doc(db, 'trades', id));\n        if (!tradeDoc.exists()) {\n          setError('Trade not found');\n          return;\n        }\n\n        const tradeData = { id: tradeDoc.id, ...tradeDoc.data() } as Trade;\n        setTrade(tradeData);\n\n        // Fetch creator details\n        const creatorDoc = await getDoc(doc(db, 'users', tradeData.creatorId));\n        if (creatorDoc.exists()) {\n          setCreator({ id: creatorDoc.id, ...creatorDoc.data() } as UserProfile);\n        }\n      } catch (err) {\n        setError('Failed to load trade details');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchTradeAndCreator();\n  }, [id]);\n\n  const handleContact = async () => {\n    if (!user || !trade || !creator) return;\n    \n    setStartingChat(true);\n    try {\n      // Check if a conversation already exists\n      const conversationsRef = collection(db, 'conversations');\n      const q = query(\n        conversationsRef,\n        where('participants', 'array-contains', user.uid),\n        where('tradeId', '==', id)\n      );\n      \n      const querySnapshot = await getDocs(q);\n      let conversationId;\n      \n      if (querySnapshot.empty) {\n        // Create new conversation\n        const conversationDoc = await addDoc(conversationsRef, {\n          participants: [user.uid, trade.creatorId],\n          tradeId: id,\n          tradeName: trade.title,\n          lastMessage: '',\n          unreadCount: {\n            [trade.creatorId]: 0,\n            [user.uid]: 0\n          },\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        });\n        conversationId = conversationDoc.id;\n      } else {\n        // Use existing conversation\n        conversationId = querySnapshot.docs[0].id;\n      }\n      \n      navigate(`/messages/${conversationId}`);\n    } catch (err) {\n      console.error('Failed to start conversation:', err);\n      setError('Failed to start conversation');\n    } finally {\n      setStartingChat(false);\n    }\n  };\n\n  const handleUpdateStatus = async (newStatus: Trade['status']) => {\n    if (!trade || !user || updatingStatus) return;\n\n    setUpdatingStatus(true);\n    try {\n      await updateDoc(doc(db, 'trades', trade.id), {\n        status: newStatus,\n        updatedAt: serverTimestamp()\n      });\n\n      // Award XP when trade is completed\n      if (newStatus === 'completed') {\n        // Award XP to creator for their offered skills\n        await awardExperience(trade.creatorId, XP_CONFIG.TRADE_COMPLETION, trade.offeredSkills);\n        \n        // Check and award badges for creator\n        const creatorProfile = await getDoc(doc(db, 'users', trade.creatorId));\n        if (creatorProfile.exists()) {\n          await checkAndAwardBadges(trade.creatorId, creatorProfile.data() as UserProfile);\n        }\n\n        // Award XP to the other participant for their offered skills (if applicable)\n        if (user.uid !== trade.creatorId) {\n          await awardExperience(user.uid, XP_CONFIG.TRADE_COMPLETION, trade.requestedSkills);\n          \n          // Check and award badges for participant\n          const participantProfile = await getDoc(doc(db, 'users', user.uid));\n          if (participantProfile.exists()) {\n            await checkAndAwardBadges(user.uid, participantProfile.data() as UserProfile);\n          }\n        }\n      }\n\n      setTrade(prev => prev ? { ...prev, status: newStatus } : null);\n      setShowStatusModal(false);\n    } catch (err) {\n      setError('Failed to update trade status');\n    } finally {\n      setUpdatingStatus(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-3/4 mb-4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2 mb-6\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !trade) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-50 text-red-700 p-4 rounded-lg\">\n          {error || 'Trade not found'}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <div className=\"p-6\">\n          {/* Header */}\n          <div className=\"flex justify-between items-start mb-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">{trade.title}</h1>\n              <div className=\"flex items-center text-gray-600 text-sm\">\n                <Calendar className=\"h-4 w-4 mr-1\" />\n                Posted {new Date(trade.createdAt).toLocaleDateString()}\n              </div>\n            </div>\n            <div className=\"flex items-center\">\n              <span className={`\n                px-3 py-1 rounded-full text-sm font-medium\n                ${trade.status === 'open' ? 'bg-green-100 text-green-800' : \n                  trade.status === 'in-progress' ? 'bg-yellow-100 text-yellow-800' : \n                  'bg-gray-100 text-gray-800'}\n              `}>\n                {trade.status.charAt(0).toUpperCase() + trade.status.slice(1)}\n              </span>\n            </div>\n          </div>\n\n          {/* Creator Info */}\n          {creator && (\n            <div className=\"flex items-center mb-6 p-4 bg-gray-50 rounded-lg\">\n              <User className=\"h-12 w-12 text-gray-400 mr-4\" />\n              <div>\n                <h3 className=\"font-medium text-gray-900\">{creator.displayName}</h3>\n                <p className=\"text-gray-600 text-sm\">{creator.bio || 'No bio available'}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Description */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Description</h2>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{trade.description}</p>\n          </div>\n\n          {/* Skills */}\n          <div className=\"grid md:grid-cols-2 gap-6 mb-8\">\n            {/* Offered Skills */}\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Skills Offered</h2>\n              <div className=\"flex flex-wrap gap-2\">\n                {trade.offeredSkills.map((skill) => (\n                  <span\n                    key={skill}\n                    className=\"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm\"\n                  >\n                    {skill}\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Requested Skills */}\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Skills Needed</h2>\n              <div className=\"flex flex-wrap gap-2\">\n                {trade.requestedSkills.map((skill) => (\n                  <span\n                    key={skill}\n                    className=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm\"\n                  >\n                    {skill}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-4\">\n            {user && user.uid !== trade.creatorId && trade.status === 'open' && (\n              <button\n                onClick={handleContact}\n                disabled={startingChat}\n                className=\"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <MessageSquare className=\"h-5 w-5\" />\n                {startingChat ? 'Starting Chat...' : 'Contact Creator'}\n              </button>\n            )}\n            \n            {user && (user.uid === trade.creatorId || trade.status !== 'open') && (\n              <button\n                onClick={() => setShowStatusModal(true)}\n                disabled={updatingStatus}\n                className=\"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <CheckCircle2 className=\"h-5 w-5\" />\n                Update Status\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Status Update Modal */}\n      {showStatusModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-lg font-semibold mb-4\">Update Trade Status</h3>\n            <div className=\"space-y-3\">\n              {trade.status === 'open' && (\n                <button\n                  onClick={() => handleUpdateStatus('in-progress')}\n                  disabled={updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-yellow-100 text-yellow-800 px-4 py-2 rounded hover:bg-yellow-200\"\n                >\n                  <AlertCircle className=\"h-5 w-5\" />\n                  Mark as In Progress\n                </button>\n              )}\n              {trade.status !== 'completed' && (\n                <button\n                  onClick={() => handleUpdateStatus('completed')}\n                  disabled={updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded hover:bg-green-200\"\n                >\n                  <CheckCircle2 className=\"h-5 w-5\" />\n                  Mark as Completed\n                </button>\n              )}\n              {trade.status !== 'open' && (\n                <button\n                  onClick={() => handleUpdateStatus('open')}\n                  disabled={updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200\"\n                >\n                  Reopen Trade\n                </button>\n              )}\n              <button\n                onClick={() => setShowStatusModal(false)}\n                className=\"w-full px-4 py-2 text-gray-600 hover:bg-gray-50 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useFirestore } from '../hooks/useFirestore';\nimport { collection, query, where, orderBy, onSnapshot } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { MessageSquare, User, Clock, ArrowRight } from 'lucide-react';\nimport type { Conversation, UserProfile } from '../types';\nimport { ProfilePicture } from '../components/ProfilePicture';\n\nexport function Messages() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { user } = useAuth();\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [participants, setParticipants] = useState<{ [key: string]: UserProfile }>({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!user) return;\n\n    const q = query(\n      collection(db, 'conversations'),\n      where('participants', 'array-contains', user.uid),\n      orderBy('updatedAt', 'desc')\n    );\n\n    const unsubscribe = onSnapshot(q, async (snapshot) => {\n      try {\n        const conversationsData = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })) as Conversation[];\n        setConversations(conversationsData);\n\n        // Fetch all participants' profiles\n        const participantIds = new Set(\n          conversationsData.flatMap(conv => conv.participants)\n        );\n        const participantsData: { [key: string]: UserProfile } = {};\n        \n        for (const participantId of participantIds) {\n          if (participantId !== user.uid) {\n            const userDoc = await db.collection('users').doc(participantId).get();\n            if (userDoc.exists()) {\n              participantsData[participantId] = {\n                id: userDoc.id,\n                ...userDoc.data()\n              } as UserProfile;\n            }\n          }\n        }\n        \n        setParticipants(participantsData);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to load conversations');\n        setLoading(false);\n      }\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  const getOtherParticipant = (conversation: Conversation) => {\n    const otherUserId = conversation.participants.find(id => id !== user?.uid);\n    return otherUserId ? participants[otherUserId] : null;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse space-y-4\">\n          {[1, 2, 3].map((n) => (\n            <div key={n} className=\"card p-4\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"h-12 w-12 bg-cyber-gray-800 rounded-full\"></div>\n                <div className=\"flex-1\">\n                  <div className=\"h-4 bg-cyber-gray-800 rounded w-1/4 mb-2\"></div>\n                  <div className=\"h-3 bg-cyber-gray-800 rounded w-3/4\"></div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-900/20 border border-red-500/50 text-red-500 p-4 rounded-lg\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"card overflow-hidden\">\n        <div className=\"p-6\">\n          <h1 className=\"text-3xl font-display font-bold gradient-text mb-6\">Messages</h1>\n\n          {conversations.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <MessageSquare className=\"h-12 w-12 mx-auto mb-4 text-cyber-gray-400\" />\n              <p className=\"text-cyber-gray-300\">No conversations yet</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {conversations.map((conversation) => {\n                const otherParticipant = getOtherParticipant(conversation);\n                const hasUnread = conversation.unreadCount?.[user.uid] > 0;\n                \n                return (\n                  <div\n                    key={conversation.id}\n                    onClick={() => navigate(`/messages/${conversation.id}`)}\n                    className={`group p-4 rounded-lg cursor-pointer transition-all duration-300\n                      ${hasUnread \n                        ? 'bg-neon-blue/5 hover:bg-neon-blue/10' \n                        : 'hover:bg-cyber-gray-800/50'}`}\n                  >\n                    <div className=\"flex items-center\">\n                      <ProfilePicture \n                        url={otherParticipant?.profilePicture} \n                        size=\"md\"\n                        className=\"mr-4\"\n                      />\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex justify-between items-start mb-1\">\n                          <h3 className=\"font-medium text-cyber-gray-50 truncate\">\n                            {otherParticipant?.displayName || 'Unknown User'}\n                          </h3>\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-sm text-cyber-gray-400\">\n                              {conversation.lastMessageTimestamp?.toDate().toLocaleDateString()}\n                            </span>\n                            <ArrowRight className=\"h-4 w-4 text-cyber-gray-400 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                          </div>\n                        </div>\n                        \n                        {conversation.tradeName && (\n                          <p className=\"text-sm text-neon-blue mb-1 truncate\">\n                            Re: {conversation.tradeName}\n                          </p>\n                        )}\n                        \n                        <p className=\"text-sm text-cyber-gray-300 truncate\">\n                          {conversation.lastMessage || 'No messages yet'}\n                        </p>\n                        \n                        {hasUnread && (\n                          <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-neon-blue/20 text-neon-blue mt-2\">\n                            {conversation.unreadCount[user.uid]} new\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport {\n  collection,\n  query,\n  where,\n  orderBy,\n  onSnapshot,\n  addDoc,\n  updateDoc,\n  doc,\n  serverTimestamp,\n  getDoc\n} from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { ArrowLeft, Send, User } from 'lucide-react';\nimport type { Conversation, Message, UserProfile } from '../types';\n\nexport function Conversation() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [conversation, setConversation] = useState<Conversation | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [otherUser, setOtherUser] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!id || !user) return;\n\n    // Subscribe to conversation updates\n    const unsubConversation = onSnapshot(doc(db, 'conversations', id), (doc) => {\n      if (doc.exists()) {\n        const conversationData = { id: doc.id, ...doc.data() } as Conversation;\n        setConversation(conversationData);\n\n        // Fetch other participant's profile\n        const otherUserId = conversationData.participants.find(pid => pid !== user.uid);\n        if (otherUserId) {\n          getDoc(doc(db, 'users', otherUserId)).then((userDoc) => {\n            if (userDoc.exists()) {\n              setOtherUser({ id: userDoc.id, ...userDoc.data() } as UserProfile);\n            }\n          });\n        }\n      }\n    });\n\n    // Subscribe to messages\n    const q = query(\n      collection(db, 'messages'),\n      where('conversationId', '==', id),\n      orderBy('createdAt', 'asc')\n    );\n\n    const unsubMessages = onSnapshot(q, (snapshot) => {\n      const messagesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })) as Message[];\n      setMessages(messagesData);\n      setLoading(false);\n    });\n\n    return () => {\n      unsubConversation();\n      unsubMessages();\n    };\n  }, [id, user]);\n\n  useEffect(() => {\n    // Scroll to bottom when new messages arrive\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSend = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !user || !conversation) return;\n\n    try {\n      // Add new message\n      await addDoc(collection(db, 'messages'), {\n        conversationId: id,\n        senderId: user.uid,\n        content: newMessage,\n        createdAt: serverTimestamp(),\n        read: false\n      });\n\n      // Update conversation\n      await updateDoc(doc(db, 'conversations', id), {\n        lastMessage: newMessage,\n        lastMessageTimestamp: serverTimestamp(),\n        [`unreadCount.${otherUser?.id}`]: (conversation.unreadCount?.[otherUser?.id] || 0) + 1,\n        updatedAt: serverTimestamp()\n      });\n\n      setNewMessage('');\n    } catch (err) {\n      console.error('Failed to send message:', err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-10 bg-gray-200 rounded w-1/4\"></div>\n          <div className=\"space-y-2\">\n            {[1, 2, 3].map((n) => (\n              <div key={n} className=\"h-16 bg-gray-200 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !conversation) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-50 text-red-700 p-4 rounded-lg\">\n          {error || 'Conversation not found'}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        {/* Header */}\n        <div className=\"p-4 border-b flex items-center\">\n          <button\n            onClick={() => navigate('/messages')}\n            className=\"mr-4 text-gray-600 hover:text-gray-900\"\n          >\n            <ArrowLeft className=\"h-6 w-6\" />\n          </button>\n          <div className=\"flex items-center\">\n            <User className=\"h-8 w-8 text-gray-400 mr-3\" />\n            <div>\n              <h2 className=\"font-medium text-gray-900\">\n                {otherUser?.displayName || 'Unknown User'}\n              </h2>\n              {conversation.tradeName && (\n                <p className=\"text-sm text-indigo-600\">\n                  Re: {conversation.tradeName}\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div className=\"h-[500px] overflow-y-auto p-4\">\n          <div className=\"space-y-4\">\n            {messages.map((message) => {\n              const isOwnMessage = message.senderId === user?.uid;\n              return (\n                <div\n                  key={message.id}\n                  className={`flex ${isOwnMessage ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div\n                    className={`max-w-[70%] rounded-lg px-4 py-2 ${\n                      isOwnMessage\n                        ? 'bg-indigo-600 text-white'\n                        : 'bg-gray-100 text-gray-900'\n                    }`}\n                  >\n                    <p>{message.content}</p>\n                    <span className=\"text-xs opacity-75 mt-1 block\">\n                      {message.createdAt?.toDate().toLocaleTimeString()}\n                    </span>\n                  </div>\n                </div>\n              );\n            })}\n            <div ref={messagesEndRef} />\n          </div>\n        </div>\n\n        {/* Message Input */}\n        <form onSubmit={handleSend} className=\"p-4 border-t\">\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              placeholder=\"Type a message...\"\n              className=\"flex-1 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n            />\n            <button\n              type=\"submit\"\n              disabled={!newMessage.trim()}\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <Send className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Search, Filter, Users, Briefcase, Clock, Tag } from 'lucide-react';\nimport { useFirestore } from '../hooks/useFirestore';\nimport type { Collaboration } from '../types';\n\nexport function Projects() {\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\n  const [statusFilter, setStatusFilter] = useState<Collaboration['status']>();\n  const { data: projects, loading, error } = useFirestore<Collaboration>('collaborations');\n\n  const filteredProjects = projects.filter(project => {\n    const matchesSearch = project.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      project.description.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesStatus = !statusFilter || project.status === statusFilter;\n    \n    const matchesSkills = selectedSkills.length === 0 || \n      project.roles.some(role => role.skills.some(skill => selectedSkills.includes(skill)));\n    \n    return matchesSearch && matchesStatus && matchesSkills;\n  });\n\n  // Get all unique skills for filtering\n  const allSkills = Array.from(new Set(\n    projects.flatMap(project => project.roles.flatMap(role => role.skills))\n  )).sort();\n\n  const handleSkillToggle = (skill: string) => {\n    setSelectedSkills(prev => \n      prev.includes(skill)\n        ? prev.filter(s => s !== skill)\n        : [...prev, skill]\n    );\n  };\n\n  const getAvailableRoles = (project: Collaboration) => {\n    return project.roles.filter(role => !role.filled).length;\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-display font-bold text-white mb-2\">\n          Collaboration Projects\n        </h1>\n        <p className=\"text-gray-200\">\n          Find projects to collaborate on or start your own\n        </p>\n      </div>\n\n      {/* Search and Filter Section */}\n      <div className=\"mb-8 space-y-4\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search projects...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg \n                         text-gray-900 placeholder-gray-500\n                         focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 \n                         transition-all duration-300\"\n            />\n          </div>\n          <button\n            onClick={() => navigate('/projects/new')}\n            className=\"btn-primary flex items-center gap-2\"\n          >\n            <Briefcase className=\"h-5 w-5\" />\n            Create Project\n          </button>\n        </div>\n\n        {/* Skills Filter */}\n        <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2\">\n            <Tag className=\"h-4 w-4\" />\n            Filter by Skills\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {allSkills.map((skill) => (\n              <button\n                key={skill}\n                onClick={() => handleSkillToggle(skill)}\n                className={`px-3 py-1 rounded-full text-sm transition-all duration-300 ${\n                  selectedSkills.includes(skill)\n                    ? 'bg-accent-clay text-white'\n                    : 'bg-earth-700 text-gray-900 hover:bg-earth-600'\n                }`}\n              >\n                {skill}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Projects Grid */}\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[1, 2, 3].map((n) => (\n            <div key={n} className=\"animate-pulse card p-6\">\n              <div className=\"h-6 bg-earth-700 rounded w-3/4 mb-4\"></div>\n              <div className=\"space-y-2 mb-4\">\n                <div className=\"h-4 bg-earth-700 rounded w-full\"></div>\n                <div className=\"h-4 bg-earth-700 rounded w-5/6\"></div>\n              </div>\n              <div className=\"h-10 bg-earth-700 rounded\"></div>\n            </div>\n          ))}\n        </div>\n      ) : error ? (\n        <div className=\"text-center py-8 text-red-500\">Error loading projects</div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredProjects.map((project) => (\n            <div\n              key={project.id}\n              onClick={() => navigate(`/projects/${project.id}`)}\n              className=\"card p-6 card-hover cursor-pointer\"\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <h3 className=\"text-xl font-display font-semibold text-gray-900\">\n                  {project.title}\n                </h3>\n                <span className={`\n                  status-badge\n                  ${project.status === 'recruiting' ? 'status-badge-active' : \n                    project.status === 'in-progress' ? 'status-badge-pending' : \n                    'status-badge-completed'}\n                `}>\n                  {project.status.charAt(0).toUpperCase() + project.status.slice(1)}\n                </span>\n              </div>\n              \n              <p className=\"text-gray-700 mb-6 line-clamp-2\">\n                {project.description}\n              </p>\n\n              {/* Roles */}\n              <div className=\"mb-4\">\n                <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Open Roles</h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {project.roles.filter(role => !role.filled).map((role, index) => (\n                    <span\n                      key={index}\n                      className=\"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30\"\n                    >\n                      {role.title}\n                    </span>\n                  ))}\n                  {project.roles.every(role => role.filled) && (\n                    <span className=\"text-sm text-gray-700\">All roles filled</span>\n                  )}\n                </div>\n              </div>\n\n              {/* Required Skills */}\n              <div className=\"mb-4\">\n                <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Required Skills</h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {Array.from(new Set(project.roles.flatMap(role => role.skills))).map((skill) => (\n                    <span\n                      key={skill}\n                      className=\"px-2 py-1 bg-accent-clay/20 text-gray-900 text-sm rounded-full border border-accent-clay/30\"\n                    >\n                      {skill}\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              {/* Footer */}\n              <div className=\"flex justify-between items-center mt-6 pt-4 border-t border-earth-700\">\n                <div className=\"flex items-center text-gray-900\">\n                  <Users className=\"h-4 w-4 mr-1\" />\n                  <span className=\"text-sm font-medium\">\n                    {project.roles.length - getAvailableRoles(project)}/{project.roles.length} filled\n                  </span>\n                </div>\n                <div className=\"flex items-center text-gray-900\">\n                  <Clock className=\"h-4 w-4 mr-1\" />\n                  <span className=\"text-sm font-medium\">\n                    {new Date(project.createdAt).toLocaleDateString()}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredProjects.length === 0 && (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-8\">\n                <Search className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-display font-semibold text-gray-900 mb-2\">\n                  No projects found\n                </h3>\n                <p className=\"text-gray-700\">\n                  Try adjusting your search or filters\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useFirestore } from '../hooks/useFirestore';\nimport { X, Plus } from 'lucide-react';\nimport type { Collaboration } from '../types';\n\ninterface ProjectRole {\n  title: string;\n  skills: string[];\n}\n\nexport function CreateProject() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const { add } = useFirestore<Collaboration>('collaborations');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    roles: [] as ProjectRole[],\n    currentRole: {\n      title: '',\n      skill: '',\n      skills: [] as string[]\n    }\n  });\n\n  const handleAddSkill = () => {\n    const { skill } = formData.currentRole;\n    if (!skill.trim()) return;\n\n    if (!formData.currentRole.skills.includes(skill.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        currentRole: {\n          ...prev.currentRole,\n          skills: [...prev.currentRole.skills, skill.trim()],\n          skill: ''\n        }\n      }));\n    }\n  };\n\n  const handleRemoveSkill = (skillToRemove: string) => {\n    setFormData(prev => ({\n      ...prev,\n      currentRole: {\n        ...prev.currentRole,\n        skills: prev.currentRole.skills.filter(skill => skill !== skillToRemove)\n      }\n    }));\n  };\n\n  const handleAddRole = () => {\n    const { title, skills } = formData.currentRole;\n    if (!title.trim() || skills.length === 0) return;\n\n    setFormData(prev => ({\n      ...prev,\n      roles: [...prev.roles, { title: title.trim(), skills }],\n      currentRole: {\n        title: '',\n        skill: '',\n        skills: []\n      }\n    }));\n  };\n\n  const handleRemoveRole = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      roles: prev.roles.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    if (!formData.title.trim() || !formData.description.trim()) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    if (formData.roles.length === 0) {\n      setError('Please add at least one role');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      await add({\n        title: formData.title,\n        description: formData.description,\n        roles: formData.roles.map(role => ({\n          ...role,\n          filled: false\n        })),\n        creatorId: user.uid,\n        status: 'recruiting',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      });\n      navigate('/projects');\n    } catch (err) {\n      setError('Failed to create project');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <div className=\"p-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Create a New Project</h1>\n\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            {/* Title */}\n            <div className=\"mb-4\">\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Project Title\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                value={formData.title}\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"Enter project title\"\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div className=\"mb-6\">\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                rows={4}\n                placeholder=\"Describe your project in detail...\"\n                required\n              />\n            </div>\n\n            {/* Current Role */}\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Add Role</h3>\n              \n              {/* Role Title */}\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Role Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.currentRole.title}\n                  onChange={(e) => setFormData(prev => ({\n                    ...prev,\n                    currentRole: { ...prev.currentRole, title: e.target.value }\n                  }))}\n                  className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"e.g., Frontend Developer\"\n                />\n              </div>\n\n              {/* Role Skills */}\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Required Skills\n                </label>\n                <div className=\"flex gap-2 mb-2\">\n                  <input\n                    type=\"text\"\n                    value={formData.currentRole.skill}\n                    onChange={(e) => setFormData(prev => ({\n                      ...prev,\n                      currentRole: { ...prev.currentRole, skill: e.target.value }\n                    }))}\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddSkill())}\n                    className=\"flex-1 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    placeholder=\"Add required skills...\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={handleAddSkill}\n                    className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                    Add\n                  </button>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {formData.currentRole.skills.map((skill) => (\n                    <span\n                      key={skill}\n                      className=\"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm flex items-center\"\n                    >\n                      {skill}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveSkill(skill)}\n                        className=\"ml-2 text-indigo-600 hover:text-indigo-800\"\n                      >\n                        <X className=\"h-3 w-3\" />\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              {/* Add Role Button */}\n              <button\n                type=\"button\"\n                onClick={handleAddRole}\n                disabled={!formData.currentRole.title || formData.currentRole.skills.length === 0}\n                className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Add Role to Project\n              </button>\n            </div>\n\n            {/* Added Roles */}\n            {formData.roles.length > 0 && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Project Roles</h3>\n                <div className=\"space-y-3\">\n                  {formData.roles.map((role, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{role.title}</h4>\n                        <div className=\"flex flex-wrap gap-2 mt-2\">\n                          {role.skills.map((skill) => (\n                            <span\n                              key={skill}\n                              className=\"px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs\"\n                            >\n                              {skill}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveRole(index)}\n                        className=\"text-red-600 hover:text-red-800\"\n                      >\n                        <X className=\"h-5 w-5\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Creating Project...' : 'Create Project'}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { doc, getDoc, updateDoc, addDoc, collection, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { User, Calendar, Users, CheckCircle2, AlertCircle, MessageSquare } from 'lucide-react';\nimport type { Collaboration, UserProfile } from '../types';\nimport { XP_CONFIG, awardExperience, checkAndAwardBadges } from '../lib/reputation';\n\nexport function ProjectDetails() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [project, setProject] = useState<Collaboration | null>(null);\n  const [creator, setCreator] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [joining, setJoining] = useState(false);\n  const [showStatusModal, setShowStatusModal] = useState(false);\n  const [updatingStatus, setUpdatingStatus] = useState(false);\n\n  useEffect(() => {\n    async function fetchProjectAndCreator() {\n      if (!id) return;\n\n      try {\n        const projectDoc = await getDoc(doc(db, 'collaborations', id));\n        if (!projectDoc.exists()) {\n          setError('Project not found');\n          return;\n        }\n\n        const projectData = { id: projectDoc.id, ...projectDoc.data() } as Collaboration;\n        setProject(projectData);\n\n        // Fetch creator details\n        const creatorDoc = await getDoc(doc(db, 'users', projectData.creatorId));\n        if (creatorDoc.exists()) {\n          setCreator({ id: creatorDoc.id, ...creatorDoc.data() } as UserProfile);\n        }\n      } catch (err) {\n        setError('Failed to load project details');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchProjectAndCreator();\n  }, [id]);\n\n  const handleJoinRole = async (roleIndex: number) => {\n    if (!user || !project || joining) return;\n\n    setJoining(true);\n    try {\n      const updatedRoles = [...project.roles];\n      updatedRoles[roleIndex] = {\n        ...updatedRoles[roleIndex],\n        filled: true,\n        userId: user.uid\n      };\n\n      await updateDoc(doc(db, 'collaborations', project.id), {\n        roles: updatedRoles,\n        updatedAt: serverTimestamp()\n      });\n\n      setProject(prev => prev ? { ...prev, roles: updatedRoles } : null);\n    } catch (err) {\n      setError('Failed to join role');\n    } finally {\n      setJoining(false);\n    }\n  };\n\n  const handleUpdateStatus = async (newStatus: Collaboration['status']) => {\n    if (!project || !user || updatingStatus) return;\n\n    setUpdatingStatus(true);\n    try {\n      await updateDoc(doc(db, 'collaborations', project.id), {\n        status: newStatus,\n        updatedAt: serverTimestamp()\n      });\n\n      // Award XP when project is completed\n      if (newStatus === 'completed') {\n        // Award XP to all participants\n        const participants = project.roles\n          .filter(role => role.filled && role.userId)\n          .map(role => ({\n            userId: role.userId!,\n            skills: role.skills\n          }));\n\n        for (const participant of participants) {\n          await awardExperience(\n            participant.userId,\n            XP_CONFIG.COLLABORATION_COMPLETION,\n            participant.skills\n          );\n          \n          // Check and award badges\n          const participantProfile = await getDoc(doc(db, 'users', participant.userId));\n          if (participantProfile.exists()) {\n            await checkAndAwardBadges(participant.userId, participantProfile.data() as UserProfile);\n          }\n        }\n      }\n\n      setProject(prev => prev ? { ...prev, status: newStatus } : null);\n      setShowStatusModal(false);\n    } catch (err) {\n      setError('Failed to update project status');\n    } finally {\n      setUpdatingStatus(false);\n    }\n  };\n\n  const handleContact = async () => {\n    if (!user || !project || !creator) return;\n    \n    try {\n      // Create or get conversation\n      const conversationRef = await addDoc(collection(db, 'conversations'), {\n        participants: [user.uid, project.creatorId],\n        projectId: id,\n        projectName: project.title,\n        lastMessage: '',\n        unreadCount: {\n          [project.creatorId]: 0,\n          [user.uid]: 0\n        },\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      });\n      \n      navigate(`/messages/${conversationRef.id}`);\n    } catch (err) {\n      setError('Failed to start conversation');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-3/4 mb-4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2 mb-6\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !project) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-50 text-red-700 p-4 rounded-lg\">\n          {error || 'Project not found'}\n        </div>\n      </div>\n    );\n  }\n\n  const isCreator = user?.uid === project.creatorId;\n  const allRolesFilled = project.roles.every(role => role.filled);\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <div className=\"p-6\">\n          {/* Header */}\n          <div className=\"flex justify-between items-start mb-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">{project.title}</h1>\n              <div className=\"flex items-center text-gray-600 text-sm\">\n                <Calendar className=\"h-4 w-4 mr-1\" />\n                Posted {new Date(project.createdAt).toLocaleDateString()}\n              </div>\n            </div>\n            <span className={`\n              px-3 py-1 rounded-full text-sm font-medium\n              ${project.status === 'recruiting' ? 'bg-green-100 text-green-800' : \n                project.status === 'in-progress' ? 'bg-yellow-100 text-yellow-800' : \n                'bg-gray-100 text-gray-800'}\n            `}>\n              {project.status.charAt(0).toUpperCase() + project.status.slice(1)}\n            </span>\n          </div>\n\n          {/* Creator Info */}\n          {creator && (\n            <div className=\"flex items-center mb-6 p-4 bg-gray-50 rounded-lg\">\n              <User className=\"h-12 w-12 text-gray-400 mr-4\" />\n              <div>\n                <h3 className=\"font-medium text-gray-900\">{creator.displayName}</h3>\n                <p className=\"text-gray-600 text-sm\">{creator.bio || 'No bio available'}</p>\n              </div>\n              {!isCreator && (\n                <button\n                  onClick={handleContact}\n                  className=\"ml-auto flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                >\n                  <MessageSquare className=\"h-4 w-4\" />\n                  Contact\n                </button>\n              )}\n            </div>\n          )}\n\n          {/* Description */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">About the Project</h2>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{project.description}</p>\n          </div>\n\n          {/* Roles */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Team Roles</h2>\n              <div className=\"flex items-center text-gray-600\">\n                <Users className=\"h-5 w-5 mr-2\" />\n                <span>\n                  {project.roles.filter(role => role.filled).length}/{project.roles.length} filled\n                </span>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              {project.roles.map((role, index) => (\n                <div\n                  key={index}\n                  className=\"p-4 border rounded-lg bg-gray-50\"\n                >\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h3 className=\"font-medium text-gray-900\">{role.title}</h3>\n                    {role.filled ? (\n                      <span className=\"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full\">\n                        Filled\n                      </span>\n                    ) : (\n                      <button\n                        onClick={() => handleJoinRole(index)}\n                        disabled={joining || !user || isCreator}\n                        className=\"px-4 py-1 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {joining ? 'Joining...' : 'Join Role'}\n                      </button>\n                    )}\n                  </div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {role.skills.map((skill) => (\n                      <span\n                        key={skill}\n                        className=\"px-2 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full\"\n                      >\n                        {skill}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          {isCreator && (\n            <div className=\"flex gap-4\">\n              <button\n                onClick={() => setShowStatusModal(true)}\n                disabled={updatingStatus}\n                className=\"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <CheckCircle2 className=\"h-5 w-5\" />\n                Update Status\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Status Update Modal */}\n      {showStatusModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-lg font-semibold mb-4\">Update Project Status</h3>\n            <div className=\"space-y-3\">\n              {project.status === 'recruiting' && (\n                <button\n                  onClick={() => handleUpdateStatus('in-progress')}\n                  disabled={!allRolesFilled || updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-yellow-100 text-yellow-800 px-4 py-2 rounded hover:bg-yellow-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <AlertCircle className=\"h-5 w-5\" />\n                  Start Project\n                </button>\n              )}\n              {project.status !== 'completed' && (\n                <button\n                  onClick={() => handleUpdateStatus('completed')}\n                  disabled={updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded hover:bg-green-200\"\n                >\n                  <CheckCircle2 className=\"h-5 w-5\" />\n                  Mark as Completed\n                </button>\n              )}\n              {project.status !== 'recruiting' && (\n                <button\n                  onClick={() => handleUpdateStatus('recruiting')}\n                  disabled={updatingStatus}\n                  className=\"w-full flex items-center justify-center gap-2 bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200\"\n                >\n                  Reopen Recruitment\n                </button>\n              )}\n              <button\n                onClick={() => setShowStatusModal(false)}\n                className=\"w-full px-4 py-2 text-gray-600 hover:bg-gray-50 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useFirestore } from '../hooks/useFirestore';\nimport { addDoc, collection, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { Search, Tag, MessageSquare, ExternalLink } from 'lucide-react';\nimport type { UserProfile } from '../types';\nimport { ProfilePicture } from '../components/ProfilePicture';\n\nexport function UserDirectory() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\n  const { data: users, loading, error } = useFirestore<UserProfile>('users');\n\n  const filteredUsers = users.filter(profile => {\n    if (profile.id === user?.uid) return false; // Don't show current user\n\n    const matchesSearch = \n      profile.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      profile.bio?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      profile.skills.some(skill => skill.toLowerCase().includes(searchTerm.toLowerCase()));\n    \n    const matchesSkills = selectedSkills.length === 0 || \n      profile.skills.some(skill => selectedSkills.includes(skill));\n    \n    return matchesSearch && matchesSkills;\n  });\n\n  const allSkills = Array.from(new Set(\n    users.flatMap(profile => profile.skills)\n  )).sort();\n\n  const handleSkillToggle = (skill: string) => {\n    setSelectedSkills(prev => \n      prev.includes(skill)\n        ? prev.filter(s => s !== skill)\n        : [...prev, skill]\n    );\n  };\n\n  const handleStartChat = async (otherUser: UserProfile) => {\n    if (!user) return;\n    \n    try {\n      // Create or get conversation\n      const conversationRef = await addDoc(collection(db, 'conversations'), {\n        participants: [user.uid, otherUser.id],\n        lastMessage: '',\n        unreadCount: {\n          [otherUser.id]: 0,\n          [user.uid]: 0\n        },\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      });\n      \n      navigate(`/messages/${conversationRef.id}`);\n    } catch (err) {\n      console.error('Failed to start conversation:', err);\n    }\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-display font-bold text-white mb-2\">\n          User Directory\n        </h1>\n        <p className=\"text-gray-200\">\n          Find skilled professionals to collaborate with\n        </p>\n      </div>\n\n      {/* Search and Filter */}\n      <div className=\"mb-8 space-y-4\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by name, bio, or skills...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg \n                         text-gray-900 placeholder-gray-500\n                         focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 \n                         transition-all duration-300\"\n            />\n          </div>\n        </div>\n\n        {/* Skills Filter */}\n        <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2\">\n            <Tag className=\"h-4 w-4\" />\n            Filter by Skills\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {allSkills.map((skill) => (\n              <button\n                key={skill}\n                onClick={() => handleSkillToggle(skill)}\n                className={`px-3 py-1 rounded-full text-sm transition-all duration-300 ${\n                  selectedSkills.includes(skill)\n                    ? 'bg-accent-clay text-white'\n                    : 'bg-earth-700 text-gray-900 hover:bg-earth-600'\n                }`}\n              >\n                {skill}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Users Grid */}\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[1, 2, 3].map((n) => (\n            <div key={n} className=\"animate-pulse card p-6\">\n              <div className=\"flex items-center space-x-4 mb-4\">\n                <div className=\"h-12 w-12 bg-earth-700 rounded-full\"></div>\n                <div className=\"flex-1\">\n                  <div className=\"h-4 bg-earth-700 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-earth-700 rounded w-1/2 mt-2\"></div>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"h-4 bg-earth-700 rounded\"></div>\n                <div className=\"h-4 bg-earth-700 rounded w-5/6\"></div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : error ? (\n        <div className=\"text-center py-8 text-red-500\">Error loading users</div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredUsers.map((profile) => (\n            <div\n              key={profile.id}\n              className=\"card p-6 card-hover\"\n            >\n              {/* User Header */}\n              <div className=\"flex items-center mb-4\">\n                <ProfilePicture url={profile.profilePicture} size=\"md\" />\n                <div className=\"ml-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    {profile.displayName}\n                  </h3>\n                  {profile.portfolio && (\n                    <a\n                      href={profile.portfolio}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-accent-clay hover:text-accent-ochre flex items-center gap-1\"\n                    >\n                      Portfolio <ExternalLink className=\"h-3 w-3\" />\n                    </a>\n                  )}\n                </div>\n              </div>\n\n              {/* Bio */}\n              <p className=\"text-gray-700 mb-4 line-clamp-2\">\n                {profile.bio || 'No bio available'}\n              </p>\n\n              {/* Skills */}\n              <div className=\"mb-4\">\n                <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Skills</h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {profile.skills.map((skill) => (\n                    <span\n                      key={skill}\n                      className=\"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30\"\n                    >\n                      {skill}\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              {/* Actions */}\n              {user && (\n                <button\n                  onClick={() => handleStartChat(profile)}\n                  className=\"w-full btn-primary flex items-center justify-center gap-2\"\n                >\n                  <MessageSquare className=\"h-4 w-4\" />\n                  Message\n                </button>\n              )}\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"bg-earth-800 border border-earth-700 rounded-lg p-8\">\n                <Search className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-display font-semibold text-gray-900 mb-2\">\n                  No users found\n                </h3>\n                <p className=\"text-gray-700\">\n                  Try adjusting your search or filters\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","import { Challenge, Quest, UserProfile } from '../types';\nimport { doc, collection, addDoc, updateDoc, increment, arrayUnion, Timestamp, query, where, getDocs } from 'firebase/firestore';\nimport { db } from './firebase';\nimport { awardExperience, awardBadge } from './reputation';\n\n// Challenge Templates\nexport const WEEKLY_CHALLENGES: Omit<Challenge, 'id' | 'startDate' | 'endDate' | 'participants' | 'completions'>[] = [\n  {\n    title: 'Skill Exchange Master',\n    description: 'Complete 3 trades within a week',\n    type: 'weekly',\n    requirements: [{ type: 'trades', count: 3 }],\n    rewards: { xp: 300 }\n  },\n  {\n    title: 'Community Builder',\n    description: 'Join or create 2 collaboration projects',\n    type: 'weekly',\n    requirements: [{ type: 'collaborations', count: 2 }],\n    rewards: { xp: 250 }\n  },\n  {\n    title: 'Skill Endorser',\n    description: 'Endorse 5 different users\\' skills',\n    type: 'weekly',\n    requirements: [{ type: 'endorsements', count: 5 }],\n    rewards: { xp: 200 }\n  }\n];\n\nexport const MONTHLY_CHALLENGES: Omit<Challenge, 'id' | 'startDate' | 'endDate' | 'participants' | 'completions'>[] = [\n  {\n    title: 'Full Stack Developer',\n    description: 'Complete trades involving both frontend and backend skills',\n    type: 'monthly',\n    requirements: [\n      { type: 'skills', count: 2, skillCategory: 'frontend' },\n      { type: 'skills', count: 2, skillCategory: 'backend' }\n    ],\n    rewards: {\n      xp: 1000,\n      badge: 'full_stack_master'\n    }\n  },\n  {\n    title: 'Project Leader',\n    description: 'Successfully complete 3 collaboration projects as leader',\n    type: 'monthly',\n    requirements: [{ type: 'collaborations', count: 3 }],\n    rewards: {\n      xp: 800,\n      badge: 'project_leader'\n    }\n  }\n];\n\n// Quest Templates\nexport const QUEST_CHAINS: Omit<Quest, 'id' | 'userId' | 'startedAt' | 'completedAt' | 'expiresAt'>[] = [\n  {\n    title: 'Web Development Journey',\n    description: 'Master the art of web development through a series of trades and collaborations',\n    steps: [\n      {\n        id: 'html_css',\n        description: 'Complete a trade involving HTML/CSS skills',\n        type: 'trade',\n        requirement: { count: 1, skillCategory: 'frontend' },\n        completed: false\n      },\n      {\n        id: 'javascript',\n        description: 'Complete a trade involving JavaScript',\n        type: 'trade',\n        requirement: { count: 1, skillCategory: 'javascript' },\n        completed: false\n      },\n      {\n        id: 'framework',\n        description: 'Join a collaboration project using a modern framework',\n        type: 'collaboration',\n        requirement: { count: 1, skillCategory: 'framework' },\n        completed: false\n      }\n    ],\n    rewards: {\n      xp: 500,\n      badge: 'web_developer'\n    }\n  }\n];\n\n// Create a new weekly challenge\nexport async function createWeeklyChallenge() {\n  const template = WEEKLY_CHALLENGES[Math.floor(Math.random() * WEEKLY_CHALLENGES.length)];\n  const now = new Date();\n  const endDate = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000); // 1 week from now\n\n  await addDoc(collection(db, 'challenges'), {\n    ...template,\n    startDate: now,\n    endDate,\n    participants: [],\n    completions: []\n  });\n}\n\n// Create a new monthly challenge\nexport async function createMonthlyChallenge() {\n  const template = MONTHLY_CHALLENGES[Math.floor(Math.random() * MONTHLY_CHALLENGES.length)];\n  const now = new Date();\n  const endDate = new Date(now.getFullYear(), now.getMonth() + 1, 1); // End of current month\n\n  await addDoc(collection(db, 'challenges'), {\n    ...template,\n    startDate: now,\n    endDate,\n    participants: [],\n    completions: []\n  });\n}\n\n// Start a quest chain for a user\nexport async function startQuestChain(userId: string, questTemplate: typeof QUEST_CHAINS[0]) {\n  const now = new Date();\n  const expiresAt = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000); // 30 days to complete\n\n  const questRef = await addDoc(collection(db, 'quests'), {\n    ...questTemplate,\n    userId,\n    startedAt: now,\n    expiresAt\n  });\n\n  // Add quest to user's active quests\n  await updateDoc(doc(db, 'users', userId), {\n    activeQuests: arrayUnion(questRef.id)\n  });\n\n  return questRef.id;\n}\n\n// Join a challenge\nexport async function joinChallenge(userId: string, challengeId: string) {\n  const challengeRef = doc(db, 'challenges', challengeId);\n  await updateDoc(challengeRef, {\n    participants: arrayUnion(userId)\n  });\n\n  // Initialize challenge progress for user\n  await updateDoc(doc(db, 'users', userId), {\n    [`challengeProgress.${challengeId}`]: {\n      progress: 0,\n      completed: false,\n      claimedRewards: false\n    }\n  });\n}\n\n// Update challenge progress\nexport async function updateChallengeProgress(\n  userId: string,\n  challengeId: string,\n  progress: number\n) {\n  await updateDoc(doc(db, 'users', userId), {\n    [`challengeProgress.${challengeId}.progress`]: progress\n  });\n}\n\n// Complete a challenge\nexport async function completeChallenge(userId: string, challengeId: string) {\n  const challengeRef = doc(db, 'challenges', challengeId);\n  await updateDoc(challengeRef, {\n    completions: arrayUnion(userId)\n  });\n\n  await updateDoc(doc(db, 'users', userId), {\n    [`challengeProgress.${challengeId}.completed`]: true\n  });\n}\n\n// Claim challenge rewards\nexport async function claimChallengeRewards(userId: string, challenge: Challenge) {\n  // Award XP\n  await awardExperience(userId, challenge.rewards.xp);\n\n  // Award badge if any\n  if (challenge.rewards.badge) {\n    await awardBadge(userId, challenge.rewards.badge as any);\n  }\n\n  // Mark rewards as claimed\n  await updateDoc(doc(db, 'users', userId), {\n    [`challengeProgress.${challenge.id}.claimedRewards`]: true\n  });\n}\n\n// Update quest progress\nexport async function updateQuestProgress(\n  userId: string,\n  questId: string,\n  stepId: string\n) {\n  const questRef = doc(db, 'quests', questId);\n  await updateDoc(questRef, {\n    'steps.$[step].completed': true\n  }, {\n    arrayFilters: [{ 'step.id': stepId }]\n  });\n\n  // Check if all steps are completed\n  const questDoc = await getDocs(query(\n    collection(db, 'quests'),\n    where('id', '==', questId)\n  ));\n\n  const quest = questDoc.docs[0].data() as Quest;\n  if (quest.steps.every(step => step.completed)) {\n    await completeQuest(userId, questId, quest);\n  }\n}\n\n// Complete a quest\nasync function completeQuest(userId: string, questId: string, quest: Quest) {\n  // Update quest completion\n  await updateDoc(doc(db, 'quests', questId), {\n    completedAt: new Date()\n  });\n\n  // Update user profile\n  await updateDoc(doc(db, 'users', userId), {\n    activeQuests: arrayUnion(questId),\n    completedQuests: arrayUnion(questId)\n  });\n\n  // Award rewards\n  await awardExperience(userId, quest.rewards.xp);\n  if (quest.rewards.badge) {\n    await awardBadge(userId, quest.rewards.badge as any);\n  }\n}","import { useState } from 'react';\nimport { Challenge } from '../types';\nimport { Trophy, Clock, Users, CheckCircle, Star, ArrowRight } from 'lucide-react';\nimport { joinChallenge, claimChallengeRewards } from '../lib/challenges';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface ChallengeCardProps {\n  challenge: Challenge;\n  userProgress?: {\n    progress: number;\n    completed: boolean;\n    claimedRewards: boolean;\n  };\n}\n\nexport function ChallengeCard({ challenge, userProgress }: ChallengeCardProps) {\n  const { user } = useAuth();\n  const [joining, setJoining] = useState(false);\n  const [claiming, setClaiming] = useState(false);\n\n  const isParticipating = challenge.participants.includes(user?.uid || '');\n  const hasCompleted = challenge.completions.includes(user?.uid || '');\n  const canClaimRewards = hasCompleted && !userProgress?.claimedRewards;\n\n  const timeLeft = new Date(challenge.endDate).getTime() - Date.now();\n  const daysLeft = Math.ceil(timeLeft / (1000 * 60 * 60 * 24));\n\n  const handleJoin = async () => {\n    if (!user) return;\n    setJoining(true);\n    try {\n      await joinChallenge(user.uid, challenge.id);\n    } catch (err) {\n      console.error('Failed to join challenge:', err);\n    } finally {\n      setJoining(false);\n    }\n  };\n\n  const handleClaimRewards = async () => {\n    if (!user) return;\n    setClaiming(true);\n    try {\n      await claimChallengeRewards(user.uid, challenge);\n    } catch (err) {\n      console.error('Failed to claim rewards:', err);\n    } finally {\n      setClaiming(false);\n    }\n  };\n\n  return (\n    <div className=\"card group\">\n      <div className=\"p-6\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-4\">\n          <div>\n            <h3 className=\"text-xl font-display font-semibold text-gray-900 mb-2\">\n              {challenge.title}\n            </h3>\n            <p className=\"text-gray-700\">{challenge.description}</p>\n          </div>\n          <span className={`\n            px-3 py-1.5 rounded-full text-sm font-medium\n            ${challenge.type === 'weekly' \n              ? 'bg-accent-sage/20 text-accent-moss border border-accent-sage/30' \n              : 'bg-accent-clay/20 text-accent-rust border border-accent-clay/30'}\n          `}>\n            {challenge.type.charAt(0).toUpperCase() + challenge.type.slice(1)}\n          </span>\n        </div>\n\n        {/* Requirements */}\n        <div className=\"mb-6\">\n          <h4 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2\">\n            <Star className=\"h-4 w-4 text-accent-ochre\" />\n            Requirements\n          </h4>\n          <div className=\"space-y-2\">\n            {challenge.requirements.map((req, index) => (\n              <div \n                key={index} \n                className={`flex items-center p-2 rounded-lg transition-colors\n                  ${userProgress && userProgress.progress >= req.count\n                    ? 'bg-accent-sage/20 text-accent-moss border border-accent-sage/30'\n                    : 'bg-earth-700/50 text-gray-900'}`}\n              >\n                <CheckCircle className={`h-4 w-4 mr-2 flex-shrink-0 ${\n                  userProgress && userProgress.progress >= req.count\n                    ? 'text-accent-moss'\n                    : 'text-gray-500'\n                }`} />\n                <span>\n                  {req.count} {req.type}\n                  {req.skillCategory && ` in ${req.skillCategory}`}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Rewards */}\n        <div className=\"mb-6\">\n          <h4 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2\">\n            <Trophy className=\"h-4 w-4 text-accent-ochre\" />\n            Rewards\n          </h4>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center px-3 py-1.5 bg-accent-clay/20 text-accent-rust rounded-lg border border-accent-clay/30\">\n              <Trophy className=\"h-4 w-4 mr-2\" />\n              <span className=\"font-medium\">{challenge.rewards.xp} XP</span>\n            </div>\n            {challenge.rewards.badge && (\n              <div className=\"px-3 py-1.5 bg-accent-ochre/20 text-accent-rust rounded-lg border border-accent-ochre/30\">\n                {challenge.rewards.badge} Badge\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Status */}\n        <div className=\"flex items-center justify-between text-sm text-gray-700 mb-6\">\n          <div className=\"flex items-center\">\n            <Clock className=\"h-4 w-4 mr-1\" />\n            {daysLeft > 0 ? `${daysLeft} days left` : 'Ended'}\n          </div>\n          <div className=\"flex items-center\">\n            <Users className=\"h-4 w-4 mr-1\" />\n            {challenge.participants.length} participants\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"mt-6 pt-4 border-t border-earth-700\">\n          {!isParticipating && !hasCompleted && (\n            <button\n              onClick={handleJoin}\n              disabled={joining || daysLeft <= 0}\n              className=\"btn-primary w-full flex items-center justify-center gap-2 group\"\n            >\n              {joining ? (\n                <>\n                  <span className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></span>\n                  Joining...\n                </>\n              ) : (\n                <>\n                  Join Challenge\n                  <ArrowRight className=\"h-4 w-4 transform group-hover:translate-x-1 transition-transform\" />\n                </>\n              )}\n            </button>\n          )}\n\n          {canClaimRewards && (\n            <button\n              onClick={handleClaimRewards}\n              disabled={claiming}\n              className=\"w-full bg-gradient-to-r from-accent-sage to-accent-clay text-white py-2 rounded-lg\n                         hover:from-accent-clay hover:to-accent-sage transition-all duration-300\n                         font-medium shadow-lg hover:shadow-accent-clay/50 flex items-center justify-center gap-2\"\n            >\n              {claiming ? (\n                <>\n                  <span className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></span>\n                  Claiming...\n                </>\n              ) : (\n                <>\n                  <Trophy className=\"h-4 w-4\" />\n                  Claim Rewards\n                </>\n              )}\n            </button>\n          )}\n\n          {hasCompleted && !canClaimRewards && (\n            <div className=\"text-center text-accent-moss font-medium flex items-center justify-center gap-2\">\n              <CheckCircle className=\"h-5 w-5\" />\n              Challenge Completed!\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/tasks/index.ts\nvar tasks_exports = {};\n__export(tasks_exports, {\n  audioClassification: () => audioClassification,\n  audioToAudio: () => audioToAudio,\n  automaticSpeechRecognition: () => automaticSpeechRecognition,\n  chatCompletion: () => chatCompletion,\n  chatCompletionStream: () => chatCompletionStream,\n  documentQuestionAnswering: () => documentQuestionAnswering,\n  featureExtraction: () => featureExtraction,\n  fillMask: () => fillMask,\n  imageClassification: () => imageClassification,\n  imageSegmentation: () => imageSegmentation,\n  imageToImage: () => imageToImage,\n  imageToText: () => imageToText,\n  objectDetection: () => objectDetection,\n  questionAnswering: () => questionAnswering,\n  request: () => request,\n  sentenceSimilarity: () => sentenceSimilarity,\n  streamingRequest: () => streamingRequest,\n  summarization: () => summarization,\n  tableQuestionAnswering: () => tableQuestionAnswering,\n  tabularClassification: () => tabularClassification,\n  tabularRegression: () => tabularRegression,\n  textClassification: () => textClassification,\n  textGeneration: () => textGeneration,\n  textGenerationStream: () => textGenerationStream,\n  textToImage: () => textToImage,\n  textToSpeech: () => textToSpeech,\n  tokenClassification: () => tokenClassification,\n  translation: () => translation,\n  visualQuestionAnswering: () => visualQuestionAnswering,\n  zeroShotClassification: () => zeroShotClassification,\n  zeroShotImageClassification: () => zeroShotImageClassification\n});\n\n// src/utils/pick.ts\nfunction pick(o, props) {\n  return Object.assign(\n    {},\n    ...props.map((prop) => {\n      if (o[prop] !== void 0) {\n        return { [prop]: o[prop] };\n      }\n    })\n  );\n}\n\n// src/utils/typedInclude.ts\nfunction typedInclude(arr, v) {\n  return arr.includes(v);\n}\n\n// src/utils/omit.ts\nfunction omit(o, props) {\n  const propsArr = Array.isArray(props) ? props : [props];\n  const letsKeep = Object.keys(o).filter((prop) => !typedInclude(propsArr, prop));\n  return pick(o, letsKeep);\n}\n\n// src/lib/isUrl.ts\nfunction isUrl(modelOrUrl) {\n  return /^http(s?):/.test(modelOrUrl) || modelOrUrl.startsWith(\"/\");\n}\n\n// src/lib/getDefaultTask.ts\nvar taskCache = /* @__PURE__ */ new Map();\nvar CACHE_DURATION = 10 * 60 * 1e3;\nvar MAX_CACHE_ITEMS = 1e3;\nvar HF_HUB_URL = \"https://huggingface.co\";\nasync function getDefaultTask(model, accessToken, options) {\n  if (isUrl(model)) {\n    return null;\n  }\n  const key = `${model}:${accessToken}`;\n  let cachedTask = taskCache.get(key);\n  if (cachedTask && cachedTask.date < new Date(Date.now() - CACHE_DURATION)) {\n    taskCache.delete(key);\n    cachedTask = void 0;\n  }\n  if (cachedTask === void 0) {\n    const modelTask = await (options?.fetch ?? fetch)(`${HF_HUB_URL}/api/models/${model}?expand[]=pipeline_tag`, {\n      headers: accessToken ? { Authorization: `Bearer ${accessToken}` } : {}\n    }).then((resp) => resp.json()).then((json) => json.pipeline_tag).catch(() => null);\n    if (!modelTask) {\n      return null;\n    }\n    cachedTask = { task: modelTask, date: /* @__PURE__ */ new Date() };\n    taskCache.set(key, { task: modelTask, date: /* @__PURE__ */ new Date() });\n    if (taskCache.size > MAX_CACHE_ITEMS) {\n      taskCache.delete(taskCache.keys().next().value);\n    }\n  }\n  return cachedTask.task;\n}\n\n// src/lib/makeRequestOptions.ts\nvar HF_INFERENCE_API_BASE_URL = \"https://api-inference.huggingface.co\";\nvar tasks = null;\nasync function makeRequestOptions(args, options) {\n  const { accessToken, endpointUrl, ...otherArgs } = args;\n  let { model } = args;\n  const {\n    forceTask: task,\n    includeCredentials,\n    taskHint,\n    wait_for_model,\n    use_cache,\n    dont_load_model,\n    chatCompletion: chatCompletion2\n  } = options ?? {};\n  const headers = {};\n  if (accessToken) {\n    headers[\"Authorization\"] = `Bearer ${accessToken}`;\n  }\n  if (!model && !tasks && taskHint) {\n    const res = await fetch(`${HF_HUB_URL}/api/tasks`);\n    if (res.ok) {\n      tasks = await res.json();\n    }\n  }\n  if (!model && tasks && taskHint) {\n    const taskInfo = tasks[taskHint];\n    if (taskInfo) {\n      model = taskInfo.models[0].id;\n    }\n  }\n  if (!model) {\n    throw new Error(\"No model provided, and no default model found for this task\");\n  }\n  const binary = \"data\" in args && !!args.data;\n  if (!binary) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  if (wait_for_model) {\n    headers[\"X-Wait-For-Model\"] = \"true\";\n  }\n  if (use_cache === false) {\n    headers[\"X-Use-Cache\"] = \"false\";\n  }\n  if (dont_load_model) {\n    headers[\"X-Load-Model\"] = \"0\";\n  }\n  let url = (() => {\n    if (endpointUrl && isUrl(model)) {\n      throw new TypeError(\"Both model and endpointUrl cannot be URLs\");\n    }\n    if (isUrl(model)) {\n      console.warn(\"Using a model URL is deprecated, please use the `endpointUrl` parameter instead\");\n      return model;\n    }\n    if (endpointUrl) {\n      return endpointUrl;\n    }\n    if (task) {\n      return `${HF_INFERENCE_API_BASE_URL}/pipeline/${task}/${model}`;\n    }\n    return `${HF_INFERENCE_API_BASE_URL}/models/${model}`;\n  })();\n  if (chatCompletion2 && !url.endsWith(\"/chat/completions\")) {\n    url += \"/v1/chat/completions\";\n  }\n  let credentials;\n  if (typeof includeCredentials === \"string\") {\n    credentials = includeCredentials;\n  } else if (includeCredentials === true) {\n    credentials = \"include\";\n  }\n  const info = {\n    headers,\n    method: \"POST\",\n    body: binary ? args.data : JSON.stringify({\n      ...otherArgs.model && isUrl(otherArgs.model) ? omit(otherArgs, \"model\") : otherArgs\n    }),\n    ...credentials && { credentials },\n    signal: options?.signal\n  };\n  return { url, info };\n}\n\n// src/tasks/custom/request.ts\nasync function request(args, options) {\n  const { url, info } = await makeRequestOptions(args, options);\n  const response = await (options?.fetch ?? fetch)(url, info);\n  if (options?.retry_on_error !== false && response.status === 503 && !options?.wait_for_model) {\n    return request(args, {\n      ...options,\n      wait_for_model: true\n    });\n  }\n  if (!response.ok) {\n    if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n      const output = await response.json();\n      if ([400, 422, 404, 500].includes(response.status) && options?.chatCompletion) {\n        throw new Error(`Server ${args.model} does not seem to support chat completion. Error: ${output.error}`);\n      }\n      if (output.error) {\n        throw new Error(JSON.stringify(output.error));\n      }\n    }\n    throw new Error(\"An error occurred while fetching the blob\");\n  }\n  if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n    return await response.json();\n  }\n  return await response.blob();\n}\n\n// src/vendor/fetch-event-source/parse.ts\nfunction getLines(onLine) {\n  let buffer;\n  let position;\n  let fieldLength;\n  let discardTrailingNewline = false;\n  return function onChunk(arr) {\n    if (buffer === void 0) {\n      buffer = arr;\n      position = 0;\n      fieldLength = -1;\n    } else {\n      buffer = concat(buffer, arr);\n    }\n    const bufLength = buffer.length;\n    let lineStart = 0;\n    while (position < bufLength) {\n      if (discardTrailingNewline) {\n        if (buffer[position] === 10 /* NewLine */) {\n          lineStart = ++position;\n        }\n        discardTrailingNewline = false;\n      }\n      let lineEnd = -1;\n      for (; position < bufLength && lineEnd === -1; ++position) {\n        switch (buffer[position]) {\n          case 58 /* Colon */:\n            if (fieldLength === -1) {\n              fieldLength = position - lineStart;\n            }\n            break;\n          case 13 /* CarriageReturn */:\n            discardTrailingNewline = true;\n          case 10 /* NewLine */:\n            lineEnd = position;\n            break;\n        }\n      }\n      if (lineEnd === -1) {\n        break;\n      }\n      onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n      lineStart = position;\n      fieldLength = -1;\n    }\n    if (lineStart === bufLength) {\n      buffer = void 0;\n    } else if (lineStart !== 0) {\n      buffer = buffer.subarray(lineStart);\n      position -= lineStart;\n    }\n  };\n}\nfunction getMessages(onId, onRetry, onMessage) {\n  let message = newMessage();\n  const decoder = new TextDecoder();\n  return function onLine(line, fieldLength) {\n    if (line.length === 0) {\n      onMessage?.(message);\n      message = newMessage();\n    } else if (fieldLength > 0) {\n      const field = decoder.decode(line.subarray(0, fieldLength));\n      const valueOffset = fieldLength + (line[fieldLength + 1] === 32 /* Space */ ? 2 : 1);\n      const value = decoder.decode(line.subarray(valueOffset));\n      switch (field) {\n        case \"data\":\n          message.data = message.data ? message.data + \"\\n\" + value : value;\n          break;\n        case \"event\":\n          message.event = value;\n          break;\n        case \"id\":\n          onId(message.id = value);\n          break;\n        case \"retry\":\n          const retry = parseInt(value, 10);\n          if (!isNaN(retry)) {\n            onRetry(message.retry = retry);\n          }\n          break;\n      }\n    }\n  };\n}\nfunction concat(a, b) {\n  const res = new Uint8Array(a.length + b.length);\n  res.set(a);\n  res.set(b, a.length);\n  return res;\n}\nfunction newMessage() {\n  return {\n    data: \"\",\n    event: \"\",\n    id: \"\",\n    retry: void 0\n  };\n}\n\n// src/tasks/custom/streamingRequest.ts\nasync function* streamingRequest(args, options) {\n  const { url, info } = await makeRequestOptions({ ...args, stream: true }, options);\n  const response = await (options?.fetch ?? fetch)(url, info);\n  if (options?.retry_on_error !== false && response.status === 503 && !options?.wait_for_model) {\n    return yield* streamingRequest(args, {\n      ...options,\n      wait_for_model: true\n    });\n  }\n  if (!response.ok) {\n    if (response.headers.get(\"Content-Type\")?.startsWith(\"application/json\")) {\n      const output = await response.json();\n      if ([400, 422, 404, 500].includes(response.status) && options?.chatCompletion) {\n        throw new Error(`Server ${args.model} does not seem to support chat completion. Error: ${output.error}`);\n      }\n      if (output.error) {\n        throw new Error(output.error);\n      }\n    }\n    throw new Error(`Server response contains error: ${response.status}`);\n  }\n  if (!response.headers.get(\"content-type\")?.startsWith(\"text/event-stream\")) {\n    throw new Error(\n      `Server does not support event stream content type, it returned ` + response.headers.get(\"content-type\")\n    );\n  }\n  if (!response.body) {\n    return;\n  }\n  const reader = response.body.getReader();\n  let events = [];\n  const onEvent = (event) => {\n    events.push(event);\n  };\n  const onChunk = getLines(\n    getMessages(\n      () => {\n      },\n      () => {\n      },\n      onEvent\n    )\n  );\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done)\n        return;\n      onChunk(value);\n      for (const event of events) {\n        if (event.data.length > 0) {\n          if (event.data === \"[DONE]\") {\n            return;\n          }\n          const data = JSON.parse(event.data);\n          if (typeof data === \"object\" && data !== null && \"error\" in data) {\n            throw new Error(data.error);\n          }\n          yield data;\n        }\n      }\n      events = [];\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\n// src/lib/InferenceOutputError.ts\nvar InferenceOutputError = class extends TypeError {\n  constructor(message) {\n    super(\n      `Invalid inference output: ${message}. Use the 'request' method with the same parameters to do a custom call with no type checking.`\n    );\n    this.name = \"InferenceOutputError\";\n  }\n};\n\n// src/tasks/audio/audioClassification.ts\nasync function audioClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"audio-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/audio/automaticSpeechRecognition.ts\nasync function automaticSpeechRecognition(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"automatic-speech-recognition\"\n  });\n  const isValidOutput = typeof res?.text === \"string\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected {text: string}\");\n  }\n  return res;\n}\n\n// src/tasks/audio/textToSpeech.ts\nasync function textToSpeech(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-to-speech\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/tasks/audio/audioToAudio.ts\nasync function audioToAudio(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"audio-to-audio\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.label === \"string\" && typeof x.blob === \"string\" && typeof x[\"content-type\"] === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, blob: string, content-type: string}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageClassification.ts\nasync function imageClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"image-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageSegmentation.ts\nasync function imageSegmentation(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"image-segmentation\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.mask === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, mask: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/cv/imageToText.ts\nasync function imageToText(args, options) {\n  const res = (await request(args, {\n    ...options,\n    taskHint: \"image-to-text\"\n  }))?.[0];\n  if (typeof res?.generated_text !== \"string\") {\n    throw new InferenceOutputError(\"Expected {generated_text: string}\");\n  }\n  return res;\n}\n\n// src/tasks/cv/objectDetection.ts\nasync function objectDetection(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"object-detection\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.label === \"string\" && typeof x.score === \"number\" && typeof x.box.xmin === \"number\" && typeof x.box.ymin === \"number\" && typeof x.box.xmax === \"number\" && typeof x.box.ymax === \"number\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/cv/textToImage.ts\nasync function textToImage(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-to-image\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/utils/base64FromBytes.ts\nfunction base64FromBytes(arr) {\n  if (globalThis.Buffer) {\n    return globalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return globalThis.btoa(bin.join(\"\"));\n  }\n}\n\n// src/tasks/cv/imageToImage.ts\nasync function imageToImage(args, options) {\n  let reqArgs;\n  if (!args.parameters) {\n    reqArgs = {\n      accessToken: args.accessToken,\n      model: args.model,\n      data: args.inputs\n    };\n  } else {\n    reqArgs = {\n      ...args,\n      inputs: base64FromBytes(\n        new Uint8Array(args.inputs instanceof ArrayBuffer ? args.inputs : await args.inputs.arrayBuffer())\n      )\n    };\n  }\n  const res = await request(reqArgs, {\n    ...options,\n    taskHint: \"image-to-image\"\n  });\n  const isValidOutput = res && res instanceof Blob;\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Blob\");\n  }\n  return res;\n}\n\n// src/tasks/cv/zeroShotImageClassification.ts\nasync function zeroShotImageClassification(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = await request(reqArgs, {\n    ...options,\n    taskHint: \"zero-shot-image-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/featureExtraction.ts\nasync function featureExtraction(args, options) {\n  const defaultTask = args.model ? await getDefaultTask(args.model, args.accessToken, options) : void 0;\n  const res = await request(args, {\n    ...options,\n    taskHint: \"feature-extraction\",\n    ...defaultTask === \"sentence-similarity\" && { forceTask: \"feature-extraction\" }\n  });\n  let isValidOutput = true;\n  const isNumArrayRec = (arr, maxDepth, curDepth = 0) => {\n    if (curDepth > maxDepth)\n      return false;\n    if (arr.every((x) => Array.isArray(x))) {\n      return arr.every((x) => isNumArrayRec(x, maxDepth, curDepth + 1));\n    } else {\n      return arr.every((x) => typeof x === \"number\");\n    }\n  };\n  isValidOutput = Array.isArray(res) && isNumArrayRec(res, 3, 0);\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<number[][][] | number[][] | number[] | number>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/fillMask.ts\nasync function fillMask(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"fill-mask\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.score === \"number\" && typeof x.sequence === \"string\" && typeof x.token === \"number\" && typeof x.token_str === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{score: number, sequence: string, token: number, token_str: string}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/questionAnswering.ts\nasync function questionAnswering(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"question-answering\"\n  });\n  const isValidOutput = typeof res === \"object\" && !!res && typeof res.answer === \"string\" && typeof res.end === \"number\" && typeof res.score === \"number\" && typeof res.start === \"number\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected {answer: string, end: number, score: number, start: number}\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/sentenceSimilarity.ts\nasync function sentenceSimilarity(args, options) {\n  const defaultTask = args.model ? await getDefaultTask(args.model, args.accessToken, options) : void 0;\n  const res = await request(args, {\n    ...options,\n    taskHint: \"sentence-similarity\",\n    ...defaultTask === \"feature-extraction\" && { forceTask: \"sentence-similarity\" }\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/summarization.ts\nasync function summarization(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"summarization\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.summary_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{summary_text: string}>\");\n  }\n  return res?.[0];\n}\n\n// src/tasks/nlp/tableQuestionAnswering.ts\nasync function tableQuestionAnswering(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"table-question-answering\"\n  });\n  const isValidOutput = typeof res?.aggregator === \"string\" && typeof res.answer === \"string\" && Array.isArray(res.cells) && res.cells.every((x) => typeof x === \"string\") && Array.isArray(res.coordinates) && res.coordinates.every((coord) => Array.isArray(coord) && coord.every((x) => typeof x === \"number\"));\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/textClassification.ts\nasync function textClassification(args, options) {\n  const res = (await request(args, {\n    ...options,\n    taskHint: \"text-classification\"\n  }))?.[0];\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.label === \"string\" && typeof x.score === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{label: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/utils/toArray.ts\nfunction toArray(obj) {\n  if (Array.isArray(obj)) {\n    return obj;\n  }\n  return [obj];\n}\n\n// src/tasks/nlp/textGeneration.ts\nasync function textGeneration(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"text-generation\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.generated_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{generated_text: string}>\");\n  }\n  return res?.[0];\n}\n\n// src/tasks/nlp/textGenerationStream.ts\nasync function* textGenerationStream(args, options) {\n  yield* streamingRequest(args, {\n    ...options,\n    taskHint: \"text-generation\"\n  });\n}\n\n// src/tasks/nlp/tokenClassification.ts\nasync function tokenClassification(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"token-classification\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => typeof x.end === \"number\" && typeof x.entity_group === \"string\" && typeof x.score === \"number\" && typeof x.start === \"number\" && typeof x.word === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\n      \"Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>\"\n    );\n  }\n  return res;\n}\n\n// src/tasks/nlp/translation.ts\nasync function translation(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"translation\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x?.translation_text === \"string\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected type Array<{translation_text: string}>\");\n  }\n  return res?.length === 1 ? res?.[0] : res;\n}\n\n// src/tasks/nlp/zeroShotClassification.ts\nasync function zeroShotClassification(args, options) {\n  const res = toArray(\n    await request(args, {\n      ...options,\n      taskHint: \"zero-shot-classification\"\n    })\n  );\n  const isValidOutput = Array.isArray(res) && res.every(\n    (x) => Array.isArray(x.labels) && x.labels.every((_label) => typeof _label === \"string\") && Array.isArray(x.scores) && x.scores.every((_score) => typeof _score === \"number\") && typeof x.sequence === \"string\"\n  );\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{labels: string[], scores: number[], sequence: string}>\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/chatCompletion.ts\nasync function chatCompletion(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"text-generation\",\n    chatCompletion: true\n  });\n  const isValidOutput = typeof res === \"object\" && Array.isArray(res?.choices) && typeof res?.created === \"number\" && typeof res?.id === \"string\" && typeof res?.model === \"string\" && typeof res?.system_fingerprint === \"string\" && typeof res?.usage === \"object\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected ChatCompletionOutput\");\n  }\n  return res;\n}\n\n// src/tasks/nlp/chatCompletionStream.ts\nasync function* chatCompletionStream(args, options) {\n  yield* streamingRequest(args, {\n    ...options,\n    taskHint: \"text-generation\",\n    chatCompletion: true\n  });\n}\n\n// src/tasks/multimodal/documentQuestionAnswering.ts\nasync function documentQuestionAnswering(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      question: args.inputs.question,\n      // convert Blob or ArrayBuffer to base64\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = toArray(\n    await request(reqArgs, {\n      ...options,\n      taskHint: \"document-question-answering\"\n    })\n  )?.[0];\n  const isValidOutput = typeof res?.answer === \"string\" && (typeof res.end === \"number\" || typeof res.end === \"undefined\") && (typeof res.score === \"number\" || typeof res.score === \"undefined\") && (typeof res.start === \"number\" || typeof res.start === \"undefined\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{answer: string, end?: number, score?: number, start?: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/multimodal/visualQuestionAnswering.ts\nasync function visualQuestionAnswering(args, options) {\n  const reqArgs = {\n    ...args,\n    inputs: {\n      question: args.inputs.question,\n      // convert Blob or ArrayBuffer to base64\n      image: base64FromBytes(\n        new Uint8Array(\n          args.inputs.image instanceof ArrayBuffer ? args.inputs.image : await args.inputs.image.arrayBuffer()\n        )\n      )\n    }\n  };\n  const res = (await request(reqArgs, {\n    ...options,\n    taskHint: \"visual-question-answering\"\n  }))?.[0];\n  const isValidOutput = typeof res?.answer === \"string\" && typeof res.score === \"number\";\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected Array<{answer: string, score: number}>\");\n  }\n  return res;\n}\n\n// src/tasks/tabular/tabularRegression.ts\nasync function tabularRegression(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"tabular-regression\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/tasks/tabular/tabularClassification.ts\nasync function tabularClassification(args, options) {\n  const res = await request(args, {\n    ...options,\n    taskHint: \"tabular-classification\"\n  });\n  const isValidOutput = Array.isArray(res) && res.every((x) => typeof x === \"number\");\n  if (!isValidOutput) {\n    throw new InferenceOutputError(\"Expected number[]\");\n  }\n  return res;\n}\n\n// src/HfInference.ts\nvar HfInference = class {\n  accessToken;\n  defaultOptions;\n  constructor(accessToken = \"\", defaultOptions = {}) {\n    this.accessToken = accessToken;\n    this.defaultOptions = defaultOptions;\n    for (const [name, fn] of Object.entries(tasks_exports)) {\n      Object.defineProperty(this, name, {\n        enumerable: false,\n        value: (params, options) => (\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          fn({ ...params, accessToken }, { ...defaultOptions, ...options })\n        )\n      });\n    }\n  }\n  /**\n   * Returns copy of HfInference tied to a specified endpoint.\n   */\n  endpoint(endpointUrl) {\n    return new HfInferenceEndpoint(endpointUrl, this.accessToken, this.defaultOptions);\n  }\n};\nvar HfInferenceEndpoint = class {\n  constructor(endpointUrl, accessToken = \"\", defaultOptions = {}) {\n    accessToken;\n    defaultOptions;\n    for (const [name, fn] of Object.entries(tasks_exports)) {\n      Object.defineProperty(this, name, {\n        enumerable: false,\n        value: (params, options) => (\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          fn({ ...params, accessToken, endpointUrl }, { ...defaultOptions, ...options })\n        )\n      });\n    }\n  }\n};\nexport {\n  HfInference,\n  HfInferenceEndpoint,\n  InferenceOutputError,\n  audioClassification,\n  audioToAudio,\n  automaticSpeechRecognition,\n  chatCompletion,\n  chatCompletionStream,\n  documentQuestionAnswering,\n  featureExtraction,\n  fillMask,\n  imageClassification,\n  imageSegmentation,\n  imageToImage,\n  imageToText,\n  objectDetection,\n  questionAnswering,\n  request,\n  sentenceSimilarity,\n  streamingRequest,\n  summarization,\n  tableQuestionAnswering,\n  tabularClassification,\n  tabularRegression,\n  textClassification,\n  textGeneration,\n  textGenerationStream,\n  textToImage,\n  textToSpeech,\n  tokenClassification,\n  translation,\n  visualQuestionAnswering,\n  zeroShotClassification,\n  zeroShotImageClassification\n};\n","import { HfInference } from '@huggingface/inference';\nimport { Challenge } from '../types';\nimport { \n  collection, \n  doc, \n  writeBatch,\n  serverTimestamp,\n  Timestamp,\n  query,\n  where,\n  getDocs,\n  addDoc\n} from 'firebase/firestore';\nimport { db } from './firebase';\nimport { showError } from './alerts';\n\n// Initialize Hugging Face client\nconst API_KEY = import.meta.env.VITE_HUGGINGFACE_API_KEY;\nif (!API_KEY) {\n  console.error('Missing Hugging Face API key');\n}\n\nconst hf = new HfInference(API_KEY);\n\n// Template challenges for initialization\nconst TEMPLATE_CHALLENGES = {\n  weekly: [\n    {\n      title: 'Audio Production Mastery',\n      description: 'Share your audio production expertise and learn new techniques. Help others with mixing, mastering, or sound design while expanding your own skills!',\n      type: 'weekly',\n      requirements: [\n        { type: 'trades', count: 2, skillCategory: 'audio-production' },\n        { type: 'collaborations', count: 1, skillCategory: 'sound-design' }\n      ],\n      rewards: { xp: 300, badge: 'audio_master' }\n    },\n    {\n      title: 'Visual Storytelling Challenge',\n      description: 'Exchange videography and editing skills to create compelling visual narratives. Learn new techniques while helping others improve their video content.',\n      type: 'weekly',\n      requirements: [\n        { type: 'trades', count: 2, skillCategory: 'video-editing' },\n        { type: 'endorsements', count: 3, skillCategory: 'videography' }\n      ],\n      rewards: { xp: 250, badge: 'visual_storyteller' }\n    },\n    {\n      title: 'Design Sprint',\n      description: 'Collaborate on graphic design projects and share your expertise in different design tools and techniques. Help others bring their creative visions to life!',\n      type: 'weekly',\n      requirements: [\n        { type: 'trades', count: 3, skillCategory: 'graphic-design' },\n        { type: 'collaborations', count: 1, skillCategory: 'ui-design' }\n      ],\n      rewards: { xp: 275, badge: 'design_guru' }\n    },\n    {\n      title: 'Content Creator Boost',\n      description: 'Share your content creation skills across different mediums. Exchange knowledge in video production, thumbnail design, or motion graphics!',\n      type: 'weekly',\n      requirements: [\n        { type: 'trades', count: 2, skillCategory: 'content-creation' },\n        { type: 'endorsements', count: 2, skillCategory: 'motion-graphics' }\n      ],\n      rewards: { xp: 280, badge: 'content_master' }\n    }\n  ],\n  monthly: [\n    {\n      title: 'Music Production Journey',\n      description: 'Dive deep into music production by exchanging knowledge in composition, arrangement, mixing, and mastering. Build a network of music producers and level up your skills!',\n      type: 'monthly',\n      requirements: [\n        { type: 'trades', count: 3, skillCategory: 'music-production' },\n        { type: 'collaborations', count: 2, skillCategory: 'mixing' },\n        { type: 'endorsements', count: 5, skillCategory: 'audio-engineering' }\n      ],\n      rewards: { xp: 1000, badge: 'music_producer_elite' }\n    },\n    {\n      title: 'Film Production Mastery',\n      description: 'Master the art of filmmaking through collaborative projects. Exchange skills in cinematography, directing, editing, and post-production.',\n      type: 'monthly',\n      requirements: [\n        { type: 'trades', count: 4, skillCategory: 'film-production' },\n        { type: 'collaborations', count: 2, skillCategory: 'post-production' }\n      ],\n      rewards: { xp: 900, badge: 'film_master' }\n    },\n    {\n      title: 'Brand Design Evolution',\n      description: 'Level up your brand design skills by collaborating on comprehensive branding projects. Share expertise in logo design, typography, and brand identity.',\n      type: 'monthly',\n      requirements: [\n        { type: 'trades', count: 3, skillCategory: 'brand-design' },\n        { type: 'collaborations', count: 2, skillCategory: 'identity-design' },\n        { type: 'endorsements', count: 4, skillCategory: 'logo-design' }\n      ],\n      rewards: { xp: 950, badge: 'brand_architect' }\n    },\n    {\n      title: 'Digital Art Revolution',\n      description: 'Push the boundaries of digital art through skill exchanges and collaborations. Share techniques in illustration, 3D modeling, and digital painting.',\n      type: 'monthly',\n      requirements: [\n        { type: 'trades', count: 3, skillCategory: 'digital-art' },\n        { type: 'collaborations', count: 2, skillCategory: '3d-modeling' },\n        { type: 'endorsements', count: 4, skillCategory: 'illustration' }\n      ],\n      rewards: { xp: 1000, badge: 'digital_artist_supreme' }\n    }\n  ]\n};\n\n// Generate a new challenge\nexport async function generateChallenge(type: 'weekly' | 'monthly', useAI = false): Promise<string> {\n  console.log(`Generating ${type} challenge (AI: ${useAI})`);\n  \n  try {\n    let challenge: Partial<Challenge>;\n    \n    if (useAI) {\n      try {\n        console.log('Attempting AI challenge generation...');\n        const prompt = `Generate a ${type} challenge for a skill-trading platform focused on creative media skills like audio production, video editing, graphic design, etc.\n          Format: JSON\n          Include:\n          - title: engaging title\n          - description: motivating description\n          - requirements: achievable within ${type === 'weekly' ? '7 days' : 'a month'}\n          - rewards: ${type === 'weekly' ? '100-300' : '500-1000'} XP`;\n\n        const response = await hf.textGeneration({\n          model: 'mistralai/Mixtral-8x7B-Instruct-v0.1',\n          inputs: prompt,\n          parameters: {\n            max_new_tokens: 500,\n            temperature: 0.7,\n            return_full_text: false\n          }\n        });\n\n        const jsonMatch = response.generated_text.match(/\\{[\\s\\S]*\\}/);\n        if (!jsonMatch) {\n          throw new Error('Invalid AI response format');\n        }\n\n        const aiChallenge = JSON.parse(jsonMatch[0]);\n        challenge = {\n          ...aiChallenge,\n          type,\n          status: 'pending',\n          participants: [],\n          completions: []\n        };\n      } catch (error) {\n        console.warn('AI generation failed, falling back to template:', error);\n        challenge = getTemplateChallenge(type);\n      }\n    } else {\n      challenge = getTemplateChallenge(type);\n    }\n\n    const now = new Date();\n    const endDate = new Date(now);\n    if (type === 'weekly') {\n      endDate.setDate(endDate.getDate() + 7);\n    } else {\n      endDate.setMonth(endDate.getMonth() + 1);\n    }\n\n    const docRef = await addDoc(collection(db, 'challenges'), {\n      ...challenge,\n      startDate: serverTimestamp(),\n      endDate: Timestamp.fromDate(endDate),\n      createdAt: serverTimestamp(),\n      updatedAt: serverTimestamp()\n    });\n\n    console.log(`Challenge created successfully with ID: ${docRef.id}`);\n    return docRef.id;\n  } catch (error) {\n    console.error('Failed to generate challenge:', error);\n    await showError(\n      'Challenge Generation Error',\n      'Failed to generate challenge. Please try again later.'\n    );\n    throw error;\n  }\n}\n\n// Get a template challenge\nfunction getTemplateChallenge(type: 'weekly' | 'monthly'): Partial<Challenge> {\n  const templates = TEMPLATE_CHALLENGES[type];\n  return templates[Math.floor(Math.random() * templates.length)];\n}\n\n// Check and generate new challenges if needed\nexport async function checkAndGenerateChallenges(): Promise<void> {\n  console.log('Checking for existing challenges...');\n  \n  try {\n    // Check weekly challenges\n    const weeklyQuery = query(\n      collection(db, 'challenges'),\n      where('type', '==', 'weekly'),\n      where('status', '==', 'pending')\n    );\n    \n    const weeklySnapshot = await getDocs(weeklyQuery);\n    console.log(`Found ${weeklySnapshot.size} pending weekly challenges`);\n    \n    // Check monthly challenges\n    const monthlyQuery = query(\n      collection(db, 'challenges'),\n      where('type', '==', 'monthly'),\n      where('status', '==', 'pending')\n    );\n    \n    const monthlySnapshot = await getDocs(monthlyQuery);\n    console.log(`Found ${monthlySnapshot.size} pending monthly challenges`);\n\n    // Create new challenges if needed\n    if (weeklySnapshot.empty || monthlySnapshot.empty) {\n      const batch = writeBatch(db);\n      const challengesRef = collection(db, 'challenges');\n\n      const now = new Date();\n\n      if (weeklySnapshot.empty) {\n        console.log('Generating new weekly challenge...');\n        const weeklyTemplate = TEMPLATE_CHALLENGES.weekly[Math.floor(Math.random() * TEMPLATE_CHALLENGES.weekly.length)];\n        const weeklyEndDate = new Date(now);\n        weeklyEndDate.setDate(weeklyEndDate.getDate() + 7);\n        \n        const weeklyDocRef = doc(challengesRef);\n        batch.set(weeklyDocRef, {\n          ...weeklyTemplate,\n          participants: [],\n          completions: [],\n          status: 'pending',\n          startDate: serverTimestamp(),\n          endDate: Timestamp.fromDate(weeklyEndDate),\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        });\n      }\n\n      if (monthlySnapshot.empty) {\n        console.log('Generating new monthly challenge...');\n        const monthlyTemplate = TEMPLATE_CHALLENGES.monthly[Math.floor(Math.random() * TEMPLATE_CHALLENGES.monthly.length)];\n        const monthlyEndDate = new Date(now);\n        monthlyEndDate.setMonth(monthlyEndDate.getMonth() + 1);\n        \n        const monthlyDocRef = doc(challengesRef);\n        batch.set(monthlyDocRef, {\n          ...monthlyTemplate,\n          participants: [],\n          completions: [],\n          status: 'pending',\n          startDate: serverTimestamp(),\n          endDate: Timestamp.fromDate(monthlyEndDate),\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        });\n      }\n\n      await batch.commit();\n      console.log('New challenges created successfully');\n    }\n  } catch (error) {\n    console.error('Error checking/generating challenges:', error);\n    await showError(\n      'Challenge Generation Error',\n      'Failed to check or generate challenges. Please try again later.'\n    );\n    throw error;\n  }\n}\n\n// Initialize challenges for the first time\nexport async function initializeChallenges(retries = 3): Promise<void> {\n  console.log('Initializing challenges...');\n  \n  try {\n    const batch = writeBatch(db);\n    const challengesRef = collection(db, 'challenges');\n    \n    // Create weekly challenges\n    for (const template of TEMPLATE_CHALLENGES.weekly) {\n      const now = new Date();\n      const endDate = new Date(now);\n      endDate.setDate(endDate.getDate() + 7);\n      \n      const docRef = doc(challengesRef);\n      batch.set(docRef, {\n        ...template,\n        participants: [],\n        completions: [],\n        status: 'pending',\n        startDate: serverTimestamp(),\n        endDate: Timestamp.fromDate(endDate),\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      });\n    }\n    \n    // Create monthly challenges\n    for (const template of TEMPLATE_CHALLENGES.monthly) {\n      const now = new Date();\n      const monthlyEndDate = new Date(now);\n      monthlyEndDate.setMonth(monthlyEndDate.getMonth() + 1);\n      \n      const monthlyDocRef = doc(challengesRef);\n      batch.set(monthlyDocRef, {\n        ...template,\n        participants: [],\n        completions: [],\n        status: 'pending',\n        startDate: serverTimestamp(),\n        endDate: Timestamp.fromDate(monthlyEndDate),\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      });\n    }\n    \n    await batch.commit();\n    console.log('Initial challenges created successfully');\n  } catch (error) {\n    console.error('Error in initializeChallenges:', error);\n    if (retries > 0) {\n      console.log(`Retrying initialization (${retries} attempts remaining)...`);\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      return initializeChallenges(retries - 1);\n    }\n    await showError(\n      'Challenge Initialization Error',\n      'Failed to initialize challenges. Please refresh the page or contact support.'\n    );\n    throw error;\n  }\n}","import { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { collection, query, where, getDocs, Timestamp } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { Challenge } from '../types';\nimport { ChallengeCard } from '../components/ChallengeCard';\nimport { Trophy, Calendar, RefreshCw, Sparkles, Filter } from 'lucide-react';\nimport { checkAndGenerateChallenges } from '../lib/ai-challenges';\nimport { showError } from '../lib/alerts';\n\nexport function Challenges() {\n  const { user } = useAuth();\n  const [challenges, setChallenges] = useState<Challenge[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [filter, setFilter] = useState<'all' | 'weekly' | 'monthly'>('all');\n\n  const fetchChallenges = async () => {\n    if (!user) return;\n\n    try {\n      const q = query(\n        collection(db, 'challenges'),\n        where('status', 'in', ['pending', 'active'])\n      );\n      \n      const snapshot = await getDocs(q);\n      \n      if (!snapshot.empty) {\n        const challengesData = snapshot.docs.map(doc => {\n          const data = doc.data();\n          return {\n            id: doc.id,\n            ...data,\n            startDate: data.startDate?.toDate() || null,\n            endDate: data.endDate?.toDate() || null,\n            createdAt: data.createdAt?.toDate() || new Date(),\n            updatedAt: data.updatedAt?.toDate() || new Date()\n          } as Challenge;\n        });\n        \n        const sortedChallenges = challengesData.sort((a, b) => \n          b.createdAt.getTime() - a.createdAt.getTime()\n        );\n        \n        setChallenges(sortedChallenges);\n      } else {\n        await checkAndGenerateChallenges();\n        await fetchChallenges();\n      }\n    } catch (err) {\n      console.error('Failed to fetch challenges:', err);\n      await showError(\n        'Error Loading Challenges',\n        'Unable to load challenges. Please try refreshing the page.'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchChallenges();\n  }, [user]);\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    try {\n      await checkAndGenerateChallenges();\n      await fetchChallenges();\n    } catch (err) {\n      console.error('Failed to refresh challenges:', err);\n      await showError(\n        'Refresh Failed',\n        'Unable to refresh challenges. Please try again.'\n      );\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const filteredChallenges = challenges.filter(\n    challenge => filter === 'all' || challenge.type === filter\n  );\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Dynamic background */}\n      <div className=\"fixed inset-0 bg-mesh opacity-30\"></div>\n      <div className=\"fixed inset-0 bg-noise\"></div>\n\n      {/* Content */}\n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Header */}\n        <div className=\"mb-12\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"p-2 bg-gradient-to-br from-accent-clay to-accent-ochre rounded-lg\">\n              <Trophy className=\"h-8 w-8 text-white\" />\n            </div>\n            <h1 className=\"text-4xl font-display font-bold text-white\">\n              Active Challenges\n            </h1>\n          </div>\n          <p className=\"text-xl text-gray-300\">\n            Complete challenges to earn XP and unlock special rewards\n          </p>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex flex-col sm:flex-row justify-between gap-4 mb-8\">\n          {/* Filter Tabs */}\n          <div className=\"flex gap-2 p-1 bg-earth-800/50 backdrop-blur-sm rounded-lg\">\n            <button\n              onClick={() => setFilter('all')}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${\n                filter === 'all'\n                  ? 'bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              All Challenges\n            </button>\n            <button\n              onClick={() => setFilter('weekly')}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${\n                filter === 'weekly'\n                  ? 'bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Weekly\n            </button>\n            <button\n              onClick={() => setFilter('monthly')}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${\n                filter === 'monthly'\n                  ? 'bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              Monthly\n            </button>\n          </div>\n\n          {/* Refresh Button */}\n          <button\n            onClick={handleRefresh}\n            disabled={refreshing}\n            className=\"flex items-center gap-2 px-4 py-2 bg-earth-800/50 backdrop-blur-sm \n                     text-white rounded-lg hover:bg-earth-800/70 transition-all duration-300\n                     disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <RefreshCw className={`h-5 w-5 ${refreshing ? 'animate-spin' : ''}`} />\n            {refreshing ? 'Refreshing...' : 'Check for New Challenges'}\n          </button>\n        </div>\n\n        {/* Challenges Grid */}\n        {loading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3].map((n) => (\n              <div key={n} className=\"card p-6 animate-pulse\">\n                <div className=\"h-6 bg-earth-700/50 rounded w-3/4 mb-4\"></div>\n                <div className=\"space-y-2 mb-4\">\n                  <div className=\"h-4 bg-earth-700/50 rounded w-full\"></div>\n                  <div className=\"h-4 bg-earth-700/50 rounded w-5/6\"></div>\n                </div>\n                <div className=\"h-10 bg-earth-700/50 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredChallenges.map((challenge) => (\n              <ChallengeCard\n                key={challenge.id}\n                challenge={challenge}\n                userProgress={user?.challengeProgress?.[challenge.id]}\n              />\n            ))}\n\n            {filteredChallenges.length === 0 && (\n              <div className=\"col-span-full\">\n                <div className=\"card p-12 text-center\">\n                  <Sparkles className=\"h-12 w-12 text-accent-clay mx-auto mb-4\" />\n                  <h3 className=\"text-xl font-display font-semibold text-gray-900 mb-2\">\n                    No Active Challenges\n                  </h3>\n                  <p className=\"text-gray-600 mb-6\">\n                    There are no active challenges at the moment. Click refresh to check for new ones.\n                  </p>\n                  <button\n                    onClick={handleRefresh}\n                    disabled={refreshing}\n                    className=\"btn-primary inline-flex items-center gap-2\"\n                  >\n                    <RefreshCw className={`h-4 w-4 ${refreshing ? 'animate-spin' : ''}`} />\n                    Check for New Challenges\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","import { useState } from 'react';\nimport { Challenge } from '../types';\nimport { generateChallenge } from '../lib/ai-challenges';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { Wand, Save, RotateCcw, AlertTriangle } from 'lucide-react';\n\ninterface ChallengeEditorProps {\n  challenge?: Challenge;\n  type: 'weekly' | 'monthly';\n  onSave: () => void;\n  onCancel: () => void;\n}\n\nexport function ChallengeEditor({ challenge, type, onSave, onCancel }: ChallengeEditorProps) {\n  const [editedChallenge, setEditedChallenge] = useState<Partial<Challenge>>(challenge || {});\n  const [generating, setGenerating] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleGenerateNew = async () => {\n    setGenerating(true);\n    setError(null);\n    try {\n      const challengeId = await generateChallenge(type, true);\n      const challengeDoc = await db.doc(`challenges/${challengeId}`).get();\n      setEditedChallenge(challengeDoc.data() as Challenge);\n    } catch (err) {\n      setError('Failed to generate challenge. Please try again or edit manually.');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!editedChallenge.title || !editedChallenge.description) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    setSaving(true);\n    setError(null);\n    try {\n      if (challenge?.id) {\n        await updateDoc(doc(db, 'challenges', challenge.id), {\n          ...editedChallenge,\n          updatedAt: new Date()\n        });\n      }\n      onSave();\n    } catch (err) {\n      setError('Failed to save challenge');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold mb-2\">\n          {challenge ? 'Edit Challenge' : 'New Challenge'}\n        </h2>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={handleGenerateNew}\n            disabled={generating}\n            className=\"btn-secondary flex items-center gap-2\"\n          >\n            <Wand className=\"h-4 w-4\" />\n            {generating ? 'Generating...' : 'Generate with AI'}\n          </button>\n          {challenge && (\n            <button\n              onClick={() => setEditedChallenge(challenge)}\n              className=\"btn-secondary flex items-center gap-2\"\n            >\n              <RotateCcw className=\"h-4 w-4\" />\n              Reset\n            </button>\n          )}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-2\">\n          <AlertTriangle className=\"h-5 w-5 flex-shrink-0\" />\n          <p>{error}</p>\n        </div>\n      )}\n\n      <div className=\"space-y-6\">\n        {/* Title */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            value={editedChallenge.title || ''}\n            onChange={(e) => setEditedChallenge(prev => ({ ...prev, title: e.target.value }))}\n            className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            placeholder=\"Enter challenge title\"\n          />\n        </div>\n\n        {/* Description */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Description\n          </label>\n          <textarea\n            value={editedChallenge.description || ''}\n            onChange={(e) => setEditedChallenge(prev => ({ ...prev, description: e.target.value }))}\n            className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            rows={4}\n            placeholder=\"Describe the challenge\"\n          />\n        </div>\n\n        {/* Requirements */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Requirements\n          </label>\n          {editedChallenge.requirements?.map((req, index) => (\n            <div key={index} className=\"flex gap-4 mb-2\">\n              <select\n                value={req.type}\n                onChange={(e) => {\n                  const newReqs = [...(editedChallenge.requirements || [])];\n                  newReqs[index] = { ...req, type: e.target.value as any };\n                  setEditedChallenge(prev => ({ ...prev, requirements: newReqs }));\n                }}\n                className=\"p-2 border rounded-lg\"\n              >\n                <option value=\"trades\">Trades</option>\n                <option value=\"collaborations\">Collaborations</option>\n                <option value=\"endorsements\">Endorsements</option>\n                <option value=\"skills\">Skills</option>\n              </select>\n              <input\n                type=\"number\"\n                value={req.count}\n                onChange={(e) => {\n                  const newReqs = [...(editedChallenge.requirements || [])];\n                  newReqs[index] = { ...req, count: parseInt(e.target.value) };\n                  setEditedChallenge(prev => ({ ...prev, requirements: newReqs }));\n                }}\n                className=\"p-2 border rounded-lg w-24\"\n                min=\"1\"\n              />\n              <input\n                type=\"text\"\n                value={req.skillCategory || ''}\n                onChange={(e) => {\n                  const newReqs = [...(editedChallenge.requirements || [])];\n                  newReqs[index] = { ...req, skillCategory: e.target.value };\n                  setEditedChallenge(prev => ({ ...prev, requirements: newReqs }));\n                }}\n                className=\"p-2 border rounded-lg flex-1\"\n                placeholder=\"Skill category (optional)\"\n              />\n            </div>\n          ))}\n          <button\n            onClick={() => setEditedChallenge(prev => ({\n              ...prev,\n              requirements: [\n                ...(prev.requirements || []),\n                { type: 'trades', count: 1 }\n              ]\n            }))}\n            className=\"text-sm text-indigo-600 hover:text-indigo-700\"\n          >\n            + Add Requirement\n          </button>\n        </div>\n\n        {/* Rewards */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Rewards\n          </label>\n          <div className=\"flex gap-4\">\n            <div>\n              <label className=\"block text-sm text-gray-600 mb-1\">XP</label>\n              <input\n                type=\"number\"\n                value={editedChallenge.rewards?.xp || 0}\n                onChange={(e) => setEditedChallenge(prev => ({\n                  ...prev,\n                  rewards: {\n                    ...prev.rewards,\n                    xp: parseInt(e.target.value)\n                  }\n                }))}\n                className=\"p-2 border rounded-lg w-24\"\n                min=\"0\"\n              />\n            </div>\n            <div className=\"flex-1\">\n              <label className=\"block text-sm text-gray-600 mb-1\">Badge (optional)</label>\n              <input\n                type=\"text\"\n                value={editedChallenge.rewards?.badge || ''}\n                onChange={(e) => setEditedChallenge(prev => ({\n                  ...prev,\n                  rewards: {\n                    ...prev.rewards,\n                    badge: e.target.value\n                  }\n                }))}\n                className=\"p-2 border rounded-lg w-full\"\n                placeholder=\"Badge identifier\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex justify-end gap-4 pt-4\">\n          <button\n            onClick={onCancel}\n            className=\"btn-secondary\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"btn-primary flex items-center gap-2\"\n          >\n            <Save className=\"h-4 w-4\" />\n            {saving ? 'Saving...' : 'Save Challenge'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { collection, query, where, orderBy, onSnapshot } from 'firebase/firestore';\nimport { db } from '../lib/firebase';\nimport { Challenge } from '../types';\nimport { ChallengeEditor } from '../components/ChallengeEditor';\nimport { Clock, Edit, Play, AlertTriangle } from 'lucide-react';\n\nexport function AdminChallenges() {\n  const [pendingChallenges, setPendingChallenges] = useState<Challenge[]>([]);\n  const [editingChallenge, setEditingChallenge] = useState<Challenge | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Subscribe to pending challenges\n    const q = query(\n      collection(db, 'challenges'),\n      where('status', '==', 'pending'),\n      orderBy('createdAt', 'desc')\n    );\n\n    const unsubscribe = onSnapshot(q, \n      (snapshot) => {\n        const challenges = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })) as Challenge[];\n        setPendingChallenges(challenges);\n        setLoading(false);\n      },\n      (err) => {\n        console.error('Error fetching challenges:', err);\n        setError('Failed to load challenges');\n        setLoading(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleActivate = async (challengeId: string) => {\n    try {\n      const { httpsCallable } = await import('firebase/functions');\n      const functions = getFunctions();\n      const activateChallenge = httpsCallable(functions, 'manuallyActivateChallenge');\n      \n      await activateChallenge({ challengeId });\n    } catch (err) {\n      console.error('Failed to activate challenge:', err);\n      setError('Failed to activate challenge');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse space-y-4\">\n          {[1, 2, 3].map((n) => (\n            <div key={n} className=\"bg-white p-6 rounded-lg shadow-md\">\n              <div className=\"h-6 bg-gray-200 rounded w-1/4 mb-4\"></div>\n              <div className=\"space-y-2\">\n                <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Challenge Management</h1>\n        <p className=\"text-gray-600\">Review and activate pending challenges</p>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-2\">\n          <AlertTriangle className=\"h-5 w-5 flex-shrink-0\" />\n          <p>{error}</p>\n        </div>\n      )}\n\n      {editingChallenge ? (\n        <ChallengeEditor\n          challenge={editingChallenge}\n          type={editingChallenge.type}\n          onSave={() => setEditingChallenge(null)}\n          onCancel={() => setEditingChallenge(null)}\n        />\n      ) : (\n        <div className=\"space-y-6\">\n          {pendingChallenges.map((challenge) => (\n            <div key={challenge.id} className=\"bg-white rounded-lg shadow-md p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-xl font-semibold text-gray-900\">{challenge.title}</h3>\n                  <div className=\"flex items-center text-sm text-gray-500 mt-1\">\n                    <Clock className=\"h-4 w-4 mr-1\" />\n                    {challenge.type.charAt(0).toUpperCase() + challenge.type.slice(1)} Challenge\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setEditingChallenge(challenge)}\n                    className=\"p-2 text-gray-600 hover:text-indigo-600 transition-colors\"\n                  >\n                    <Edit className=\"h-5 w-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleActivate(challenge.id)}\n                    className=\"p-2 text-gray-600 hover:text-green-600 transition-colors\"\n                  >\n                    <Play className=\"h-5 w-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <p className=\"text-gray-600 mb-4\">{challenge.description}</p>\n\n              <div className=\"space-y-4\">\n                {/* Requirements */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Requirements</h4>\n                  <div className=\"space-y-2\">\n                    {challenge.requirements.map((req, index) => (\n                      <div key={index} className=\"flex items-center text-sm text-gray-600\">\n                        <span className=\"w-24\">{req.type}:</span>\n                        <span className=\"font-medium\">{req.count}</span>\n                        {req.skillCategory && (\n                          <span className=\"ml-2 text-gray-500\">in {req.skillCategory}</span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Rewards */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Rewards</h4>\n                  <div className=\"flex items-center gap-4 text-sm\">\n                    <div className=\"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full\">\n                      {challenge.rewards.xp} XP\n                    </div>\n                    {challenge.rewards.badge && (\n                      <div className=\"px-3 py-1 bg-purple-100 text-purple-700 rounded-full\">\n                        {challenge.rewards.badge} Badge\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {pendingChallenges.length === 0 && (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-md\">\n              <Clock className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                No Pending Challenges\n              </h3>\n              <p className=\"text-gray-600\">\n                New challenges will appear here when generated\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","import { Routes, Route, Link } from 'react-router-dom';\nimport { Briefcase, LogOut, Trophy, Menu, X, Shield } from 'lucide-react';\nimport { useAuth } from './contexts/AuthContext';\nimport { useAdmin } from './contexts/AdminContext';\nimport { ProtectedRoute } from './components/ProtectedRoute';\nimport { AdminRoute } from './components/AdminRoute';\nimport { Login } from './pages/Login';\nimport { Register } from './pages/Register';\nimport { Discover } from './pages/Discover';\nimport { Profile } from './pages/Profile';\nimport { CreateTrade } from './pages/CreateTrade';\nimport { TradeDetails } from './pages/TradeDetails';\nimport { Messages } from './pages/Messages';\nimport { Conversation } from './pages/Conversation';\nimport { Projects } from './pages/Projects';\nimport { CreateProject } from './pages/CreateProject';\nimport { ProjectDetails } from './pages/ProjectDetails';\nimport { UserDirectory } from './pages/UserDirectory';\nimport { Challenges } from './pages/Challenges';\nimport { AdminChallenges } from './pages/AdminChallenges';\nimport { useState } from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nfunction ErrorFallback({ error, resetErrorBoundary }) {\n  return (\n    <div className=\"min-h-screen bg-cyber-black text-cyber-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full p-6 bg-cyber-gray-900 rounded-lg shadow-xl\">\n        <h2 className=\"text-xl font-bold text-red-500 mb-4\">Something went wrong</h2>\n        <pre className=\"text-sm bg-cyber-gray-800 p-4 rounded mb-4 overflow-auto\">\n          {error.message}\n        </pre>\n        <button\n          onClick={resetErrorBoundary}\n          className=\"w-full px-4 py-2 bg-neon-blue text-white rounded-lg hover:bg-neon-purple transition-colors\"\n        >\n          Try again\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  const { user, logout } = useAuth();\n  const { isAdmin } = useAdmin();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error('Failed to log out');\n    }\n  };\n\n  const closeMobileMenu = () => {\n    setMobileMenuOpen(false);\n  };\n\n  return (\n    <ErrorBoundary FallbackComponent={ErrorFallback}>\n      <div className=\"min-h-screen bg-cyber-black text-cyber-gray-50\">\n        {/* Dynamic background */}\n        <div className=\"fixed inset-0 bg-mesh opacity-30 animate-mesh\"></div>\n        <div className=\"fixed inset-0 bg-noise\"></div>\n\n        {/* Header */}\n        <header className=\"sticky top-0 z-50 bg-cyber-gray-900/80 backdrop-blur-lg border-b border-cyber-gray-800\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n            <div className=\"flex justify-between items-center\">\n              <Link to=\"/\" className=\"flex items-center space-x-3 group\">\n                <Briefcase className=\"h-8 w-8 text-neon-blue animate-float\" />\n                <h1 className=\"text-2xl font-display font-bold gradient-text\">\n                  TradeYa\n                </h1>\n              </Link>\n\n              {/* Mobile menu button */}\n              <button\n                className=\"md:hidden p-2 rounded-lg hover:bg-neon-purple/20\"\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              >\n                {mobileMenuOpen ? (\n                  <X className=\"h-6 w-6 text-neon-blue\" />\n                ) : (\n                  <Menu className=\"h-6 w-6 text-neon-blue\" />\n                )}\n              </button>\n\n              {/* Desktop Navigation */}\n              <nav className=\"hidden md:flex space-x-8\">\n                <Link to=\"/discover\" className=\"nav-link\">\n                  Discover\n                </Link>\n                <Link to=\"/projects\" className=\"nav-link\">\n                  Projects\n                </Link>\n                <Link to=\"/directory\" className=\"nav-link\">\n                  Directory\n                </Link>\n                <Link to=\"/messages\" className=\"nav-link\">\n                  Messages\n                </Link>\n                {user && (\n                  <Link to=\"/challenges\" className=\"nav-link flex items-center gap-1\">\n                    <Trophy className=\"h-4 w-4\" />\n                    Challenges\n                  </Link>\n                )}\n                {isAdmin && (\n                  <Link\n                    to=\"/admin/challenges\"\n                    className=\"nav-link flex items-center gap-1\"\n                  >\n                    <Shield className=\"h-4 w-4\" />\n                    Admin\n                  </Link>\n                )}\n                {user ? (\n                  <>\n                    <Link to=\"/profile\" className=\"nav-link\">\n                      Profile\n                    </Link>\n                    <button\n                      onClick={handleLogout}\n                      className=\"nav-link flex items-center\"\n                    >\n                      <LogOut className=\"h-5 w-5 mr-1\" />\n                      Logout\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <Link to=\"/login\" className=\"nav-link\">\n                      Login\n                    </Link>\n                    <Link to=\"/register\" className=\"nav-link\">\n                      Register\n                    </Link>\n                  </>\n                )}\n              </nav>\n\n              {user && (\n                <Link\n                  to=\"/trades/new\"\n                  className=\"hidden md:flex btn-primary\"\n                >\n                  Post a Trade\n                </Link>\n              )}\n            </div>\n\n            {/* Mobile Navigation */}\n            {mobileMenuOpen && (\n              <nav className=\"md:hidden mt-4 py-4 border-t border-cyber-gray-800\">\n                <div className=\"flex flex-col space-y-4\">\n                  <Link \n                    to=\"/discover\" \n                    className=\"nav-link\"\n                    onClick={closeMobileMenu}\n                  >\n                    Discover\n                  </Link>\n                  <Link \n                    to=\"/projects\" \n                    className=\"nav-link\"\n                    onClick={closeMobileMenu}\n                  >\n                    Projects\n                  </Link>\n                  <Link \n                    to=\"/directory\" \n                    className=\"nav-link\"\n                    onClick={closeMobileMenu}\n                  >\n                    Directory\n                  </Link>\n                  <Link \n                    to=\"/messages\" \n                    className=\"nav-link\"\n                    onClick={closeMobileMenu}\n                  >\n                    Messages\n                  </Link>\n                  {user && (\n                    <Link \n                      to=\"/challenges\" \n                      className=\"nav-link flex items-center gap-1\"\n                      onClick={closeMobileMenu}\n                    >\n                      <Trophy className=\"h-4 w-4\" />\n                      Challenges\n                    </Link>\n                  )}\n                  {isAdmin && (\n                    <Link \n                      to=\"/admin/challenges\" \n                      className=\"nav-link flex items-center gap-1\"\n                      onClick={closeMobileMenu}\n                    >\n                      <Shield className=\"h-4 w-4\" />\n                      Admin\n                    </Link>\n                  )}\n                  {user ? (\n                    <>\n                      <Link \n                        to=\"/profile\" \n                        className=\"nav-link\"\n                        onClick={closeMobileMenu}\n                      >\n                        Profile\n                      </Link>\n                      <button\n                        onClick={() => {\n                          handleLogout();\n                          closeMobileMenu();\n                        }}\n                        className=\"nav-link flex items-center\"\n                      >\n                        <LogOut className=\"h-5 w-5 mr-1\" />\n                        Logout\n                      </button>\n                      <Link\n                        to=\"/trades/new\"\n                        className=\"btn-primary text-center\"\n                        onClick={closeMobileMenu}\n                      >\n                        Post a Trade\n                      </Link>\n                    </>\n                  ) : (\n                    <>\n                      <Link \n                        to=\"/login\" \n                        className=\"nav-link\"\n                        onClick={closeMobileMenu}\n                      >\n                        Login\n                      </Link>\n                      <Link \n                        to=\"/register\" \n                        className=\"nav-link\"\n                        onClick={closeMobileMenu}\n                      >\n                        Register\n                      </Link>\n                    </>\n                  )}\n                </div>\n              </nav>\n            )}\n          </div>\n        </header>\n\n        {/* Main content */}\n        <main className=\"relative\">\n          <div className=\"relative z-10\">\n            <Routes>\n              <Route path=\"/\" element={<Discover />} />\n              <Route path=\"/discover\" element={<Discover />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/register\" element={<Register />} />\n              <Route\n                path=\"/profile\"\n                element={\n                  <ProtectedRoute>\n                    <Profile />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/trades/new\"\n                element={\n                  <ProtectedRoute>\n                    <CreateTrade />\n                  </ProtectedRoute>\n                }\n              />\n              <Route path=\"/trades/:id\" element={<TradeDetails />} />\n              <Route\n                path=\"/messages\"\n                element={\n                  <ProtectedRoute>\n                    <Messages />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/messages/:id\"\n                element={\n                  <ProtectedRoute>\n                    <Conversation />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/projects\"\n                element={\n                  <ProtectedRoute>\n                    <Projects />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/projects/new\"\n                element={\n                  <ProtectedRoute>\n                    <CreateProject />\n                  </ProtectedRoute>\n                }\n              />\n              <Route path=\"/projects/:id\" element={<ProjectDetails />} />\n              <Route path=\"/directory\" element={<UserDirectory />} />\n              <Route\n                path=\"/challenges\"\n                element={\n                  <ProtectedRoute>\n                    <Challenges />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/admin/challenges\"\n                element={\n                  <AdminRoute>\n                    <AdminChallenges />\n                  </AdminRoute>\n                }\n              />\n            </Routes>\n          </div>\n        </main>\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { AdminProvider } from './contexts/AdminContext';\nimport App from './App';\nimport { initializeCollections } from './lib/firebase';\nimport './index.css';\n\n// Initialize Firebase collections\ninitializeCollections().catch(console.error);\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <BrowserRouter>\n      <AuthProvider>\n        <AdminProvider>\n          <App />\n        </AdminProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  </StrictMode>\n);"],"file":"assets/index-CdxZjstG.js"}