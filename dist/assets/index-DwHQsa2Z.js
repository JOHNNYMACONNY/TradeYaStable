const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.esm-DAbzv-F7.js","assets/firebase-DF8VjN5J.js"])))=>i.map(i=>d[i]);
import{r as vo,a as bo,b as h,R as Ct,N as fi,u as je,g as An,c as ka,d as wo,L as q,e as yo,f as ae,B as jo}from"./vendor-DSLJAaVr.js";import{r as Zt,_ as Xt,C as Jt,a as Ca,E as gi,o as No,F as Qt,L as ko,g as xi,i as Co,b as Eo,v as So,c as cs,d as Ao,e as Po,f as Do,h as To,j as Io,p as Ro,k as Mo,l as _o,m as O,n as Fo,q as _,s as Lo,t as J,w as X,u as le,x as Oo,y as zo,z as $o,G as qo,A as Bo,B as Uo,D as Ho,H as Wo,I as Vo,J as fn,K as ne,M as Go,N as H,O as xt,P as ea,Q as Pn,R as Qe,S as Ko,T as ue,U as rt,V as Va,W as Ga,X as Ka,Y as Z,Z as dt,$ as vi,a0 as Yo,a1 as Zo,a2 as Xo}from"./firebase-DF8VjN5J.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var Ya={exports:{}},Nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds;function Jo(){if(ds)return Nt;ds=1;var e=vo(),a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(o,c,u){var g,f={},v=null,x=null;u!==void 0&&(v=""+u),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(g in c)s.call(c,g)&&!r.hasOwnProperty(g)&&(f[g]=c[g]);if(o&&o.defaultProps)for(g in c=o.defaultProps,c)f[g]===void 0&&(f[g]=c[g]);return{$$typeof:a,type:o,key:v,ref:x,props:f,_owner:i.current}}return Nt.Fragment=t,Nt.jsx=l,Nt.jsxs=l,Nt}var ps;function Qo(){return ps||(ps=1,Ya.exports=Jo()),Ya.exports}var n=Qo(),Ut={},us;function el(){if(us)return Ut;us=1;var e=bo();return Ut.createRoot=e.createRoot,Ut.hydrateRoot=e.hydrateRoot,Ut}var bi=el();/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,a)=>{const t=h.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:c,...u},g)=>h.createElement("svg",{ref:g,...tl,width:i,height:i,stroke:s,strokeWidth:l?Number(r)*24/Number(i):r,className:["lucide",`lucide-${al(e)}`,o].join(" "),...u},[...a.map(([f,v])=>h.createElement(f,v)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=I("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=I("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=I("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=I("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=I("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=I("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=I("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=I("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=I("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=I("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=I("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=I("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=I("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=I("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=I("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=I("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=I("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=I("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=I("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=I("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=I("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=I("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=I("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=I("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=I("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=I("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=I("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=I("Wand",[["path",{d:"M15 4V2",key:"z1p9b7"}],["path",{d:"M15 16v-2",key:"px0unx"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M17.8 11.8 19 13",key:"yihg8r"}],["path",{d:"M15 9h0",key:"kg5t1u"}],["path",{d:"M17.8 6.2 19 5",key:"fd4us0"}],["path",{d:"m3 21 9-9",key:"1jfql5"}],["path",{d:"M12.2 6.2 11 5",key:"i3da3b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=I("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),kl="modulepreload",Cl=function(e){return"/"+e},xs={},Ai=function(a,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=Cl(c),c in xs)return;xs[c]=!0;const u=c.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":kl,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((v,x)=>{f.addEventListener("load",v),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&r(o.reason);return a().catch(r)})},Pi="@firebase/installations",Rn="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=1e4,Ti=`w:${Rn}`,Ii="FIS_v2",El="https://firebaseinstallations.googleapis.com/v1",Sl=60*60*1e3,Al="installations",Pl="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ze=new gi(Al,Pl,Dl);function Ri(e){return e instanceof Qt&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi({projectId:e}){return`${El}/projects/${e}/installations`}function _i(e){return{token:e.token,requestStatus:2,expiresIn:Il(e.expiresIn),creationTime:Date.now()}}async function Fi(e,a){const s=(await a.json()).error;return Ze.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Li({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Tl(e,{refreshToken:a}){const t=Li(e);return t.append("Authorization",Rl(a)),t}async function Oi(e){const a=await e();return a.status>=500&&a.status<600?e():a}function Il(e){return Number(e.replace("s","000"))}function Rl(e){return`${Ii} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml({appConfig:e,heartbeatServiceProvider:a},{fid:t}){const s=Mi(e),i=Li(e),r=a.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const l={fid:t,authVersion:Ii,appId:e.appId,sdkVersion:Ti},o={method:"POST",headers:i,body:JSON.stringify(l)},c=await Oi(()=>fetch(s,o));if(c.ok){const u=await c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:_i(u.authToken)}}else throw await Fi("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){return new Promise(a=>{setTimeout(a,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=/^[cdef][\w-]{21}$/,xn="";function Ll(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=Ol(e);return Fl.test(t)?t:xn}catch{return xn}}function Ol(e){return _l(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Map;function qi(e,a){const t=Aa(e);Bi(t,a),zl(t,a)}function Bi(e,a){const t=$i.get(e);if(t)for(const s of t)s(a)}function zl(e,a){const t=$l();t&&t.postMessage({key:e,fid:a}),ql()}let We=null;function $l(){return!We&&"BroadcastChannel"in self&&(We=new BroadcastChannel("[Firebase] FID Change"),We.onmessage=e=>{Bi(e.data.key,e.data.fid)}),We}function ql(){$i.size===0&&We&&(We.close(),We=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="firebase-installations-database",Ul=1,Xe="firebase-installations-store";let Za=null;function Mn(){return Za||(Za=No(Bl,Ul,{upgrade:(e,a)=>{switch(a){case 0:e.createObjectStore(Xe)}}})),Za}async function ia(e,a){const t=Aa(e),i=(await Mn()).transaction(Xe,"readwrite"),r=i.objectStore(Xe),l=await r.get(t);return await r.put(a,t),await i.done,(!l||l.fid!==a.fid)&&qi(e,a.fid),a}async function Ui(e){const a=Aa(e),s=(await Mn()).transaction(Xe,"readwrite");await s.objectStore(Xe).delete(a),await s.done}async function Pa(e,a){const t=Aa(e),i=(await Mn()).transaction(Xe,"readwrite"),r=i.objectStore(Xe),l=await r.get(t),o=a(l);return o===void 0?await r.delete(t):await r.put(o,t),await i.done,o&&(!l||l.fid!==o.fid)&&qi(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _n(e){let a;const t=await Pa(e.appConfig,s=>{const i=Hl(s),r=Wl(e,i);return a=r.registrationPromise,r.installationEntry});return t.fid===xn?{installationEntry:await a}:{installationEntry:t,registrationPromise:a}}function Hl(e){const a=e||{fid:Ll(),registrationStatus:0};return Hi(a)}function Wl(e,a){if(a.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ze.create("app-offline"));return{installationEntry:a,registrationPromise:i}}const t={fid:a.fid,registrationStatus:1,registrationTime:Date.now()},s=Vl(e,t);return{installationEntry:t,registrationPromise:s}}else return a.registrationStatus===1?{installationEntry:a,registrationPromise:Gl(e)}:{installationEntry:a}}async function Vl(e,a){try{const t=await Ml(e,a);return ia(e.appConfig,t)}catch(t){throw Ri(t)&&t.customData.serverCode===409?await Ui(e.appConfig):await ia(e.appConfig,{fid:a.fid,registrationStatus:0}),t}}async function Gl(e){let a=await vs(e.appConfig);for(;a.registrationStatus===1;)await zi(100),a=await vs(e.appConfig);if(a.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await _n(e);return s||t}return a}function vs(e){return Pa(e,a=>{if(!a)throw Ze.create("installation-not-found");return Hi(a)})}function Hi(e){return Kl(e)?{fid:e.fid,registrationStatus:0}:e}function Kl(e){return e.registrationStatus===1&&e.registrationTime+Di<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl({appConfig:e,heartbeatServiceProvider:a},t){const s=Zl(e,t),i=Tl(e,t),r=a.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const l={installation:{sdkVersion:Ti,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(l)},c=await Oi(()=>fetch(s,o));if(c.ok){const u=await c.json();return _i(u)}else throw await Fi("Generate Auth Token",c)}function Zl(e,{fid:a}){return`${Mi(e)}/${a}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fn(e,a=!1){let t;const s=await Pa(e.appConfig,r=>{if(!Wi(r))throw Ze.create("not-registered");const l=r.authToken;if(!a&&Ql(l))return r;if(l.requestStatus===1)return t=Xl(e,a),r;{if(!navigator.onLine)throw Ze.create("app-offline");const o=tc(r);return t=Jl(e,o),o}});return t?await t:s.authToken}async function Xl(e,a){let t=await bs(e.appConfig);for(;t.authToken.requestStatus===1;)await zi(100),t=await bs(e.appConfig);const s=t.authToken;return s.requestStatus===0?Fn(e,a):s}function bs(e){return Pa(e,a=>{if(!Wi(a))throw Ze.create("not-registered");const t=a.authToken;return ac(t)?Object.assign(Object.assign({},a),{authToken:{requestStatus:0}}):a})}async function Jl(e,a){try{const t=await Yl(e,a),s=Object.assign(Object.assign({},a),{authToken:t});return await ia(e.appConfig,s),t}catch(t){if(Ri(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Ui(e.appConfig);else{const s=Object.assign(Object.assign({},a),{authToken:{requestStatus:0}});await ia(e.appConfig,s)}throw t}}function Wi(e){return e!==void 0&&e.registrationStatus===2}function Ql(e){return e.requestStatus===2&&!ec(e)}function ec(e){const a=Date.now();return a<e.creationTime||e.creationTime+e.expiresIn<a+Sl}function tc(e){const a={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:a})}function ac(e){return e.requestStatus===1&&e.requestTime+Di<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(e){const a=e,{installationEntry:t,registrationPromise:s}=await _n(a);return s?s.catch(console.error):Fn(a).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(e,a=!1){const t=e;return await ic(t),(await Fn(t,a)).token}async function ic(e){const{registrationPromise:a}=await _n(e);a&&await a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){if(!e||!e.options)throw Xa("App Configuration");if(!e.name)throw Xa("App Name");const a=["projectId","apiKey","appId"];for(const t of a)if(!e.options[t])throw Xa(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xa(e){return Ze.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="installations",oc="installations-internal",lc=e=>{const a=e.getProvider("app").getImmediate(),t=rc(a),s=Ca(a,"heartbeat");return{app:a,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},cc=e=>{const a=e.getProvider("app").getImmediate(),t=Ca(a,Vi).getImmediate();return{getId:()=>nc(t),getToken:i=>sc(t,i)}};function dc(){Xt(new Jt(Vi,lc,"PUBLIC")),Xt(new Jt(oc,cc,"PRIVATE"))}dc();Zt(Pi,Rn);Zt(Pi,Rn,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="analytics",pc="firebase_id",uc="origin",mc=60*1e3,hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ln="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=new ko("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},we=new gi("analytics","Analytics",fc);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(e){if(!e.startsWith(Ln)){const a=we.create("invalid-gtag-resource",{gtagURL:e});return fe.warn(a.message),""}return e}function Gi(e){return Promise.all(e.map(a=>a.catch(t=>t)))}function xc(e,a){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(e,a)),t}function vc(e,a){const t=xc("firebase-js-sdk-policy",{createScriptURL:gc}),s=document.createElement("script"),i=`${Ln}?l=${e}&id=${a}`;s.src=t?t==null?void 0:t.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function bc(e){let a=[];return Array.isArray(window[e])?a=window[e]:window[e]=a,a}async function wc(e,a,t,s,i,r){const l=s[i];try{if(l)await a[l];else{const c=(await Gi(t)).find(u=>u.measurementId===i);c&&await a[c.appId]}}catch(o){fe.error(o)}e("config",i,r)}async function yc(e,a,t,s,i){try{let r=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const o=await Gi(t);for(const c of l){const u=o.find(f=>f.measurementId===c),g=u&&a[u.appId];if(g)r.push(g);else{r=[];break}}}r.length===0&&(r=Object.values(a)),await Promise.all(r),e("event",s,i||{})}catch(r){fe.error(r)}}function jc(e,a,t,s){async function i(r,...l){try{if(r==="event"){const[o,c]=l;await yc(e,a,t,o,c)}else if(r==="config"){const[o,c]=l;await wc(e,a,t,s,o,c)}else if(r==="consent"){const[o,c]=l;e("consent",o,c)}else if(r==="get"){const[o,c,u]=l;e("get",o,c,u)}else if(r==="set"){const[o]=l;e("set",o)}else e(r,...l)}catch(o){fe.error(o)}}return i}function Nc(e,a,t,s,i){let r=function(...l){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(r=window[i]),window[i]=jc(r,e,a,t),{gtagCore:r,wrappedGtag:window[i]}}function kc(e){const a=window.document.getElementsByTagName("script");for(const t of Object.values(a))if(t.src&&t.src.includes(Ln)&&t.src.includes(e))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=30,Ec=1e3;class Sc{constructor(a={},t=Ec){this.throttleMetadata=a,this.intervalMillis=t}getThrottleMetadata(a){return this.throttleMetadata[a]}setThrottleMetadata(a,t){this.throttleMetadata[a]=t}deleteThrottleMetadata(a){delete this.throttleMetadata[a]}}const Ki=new Sc;function Ac(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Pc(e){var a;const{appId:t,apiKey:s}=e,i={method:"GET",headers:Ac(s)},r=hc.replace("{app-id}",t),l=await fetch(r,i);if(l.status!==200&&l.status!==304){let o="";try{const c=await l.json();!((a=c.error)===null||a===void 0)&&a.message&&(o=c.error.message)}catch{}throw we.create("config-fetch-failed",{httpStatus:l.status,responseMessage:o})}return l.json()}async function Dc(e,a=Ki,t){const{appId:s,apiKey:i,measurementId:r}=e.options;if(!s)throw we.create("no-app-id");if(!i){if(r)return{measurementId:r,appId:s};throw we.create("no-api-key")}const l=a.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Rc;return setTimeout(async()=>{o.abort()},mc),Yi({appId:s,apiKey:i,measurementId:r},l,o,a)}async function Yi(e,{throttleEndTimeMillis:a,backoffCount:t},s,i=Ki){var r;const{appId:l,measurementId:o}=e;try{await Tc(s,a)}catch(c){if(o)return fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:l,measurementId:o};throw c}try{const c=await Pc(e);return i.deleteThrottleMetadata(l),c}catch(c){const u=c;if(!Ic(u)){if(i.deleteThrottleMetadata(l),o)return fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:l,measurementId:o};throw c}const g=Number((r=u==null?void 0:u.customData)===null||r===void 0?void 0:r.httpStatus)===503?cs(t,i.intervalMillis,Cc):cs(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return i.setThrottleMetadata(l,f),fe.debug(`Calling attemptFetch again in ${g} millis`),Yi(e,f,s,i)}}function Tc(e,a){return new Promise((t,s)=>{const i=Math.max(a-Date.now(),0),r=setTimeout(t,i);e.addEventListener(()=>{clearTimeout(r),s(we.create("fetch-throttle",{throttleEndTimeMillis:a}))})})}function Ic(e){if(!(e instanceof Qt)||!e.customData)return!1;const a=Number(e.customData.httpStatus);return a===429||a===500||a===503||a===504}class Rc{constructor(){this.listeners=[]}addEventListener(a){this.listeners.push(a)}abort(){this.listeners.forEach(a=>a())}}async function Mc(e,a,t,s,i){if(i&&i.global){e("event",t,s);return}else{const r=await a,l=Object.assign(Object.assign({},s),{send_to:r});e("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(){if(Eo())try{await So()}catch(e){return fe.warn(we.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return fe.warn(we.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fc(e,a,t,s,i,r,l){var o;const c=Dc(e);c.then(x=>{t[x.measurementId]=x.appId,e.options.measurementId&&x.measurementId!==e.options.measurementId&&fe.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fe.error(x)),a.push(c);const u=_c().then(x=>{if(x)return s.getId()}),[g,f]=await Promise.all([c,u]);kc(r)||vc(r,g.measurementId),i("js",new Date);const v=(o=l==null?void 0:l.config)!==null&&o!==void 0?o:{};return v[uc]="firebase",v.update=!0,f!=null&&(v[pc]=f),i("config",g.measurementId,v),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(a){this.app=a}_delete(){return delete Et[this.app.options.appId],Promise.resolve()}}let Et={},ws=[];const ys={};let Ja="dataLayer",Oc="gtag",js,Zi,Ns=!1;function zc(){const e=[];if(Co()&&e.push("This is a browser extension environment."),Do()||e.push("Cookies are not available."),e.length>0){const a=e.map((s,i)=>`(${i+1}) ${s}`).join(" "),t=we.create("invalid-analytics-context",{errorInfo:a});fe.warn(t.message)}}function $c(e,a,t){zc();const s=e.options.appId;if(!s)throw we.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw we.create("no-api-key");if(Et[s]!=null)throw we.create("already-exists",{id:s});if(!Ns){bc(Ja);const{wrappedGtag:r,gtagCore:l}=Nc(Et,ws,ys,Ja,Oc);Zi=r,js=l,Ns=!0}return Et[s]=Fc(e,ws,ys,a,js,Ja,t),new Lc(e)}function qc(e=Ao()){e=xi(e);const a=Ca(e,ra);return a.isInitialized()?a.getImmediate():Bc(e)}function Bc(e,a={}){const t=Ca(e,ra);if(t.isInitialized()){const i=t.getImmediate();if(Po(a,t.getOptions()))return i;throw we.create("already-initialized")}return t.initialize({options:a})}function Uc(e,a,t,s){e=xi(e),Mc(Zi,Et[e.app.options.appId],a,t,s).catch(i=>fe.error(i))}const ks="@firebase/analytics",Cs="0.10.8";function Hc(){Xt(new Jt(ra,(a,{options:t})=>{const s=a.getProvider("app").getImmediate(),i=a.getProvider("installations-internal").getImmediate();return $c(s,i,t)},"PUBLIC")),Xt(new Jt("analytics-internal",e,"PRIVATE")),Zt(ks,Cs),Zt(ks,Cs,"esm2017");function e(a){try{const t=a.getProvider(ra).getImmediate();return{logEvent:(s,i,r)=>Uc(t,s,i,r)}}catch(t){throw we.create("interop-component-reg-failed",{reason:t})}}}Hc();/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function Xi(e,a,t){if(typeof e=="function"?e===a:e.has(a))return arguments.length<3?a:t;throw new TypeError("Private element is not present on this object")}function Wc(e,a){if(a.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Es(e,a){return e.get(Xi(e,a))}function Vc(e,a,t){Wc(e,a),a.set(e,t)}function Gc(e,a,t){return e.set(Xi(e,a),t),t}const Kc=100,D={},Yc=()=>{D.previousActiveElement instanceof HTMLElement?(D.previousActiveElement.focus(),D.previousActiveElement=null):document.body&&document.body.focus()},Zc=e=>new Promise(a=>{if(!e)return a();const t=window.scrollX,s=window.scrollY;D.restoreFocusTimeout=setTimeout(()=>{Yc(),a()},Kc),window.scrollTo(t,s)}),Ji="swal2-",Xc=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],b=Xc.reduce((e,a)=>(e[a]=Ji+a,e),{}),Jc=["success","warning","info","question","error"],oa=Jc.reduce((e,a)=>(e[a]=Ji+a,e),{}),Qi="SweetAlert2:",On=e=>e.charAt(0).toUpperCase()+e.slice(1),me=e=>{console.warn(`${Qi} ${typeof e=="object"?e.join(" "):e}`)},et=e=>{console.error(`${Qi} ${e}`)},Ss=[],Qc=e=>{Ss.includes(e)||(Ss.push(e),me(e))},er=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Qc(`"${e}" is deprecated and will be removed in the next major release.${a?` Use "${a}" instead.`:""}`)},Da=e=>typeof e=="function"?e():e,zn=e=>e&&typeof e.toPromise=="function",Pt=e=>zn(e)?e.toPromise():Promise.resolve(e),$n=e=>e&&Promise.resolve(e)===e,he=()=>document.body.querySelector(`.${b.container}`),Dt=e=>{const a=he();return a?a.querySelector(e):null},Ne=e=>Dt(`.${e}`),z=()=>Ne(b.popup),vt=()=>Ne(b.icon),ed=()=>Ne(b["icon-content"]),tr=()=>Ne(b.title),qn=()=>Ne(b["html-container"]),ar=()=>Ne(b.image),Bn=()=>Ne(b["progress-steps"]),Ta=()=>Ne(b["validation-message"]),De=()=>Dt(`.${b.actions} .${b.confirm}`),bt=()=>Dt(`.${b.actions} .${b.cancel}`),tt=()=>Dt(`.${b.actions} .${b.deny}`),td=()=>Ne(b["input-label"]),wt=()=>Dt(`.${b.loader}`),Tt=()=>Ne(b.actions),nr=()=>Ne(b.footer),Ia=()=>Ne(b["timer-progress-bar"]),Un=()=>Ne(b.close),ad=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Hn=()=>{const e=z();if(!e)return[];const a=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(a).sort((r,l)=>{const o=parseInt(r.getAttribute("tabindex")||"0"),c=parseInt(l.getAttribute("tabindex")||"0");return o>c?1:o<c?-1:0}),s=e.querySelectorAll(ad),i=Array.from(s).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(i))].filter(r=>ge(r))},Wn=()=>Ie(document.body,b.shown)&&!Ie(document.body,b["toast-shown"])&&!Ie(document.body,b["no-backdrop"]),Ra=()=>{const e=z();return e?Ie(e,b.toast):!1},nd=()=>{const e=z();return e?e.hasAttribute("data-loading"):!1},ke=(e,a)=>{if(e.textContent="",a){const s=new DOMParser().parseFromString(a,"text/html"),i=s.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{e.appendChild(l)});const r=s.querySelector("body");r&&Array.from(r.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?e.appendChild(l.cloneNode(!0)):e.appendChild(l)})}},Ie=(e,a)=>{if(!a)return!1;const t=a.split(/\s+/);for(let s=0;s<t.length;s++)if(!e.classList.contains(t[s]))return!1;return!0},sd=(e,a)=>{Array.from(e.classList).forEach(t=>{!Object.values(b).includes(t)&&!Object.values(oa).includes(t)&&!Object.values(a.showClass||{}).includes(t)&&e.classList.remove(t)})},ye=(e,a,t)=>{if(sd(e,a),!a.customClass)return;const s=a.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){me(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}L(e,s)}},Ma=(e,a)=>{if(!a)return null;switch(a){case"select":case"textarea":case"file":return e.querySelector(`.${b.popup} > .${b[a]}`);case"checkbox":return e.querySelector(`.${b.popup} > .${b.checkbox} input`);case"radio":return e.querySelector(`.${b.popup} > .${b.radio} input:checked`)||e.querySelector(`.${b.popup} > .${b.radio} input:first-child`);case"range":return e.querySelector(`.${b.popup} > .${b.range} input`);default:return e.querySelector(`.${b.popup} > .${b.input}`)}},sr=e=>{if(e.focus(),e.type!=="file"){const a=e.value;e.value="",e.value=a}},ir=(e,a,t)=>{!e||!a||(typeof a=="string"&&(a=a.split(/\s+/).filter(Boolean)),a.forEach(s=>{Array.isArray(e)?e.forEach(i=>{t?i.classList.add(s):i.classList.remove(s)}):t?e.classList.add(s):e.classList.remove(s)}))},L=(e,a)=>{ir(e,a,!0)},Se=(e,a)=>{ir(e,a,!1)},_e=(e,a)=>{const t=Array.from(e.children);for(let s=0;s<t.length;s++){const i=t[s];if(i instanceof HTMLElement&&Ie(i,a))return i}},Ge=(e,a,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?e.style.setProperty(a,typeof t=="number"?`${t}px`:t):e.style.removeProperty(a)},se=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";e&&(e.style.display=a)},ce=e=>{e&&(e.style.display="none")},Vn=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";e&&new MutationObserver(()=>{It(e,e.innerHTML,a)}).observe(e,{childList:!0,subtree:!0})},As=(e,a,t,s)=>{const i=e.querySelector(a);i&&i.style.setProperty(t,s)},It=function(e,a){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";a?se(e,t):ce(e)},ge=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),id=()=>!ge(De())&&!ge(tt())&&!ge(bt()),Ps=e=>e.scrollHeight>e.clientHeight,rr=e=>{const a=window.getComputedStyle(e),t=parseFloat(a.getPropertyValue("animation-duration")||"0"),s=parseFloat(a.getPropertyValue("transition-duration")||"0");return t>0||s>0},Gn=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Ia();t&&ge(t)&&(a&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${e/1e3}s linear`,t.style.width="0%"},10))},rd=()=>{const e=Ia();if(!e)return;const a=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const t=parseInt(window.getComputedStyle(e).width),s=a/t*100;e.style.width=`${s}%`},od=()=>typeof window>"u"||typeof document>"u",ld=`
 <div aria-labelledby="${b.title}" aria-describedby="${b["html-container"]}" class="${b.popup}" tabindex="-1">
   <button type="button" class="${b.close}"></button>
   <ul class="${b["progress-steps"]}"></ul>
   <div class="${b.icon}"></div>
   <img class="${b.image}" />
   <h2 class="${b.title}" id="${b.title}"></h2>
   <div class="${b["html-container"]}" id="${b["html-container"]}"></div>
   <input class="${b.input}" id="${b.input}" />
   <input type="file" class="${b.file}" />
   <div class="${b.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${b.select}" id="${b.select}"></select>
   <div class="${b.radio}"></div>
   <label class="${b.checkbox}">
     <input type="checkbox" id="${b.checkbox}" />
     <span class="${b.label}"></span>
   </label>
   <textarea class="${b.textarea}" id="${b.textarea}"></textarea>
   <div class="${b["validation-message"]}" id="${b["validation-message"]}"></div>
   <div class="${b.actions}">
     <div class="${b.loader}"></div>
     <button type="button" class="${b.confirm}"></button>
     <button type="button" class="${b.deny}"></button>
     <button type="button" class="${b.cancel}"></button>
   </div>
   <div class="${b.footer}"></div>
   <div class="${b["timer-progress-bar-container"]}">
     <div class="${b["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),cd=()=>{const e=he();return e?(e.remove(),Se([document.documentElement,document.body],[b["no-backdrop"],b["toast-shown"],b["has-column"]]),!0):!1},qe=()=>{D.currentInstance.resetValidationMessage()},dd=()=>{const e=z(),a=_e(e,b.input),t=_e(e,b.file),s=e.querySelector(`.${b.range} input`),i=e.querySelector(`.${b.range} output`),r=_e(e,b.select),l=e.querySelector(`.${b.checkbox} input`),o=_e(e,b.textarea);a.oninput=qe,t.onchange=qe,r.onchange=qe,l.onchange=qe,o.oninput=qe,s.oninput=()=>{qe(),i.value=s.value},s.onchange=()=>{qe(),i.value=s.value}},pd=e=>typeof e=="string"?document.querySelector(e):e,ud=e=>{const a=z();a.setAttribute("role",e.toast?"alert":"dialog"),a.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||a.setAttribute("aria-modal","true")},md=e=>{window.getComputedStyle(e).direction==="rtl"&&L(he(),b.rtl)},hd=e=>{const a=cd();if(od()){et("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=b.container,a&&L(t,b["no-transition"]),ke(t,ld),t.dataset.swal2Theme=e.theme;const s=pd(e.target);s.appendChild(t),ud(e),md(s),dd()},Kn=(e,a)=>{e instanceof HTMLElement?a.appendChild(e):typeof e=="object"?fd(e,a):e&&ke(a,e)},fd=(e,a)=>{e.jquery?gd(a,e):ke(a,e.toString())},gd=(e,a)=>{if(e.textContent="",0 in a)for(let t=0;t in a;t++)e.appendChild(a[t].cloneNode(!0));else e.appendChild(a.cloneNode(!0))},xd=(e,a)=>{const t=Tt(),s=wt();!t||!s||(!a.showConfirmButton&&!a.showDenyButton&&!a.showCancelButton?ce(t):se(t),ye(t,a,"actions"),vd(t,s,a),ke(s,a.loaderHtml||""),ye(s,a,"loader"))};function vd(e,a,t){const s=De(),i=tt(),r=bt();!s||!i||!r||(Qa(s,"confirm",t),Qa(i,"deny",t),Qa(r,"cancel",t),bd(s,i,r,t),t.reverseButtons&&(t.toast?(e.insertBefore(r,s),e.insertBefore(i,s)):(e.insertBefore(r,a),e.insertBefore(i,a),e.insertBefore(s,a))))}function bd(e,a,t,s){if(!s.buttonsStyling){Se([e,a,t],b.styled);return}L([e,a,t],b.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,L(e,b["default-outline"])),s.denyButtonColor&&(a.style.backgroundColor=s.denyButtonColor,L(a,b["default-outline"])),s.cancelButtonColor&&(t.style.backgroundColor=s.cancelButtonColor,L(t,b["default-outline"]))}function Qa(e,a,t){const s=On(a);It(e,t[`show${s}Button`],"inline-block"),ke(e,t[`${a}ButtonText`]||""),e.setAttribute("aria-label",t[`${a}ButtonAriaLabel`]||""),e.className=b[a],ye(e,t,`${a}Button`)}const wd=(e,a)=>{const t=Un();t&&(ke(t,a.closeButtonHtml||""),ye(t,a,"closeButton"),It(t,a.showCloseButton),t.setAttribute("aria-label",a.closeButtonAriaLabel||""))},yd=(e,a)=>{const t=he();t&&(jd(t,a.backdrop),Nd(t,a.position),kd(t,a.grow),ye(t,a,"container"))};function jd(e,a){typeof a=="string"?e.style.background=a:a||L([document.documentElement,document.body],b["no-backdrop"])}function Nd(e,a){a&&(a in b?L(e,b[a]):(me('The "position" parameter is not valid, defaulting to "center"'),L(e,b.center)))}function kd(e,a){a&&L(e,b[`grow-${a}`])}var U={innerParams:new WeakMap,domCache:new WeakMap};const Cd=["input","file","range","select","radio","checkbox","textarea"],Ed=(e,a)=>{const t=z();if(!t)return;const s=U.innerParams.get(e),i=!s||a.input!==s.input;Cd.forEach(r=>{const l=_e(t,b[r]);l&&(Pd(r,a.inputAttributes),l.className=b[r],i&&ce(l))}),a.input&&(i&&Sd(a),Dd(a))},Sd=e=>{if(!e.input)return;if(!G[e.input]){et(`Unexpected type of input! Expected ${Object.keys(G).join(" | ")}, got "${e.input}"`);return}const a=or(e.input);if(!a)return;const t=G[e.input](a,e);se(a),e.inputAutoFocus&&setTimeout(()=>{sr(t)})},Ad=e=>{for(let a=0;a<e.attributes.length;a++){const t=e.attributes[a].name;["id","type","value","style"].includes(t)||e.removeAttribute(t)}},Pd=(e,a)=>{const t=z();if(!t)return;const s=Ma(t,e);if(s){Ad(s);for(const i in a)s.setAttribute(i,a[i])}},Dd=e=>{if(!e.input)return;const a=or(e.input);a&&ye(a,e,"input")},Yn=(e,a)=>{!e.placeholder&&a.inputPlaceholder&&(e.placeholder=a.inputPlaceholder)},Rt=(e,a,t)=>{if(t.inputLabel){const s=document.createElement("label"),i=b["input-label"];s.setAttribute("for",e.id),s.className=i,typeof t.customClass=="object"&&L(s,t.customClass.inputLabel),s.innerText=t.inputLabel,a.insertAdjacentElement("beforebegin",s)}},or=e=>{const a=z();if(a)return _e(a,b[e]||b.input)},la=(e,a)=>{["string","number"].includes(typeof a)?e.value=`${a}`:$n(a)||me(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof a}"`)},G={};G.text=G.email=G.password=G.number=G.tel=G.url=G.search=G.date=G["datetime-local"]=G.time=G.week=G.month=(e,a)=>(la(e,a.inputValue),Rt(e,e,a),Yn(e,a),e.type=a.input,e);G.file=(e,a)=>(Rt(e,e,a),Yn(e,a),e);G.range=(e,a)=>{const t=e.querySelector("input"),s=e.querySelector("output");return la(t,a.inputValue),t.type=a.input,la(s,a.inputValue),Rt(t,e,a),e};G.select=(e,a)=>{if(e.textContent="",a.inputPlaceholder){const t=document.createElement("option");ke(t,a.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,e.appendChild(t)}return Rt(e,e,a),e};G.radio=e=>(e.textContent="",e);G.checkbox=(e,a)=>{const t=Ma(z(),"checkbox");t.value="1",t.checked=!!a.inputValue;const s=e.querySelector("span");return ke(s,a.inputPlaceholder||a.inputLabel),t};G.textarea=(e,a)=>{la(e,a.inputValue),Yn(e,a),Rt(e,e,a);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(z()).width),i=()=>{if(!document.body.contains(e))return;const r=e.offsetWidth+t(e);r>s?z().style.width=`${r}px`:Ge(z(),"width",a.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Td=(e,a)=>{const t=qn();t&&(Vn(t),ye(t,a,"htmlContainer"),a.html?(Kn(a.html,t),se(t,"block")):a.text?(t.textContent=a.text,se(t,"block")):ce(t),Ed(e,a))},Id=(e,a)=>{const t=nr();t&&(Vn(t),It(t,a.footer,"block"),a.footer&&Kn(a.footer,t),ye(t,a,"footer"))},Rd=(e,a)=>{const t=U.innerParams.get(e),s=vt();if(!s)return;if(t&&a.icon===t.icon){Ts(s,a),Ds(s,a);return}if(!a.icon&&!a.iconHtml){ce(s);return}if(a.icon&&Object.keys(oa).indexOf(a.icon)===-1){et(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${a.icon}"`),ce(s);return}se(s),Ts(s,a),Ds(s,a),L(s,a.showClass&&a.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",lr)},Ds=(e,a)=>{for(const[t,s]of Object.entries(oa))a.icon!==t&&Se(e,s);L(e,a.icon&&oa[a.icon]),Fd(e,a),lr(),ye(e,a,"icon")},lr=()=>{const e=z();if(!e)return;const a=window.getComputedStyle(e).getPropertyValue("background-color"),t=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=a},Md=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,_d=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ts=(e,a)=>{if(!a.icon&&!a.iconHtml)return;let t=e.innerHTML,s="";a.iconHtml?s=Is(a.iconHtml):a.icon==="success"?(s=Md,t=t.replace(/ style=".*?"/g,"")):a.icon==="error"?s=_d:a.icon&&(s=Is({question:"?",warning:"!",info:"i"}[a.icon])),t.trim()!==s.trim()&&ke(e,s)},Fd=(e,a)=>{if(a.iconColor){e.style.color=a.iconColor,e.style.borderColor=a.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])As(e,t,"background-color",a.iconColor);As(e,".swal2-success-ring","border-color",a.iconColor)}},Is=e=>`<div class="${b["icon-content"]}">${e}</div>`,Ld=(e,a)=>{const t=ar();if(t){if(!a.imageUrl){ce(t);return}se(t,""),t.setAttribute("src",a.imageUrl),t.setAttribute("alt",a.imageAlt||""),Ge(t,"width",a.imageWidth),Ge(t,"height",a.imageHeight),t.className=b.image,ye(t,a,"image")}};let Zn=!1,cr=0,dr=0,pr=0,ur=0;const Od=e=>{e.addEventListener("mousedown",ca),document.body.addEventListener("mousemove",da),e.addEventListener("mouseup",pa),e.addEventListener("touchstart",ca),document.body.addEventListener("touchmove",da),e.addEventListener("touchend",pa)},zd=e=>{e.removeEventListener("mousedown",ca),document.body.removeEventListener("mousemove",da),e.removeEventListener("mouseup",pa),e.removeEventListener("touchstart",ca),document.body.removeEventListener("touchmove",da),e.removeEventListener("touchend",pa)},ca=e=>{const a=z();if(e.target===a||vt().contains(e.target)){Zn=!0;const t=mr(e);cr=t.clientX,dr=t.clientY,pr=parseInt(a.style.insetInlineStart)||0,ur=parseInt(a.style.insetBlockStart)||0,L(a,"swal2-dragging")}},da=e=>{const a=z();if(Zn){let{clientX:t,clientY:s}=mr(e);a.style.insetInlineStart=`${pr+(t-cr)}px`,a.style.insetBlockStart=`${ur+(s-dr)}px`}},pa=()=>{const e=z();Zn=!1,Se(e,"swal2-dragging")},mr=e=>{let a=0,t=0;return e.type.startsWith("mouse")?(a=e.clientX,t=e.clientY):e.type.startsWith("touch")&&(a=e.touches[0].clientX,t=e.touches[0].clientY),{clientX:a,clientY:t}},$d=(e,a)=>{const t=he(),s=z();if(!(!t||!s)){if(a.toast){Ge(t,"width",a.width),s.style.width="100%";const i=wt();i&&s.insertBefore(i,vt())}else Ge(s,"width",a.width);Ge(s,"padding",a.padding),a.color&&(s.style.color=a.color),a.background&&(s.style.background=a.background),ce(Ta()),qd(s,a),a.draggable&&!a.toast?(L(s,b.draggable),Od(s)):(Se(s,b.draggable),zd(s))}},qd=(e,a)=>{const t=a.showClass||{};e.className=`${b.popup} ${ge(e)?t.popup:""}`,a.toast?(L([document.documentElement,document.body],b["toast-shown"]),L(e,b.toast)):L(e,b.modal),ye(e,a,"popup"),typeof a.customClass=="string"&&L(e,a.customClass),a.icon&&L(e,b[`icon-${a.icon}`])},Bd=(e,a)=>{const t=Bn();if(!t)return;const{progressSteps:s,currentProgressStep:i}=a;if(!s||s.length===0||i===void 0){ce(t);return}se(t),t.textContent="",i>=s.length&&me("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((r,l)=>{const o=Ud(r);if(t.appendChild(o),l===i&&L(o,b["active-progress-step"]),l!==s.length-1){const c=Hd(a);t.appendChild(c)}})},Ud=e=>{const a=document.createElement("li");return L(a,b["progress-step"]),ke(a,e),a},Hd=e=>{const a=document.createElement("li");return L(a,b["progress-step-line"]),e.progressStepsDistance&&Ge(a,"width",e.progressStepsDistance),a},Wd=(e,a)=>{const t=tr();t&&(Vn(t),It(t,a.title||a.titleText,"block"),a.title&&Kn(a.title,t),a.titleText&&(t.innerText=a.titleText),ye(t,a,"title"))},hr=(e,a)=>{$d(e,a),yd(e,a),Bd(e,a),Rd(e,a),Ld(e,a),Wd(e,a),wd(e,a),Td(e,a),xd(e,a),Id(e,a);const t=z();typeof a.didRender=="function"&&t&&a.didRender(t),D.eventEmitter.emit("didRender",t)},Vd=()=>ge(z()),fr=()=>{var e;return(e=De())===null||e===void 0?void 0:e.click()},Gd=()=>{var e;return(e=tt())===null||e===void 0?void 0:e.click()},Kd=()=>{var e;return(e=bt())===null||e===void 0?void 0:e.click()},yt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gr=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Yd=(e,a,t)=>{gr(e),a.toast||(e.keydownHandler=s=>Xd(a,s,t),e.keydownTarget=a.keydownListenerCapture?window:z(),e.keydownListenerCapture=a.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},vn=(e,a)=>{var t;const s=Hn();if(s.length){e=e+a,e===s.length?e=0:e===-1&&(e=s.length-1),s[e].focus();return}(t=z())===null||t===void 0||t.focus()},xr=["ArrowRight","ArrowDown"],Zd=["ArrowLeft","ArrowUp"],Xd=(e,a,t)=>{e&&(a.isComposing||a.keyCode===229||(e.stopKeydownPropagation&&a.stopPropagation(),a.key==="Enter"?Jd(a,e):a.key==="Tab"?Qd(a):[...xr,...Zd].includes(a.key)?ep(a.key):a.key==="Escape"&&tp(a,e,t)))},Jd=(e,a)=>{if(!Da(a.allowEnterKey))return;const t=Ma(z(),a.input);if(e.target&&t&&e.target instanceof HTMLElement&&e.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(a.input))return;fr(),e.preventDefault()}},Qd=e=>{const a=e.target,t=Hn();let s=-1;for(let i=0;i<t.length;i++)if(a===t[i]){s=i;break}e.shiftKey?vn(s,-1):vn(s,1),e.stopPropagation(),e.preventDefault()},ep=e=>{const a=Tt(),t=De(),s=tt(),i=bt();if(!a||!t||!s||!i)return;const r=[t,s,i];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const l=xr.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let c=0;c<a.children.length;c++){if(o=o[l],!o)return;if(o instanceof HTMLButtonElement&&ge(o))break}o instanceof HTMLButtonElement&&o.focus()}},tp=(e,a,t)=>{Da(a.allowEscapeKey)&&(e.preventDefault(),t(yt.esc))};var ut={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ap=()=>{const e=he();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},vr=()=>{Array.from(document.body.children).forEach(a=>{a.hasAttribute("data-previous-aria-hidden")?(a.setAttribute("aria-hidden",a.getAttribute("data-previous-aria-hidden")||""),a.removeAttribute("data-previous-aria-hidden")):a.removeAttribute("aria-hidden")})},br=typeof window<"u"&&!!window.GestureEvent,np=()=>{if(br&&!Ie(document.body,b.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,L(document.body,b.iosfix),sp()}},sp=()=>{const e=he();if(!e)return;let a;e.ontouchstart=t=>{a=ip(t)},e.ontouchmove=t=>{a&&(t.preventDefault(),t.stopPropagation())}},ip=e=>{const a=e.target,t=he(),s=qn();return!t||!s||rp(e)||op(e)?!1:a===t||!Ps(t)&&a instanceof HTMLElement&&a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!(Ps(s)&&s.contains(a))},rp=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",op=e=>e.touches&&e.touches.length>1,lp=()=>{if(Ie(document.body,b.iosfix)){const e=parseInt(document.body.style.top,10);Se(document.body,b.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},cp=()=>{const e=document.createElement("div");e.className=b["scrollbar-measure"],document.body.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),a};let ot=null;const dp=e=>{ot===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(ot=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ot+cp()}px`)},pp=()=>{ot!==null&&(document.body.style.paddingRight=`${ot}px`,ot=null)};function wr(e,a,t,s){Ra()?Rs(e,s):(Zc(t).then(()=>Rs(e,s)),gr(D)),br?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),Wn()&&(pp(),lp(),vr()),up()}function up(){Se([document.documentElement,document.body],[b.shown,b["height-auto"],b["no-backdrop"],b["toast-shown"]])}function Fe(e){e=hp(e);const a=ut.swalPromiseResolve.get(this),t=mp(this);this.isAwaitingPromise?e.isDismissed||(Mt(this),a(e)):t&&a(e)}const mp=e=>{const a=z();if(!a)return!1;const t=U.innerParams.get(e);if(!t||Ie(a,t.hideClass.popup))return!1;Se(a,t.showClass.popup),L(a,t.hideClass.popup);const s=he();return Se(s,t.showClass.backdrop),L(s,t.hideClass.backdrop),fp(e,a,t),!0};function yr(e){const a=ut.swalPromiseReject.get(this);Mt(this),a&&a(e)}const Mt=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,U.innerParams.get(e)||e._destroy())},hp=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),fp=(e,a,t)=>{var s;const i=he(),r=rr(a);typeof t.willClose=="function"&&t.willClose(a),(s=D.eventEmitter)===null||s===void 0||s.emit("willClose",a),r?gp(e,a,i,t.returnFocus,t.didClose):wr(e,i,t.returnFocus,t.didClose)},gp=(e,a,t,s,i)=>{D.swalCloseEventFinishedCallback=wr.bind(null,e,t,s,i);const r=function(l){if(l.target===a){var o;(o=D.swalCloseEventFinishedCallback)===null||o===void 0||o.call(D),delete D.swalCloseEventFinishedCallback,a.removeEventListener("animationend",r),a.removeEventListener("transitionend",r)}};a.addEventListener("animationend",r),a.addEventListener("transitionend",r)},Rs=(e,a)=>{setTimeout(()=>{var t;typeof a=="function"&&a.bind(e.params)(),(t=D.eventEmitter)===null||t===void 0||t.emit("didClose"),e._destroy&&e._destroy()})},mt=e=>{let a=z();if(a||new ga,a=z(),!a)return;const t=wt();Ra()?ce(vt()):xp(a,e),se(t),a.setAttribute("data-loading","true"),a.setAttribute("aria-busy","true"),a.focus()},xp=(e,a)=>{const t=Tt(),s=wt();!t||!s||(!a&&ge(De())&&(a=De()),se(t),a&&(ce(a),s.setAttribute("data-button-to-replace",a.className),t.insertBefore(s,a)),L([e,t],b.loading))},vp=(e,a)=>{a.input==="select"||a.input==="radio"?Np(e,a):["text","email","number","tel","textarea"].some(t=>t===a.input)&&(zn(a.inputValue)||$n(a.inputValue))&&(mt(De()),kp(e,a))},bp=(e,a)=>{const t=e.getInput();if(!t)return null;switch(a.input){case"checkbox":return wp(t);case"radio":return yp(t);case"file":return jp(t);default:return a.inputAutoTrim?t.value.trim():t.value}},wp=e=>e.checked?1:0,yp=e=>e.checked?e.value:null,jp=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Np=(e,a)=>{const t=z();if(!t)return;const s=i=>{a.input==="select"?Cp(t,ua(i),a):a.input==="radio"&&Ep(t,ua(i),a)};zn(a.inputOptions)||$n(a.inputOptions)?(mt(De()),Pt(a.inputOptions).then(i=>{e.hideLoading(),s(i)})):typeof a.inputOptions=="object"?s(a.inputOptions):et(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof a.inputOptions}`)},kp=(e,a)=>{const t=e.getInput();t&&(ce(t),Pt(a.inputValue).then(s=>{t.value=a.input==="number"?`${parseFloat(s)||0}`:`${s}`,se(t),t.focus(),e.hideLoading()}).catch(s=>{et(`Error in inputValue promise: ${s}`),t.value="",se(t),t.focus(),e.hideLoading()}))};function Cp(e,a,t){const s=_e(e,b.select);if(!s)return;const i=(r,l,o)=>{const c=document.createElement("option");c.value=o,ke(c,l),c.selected=jr(o,t.inputValue),r.appendChild(c)};a.forEach(r=>{const l=r[0],o=r[1];if(Array.isArray(o)){const c=document.createElement("optgroup");c.label=l,c.disabled=!1,s.appendChild(c),o.forEach(u=>i(c,u[1],u[0]))}else i(s,o,l)}),s.focus()}function Ep(e,a,t){const s=_e(e,b.radio);if(!s)return;a.forEach(r=>{const l=r[0],o=r[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=b.radio,c.value=l,jr(l,t.inputValue)&&(c.checked=!0);const g=document.createElement("span");ke(g,o),g.className=b.label,u.appendChild(c),u.appendChild(g),s.appendChild(u)});const i=s.querySelectorAll("input");i.length&&i[0].focus()}const ua=e=>{const a=[];return e instanceof Map?e.forEach((t,s)=>{let i=t;typeof i=="object"&&(i=ua(i)),a.push([s,i])}):Object.keys(e).forEach(t=>{let s=e[t];typeof s=="object"&&(s=ua(s)),a.push([t,s])}),a},jr=(e,a)=>!!a&&a.toString()===e.toString(),Sp=e=>{const a=U.innerParams.get(e);e.disableButtons(),a.input?Nr(e,"confirm"):Jn(e,!0)},Ap=e=>{const a=U.innerParams.get(e);e.disableButtons(),a.returnInputValueOnDeny?Nr(e,"deny"):Xn(e,!1)},Pp=(e,a)=>{e.disableButtons(),a(yt.cancel)},Nr=(e,a)=>{const t=U.innerParams.get(e);if(!t.input){et(`The "input" parameter is needed to be set when using returnInputValueOn${On(a)}`);return}const s=e.getInput(),i=bp(e,t);t.inputValidator?Dp(e,i,a):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(t.validationMessage||s.validationMessage)):a==="deny"?Xn(e,i):Jn(e,i)},Dp=(e,a,t)=>{const s=U.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Pt(s.inputValidator(a,s.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):t==="deny"?Xn(e,a):Jn(e,a)})},Xn=(e,a)=>{const t=U.innerParams.get(e||void 0);t.showLoaderOnDeny&&mt(tt()),t.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Pt(t.preDeny(a,t.validationMessage))).then(i=>{i===!1?(e.hideLoading(),Mt(e)):e.close({isDenied:!0,value:typeof i>"u"?a:i})}).catch(i=>kr(e||void 0,i))):e.close({isDenied:!0,value:a})},Ms=(e,a)=>{e.close({isConfirmed:!0,value:a})},kr=(e,a)=>{e.rejectPromise(a)},Jn=(e,a)=>{const t=U.innerParams.get(e||void 0);t.showLoaderOnConfirm&&mt(),t.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Pt(t.preConfirm(a,t.validationMessage))).then(i=>{ge(Ta())||i===!1?(e.hideLoading(),Mt(e)):Ms(e,typeof i>"u"?a:i)}).catch(i=>kr(e||void 0,i))):Ms(e,a)};function ma(){const e=U.innerParams.get(this);if(!e)return;const a=U.domCache.get(this);ce(a.loader),Ra()?e.icon&&se(vt()):Tp(a),Se([a.popup,a.actions],b.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}const Tp=e=>{const a=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));a.length?se(a[0],"inline-block"):id()&&ce(e.actions)};function Cr(){const e=U.innerParams.get(this),a=U.domCache.get(this);return a?Ma(a.popup,e.input):null}function Er(e,a,t){const s=U.domCache.get(e);a.forEach(i=>{s[i].disabled=t})}function Sr(e,a){const t=z();if(!(!t||!e))if(e.type==="radio"){const s=t.querySelectorAll(`[name="${b.radio}"]`);for(let i=0;i<s.length;i++)s[i].disabled=a}else e.disabled=a}function Ar(){Er(this,["confirmButton","denyButton","cancelButton"],!1)}function Pr(){Er(this,["confirmButton","denyButton","cancelButton"],!0)}function Dr(){Sr(this.getInput(),!1)}function Tr(){Sr(this.getInput(),!0)}function Ir(e){const a=U.domCache.get(this),t=U.innerParams.get(this);ke(a.validationMessage,e),a.validationMessage.className=b["validation-message"],t.customClass&&t.customClass.validationMessage&&L(a.validationMessage,t.customClass.validationMessage),se(a.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",b["validation-message"]),sr(s),L(s,b.inputerror))}function Rr(){const e=U.domCache.get(this);e.validationMessage&&ce(e.validationMessage);const a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),Se(a,b.inputerror))}const lt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ip=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Rp={allowEnterKey:void 0},Mp=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mr=e=>Object.prototype.hasOwnProperty.call(lt,e),_r=e=>Ip.indexOf(e)!==-1,Fr=e=>Rp[e],_p=e=>{Mr(e)||me(`Unknown parameter "${e}"`)},Fp=e=>{Mp.includes(e)&&me(`The parameter "${e}" is incompatible with toasts`)},Lp=e=>{const a=Fr(e);a&&er(e,a)},Lr=e=>{e.backdrop===!1&&e.allowOutsideClick&&me('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","borderless"].includes(e.theme)&&me(`Invalid theme "${e.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const a in e)_p(a),e.toast&&Fp(a),Lp(a)};function Or(e){const a=he(),t=z(),s=U.innerParams.get(this);if(!t||Ie(t,s.hideClass.popup)){me("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=Op(e),r=Object.assign({},s,i);Lr(r),a.dataset.swal2Theme=r.theme,hr(this,r),U.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Op=e=>{const a={};return Object.keys(e).forEach(t=>{_r(t)?a[t]=e[t]:me(`Invalid parameter to update: ${t}`)}),a};function zr(){const e=U.domCache.get(this),a=U.innerParams.get(this);if(!a){$r(this);return}e.popup&&D.swalCloseEventFinishedCallback&&(D.swalCloseEventFinishedCallback(),delete D.swalCloseEventFinishedCallback),typeof a.didDestroy=="function"&&a.didDestroy(),D.eventEmitter.emit("didDestroy"),zp(this)}const zp=e=>{$r(e),delete e.params,delete D.keydownHandler,delete D.keydownTarget,delete D.currentInstance},$r=e=>{e.isAwaitingPromise?(en(U,e),e.isAwaitingPromise=!0):(en(ut,e),en(U,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},en=(e,a)=>{for(const t in e)e[t].delete(a)};var $p=Object.freeze({__proto__:null,_destroy:zr,close:Fe,closeModal:Fe,closePopup:Fe,closeToast:Fe,disableButtons:Pr,disableInput:Tr,disableLoading:ma,enableButtons:Ar,enableInput:Dr,getInput:Cr,handleAwaitingPromise:Mt,hideLoading:ma,rejectPromise:yr,resetValidationMessage:Rr,showValidationMessage:Ir,update:Or});const qp=(e,a,t)=>{e.toast?Bp(e,a,t):(Hp(a),Wp(a),Vp(e,a,t))},Bp=(e,a,t)=>{a.popup.onclick=()=>{e&&(Up(e)||e.timer||e.input)||t(yt.close)}},Up=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let ha=!1;const Hp=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(a){e.container.onmouseup=()=>{},a.target===e.container&&(ha=!0)}}},Wp=e=>{e.container.onmousedown=a=>{a.target===e.container&&a.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(ha=!0)}}},Vp=(e,a,t)=>{a.container.onclick=s=>{if(ha){ha=!1;return}s.target===a.container&&Da(e.allowOutsideClick)&&t(yt.backdrop)}},Gp=e=>typeof e=="object"&&e.jquery,_s=e=>e instanceof Element||Gp(e),Kp=e=>{const a={};return typeof e[0]=="object"&&!_s(e[0])?Object.assign(a,e[0]):["title","html","icon"].forEach((t,s)=>{const i=e[s];typeof i=="string"||_s(i)?a[t]=i:i!==void 0&&et(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof i}`)}),a};function Yp(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return new this(...a)}function Zp(e){class a extends this{_main(s,i){return super._main(s,Object.assign({},e,i))}}return a}const Xp=()=>D.timeout&&D.timeout.getTimerLeft(),qr=()=>{if(D.timeout)return rd(),D.timeout.stop()},Br=()=>{if(D.timeout){const e=D.timeout.start();return Gn(e),e}},Jp=()=>{const e=D.timeout;return e&&(e.running?qr():Br())},Qp=e=>{if(D.timeout){const a=D.timeout.increase(e);return Gn(a,!0),a}},eu=()=>!!(D.timeout&&D.timeout.isRunning());let Fs=!1;const bn={};function tu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";bn[e]=this,Fs||(document.body.addEventListener("click",au),Fs=!0)}const au=e=>{for(let a=e.target;a&&a!==document;a=a.parentNode)for(const t in bn){const s=a.getAttribute(t);if(s){bn[t].fire({template:s});return}}};class nu{constructor(){this.events={}}_getHandlersByEventName(a){return typeof this.events[a]>"u"&&(this.events[a]=[]),this.events[a]}on(a,t){const s=this._getHandlersByEventName(a);s.includes(t)||s.push(t)}once(a,t){var s=this;const i=function(){s.removeListener(a,i);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];t.apply(s,l)};this.on(a,i)}emit(a){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this._getHandlersByEventName(a).forEach(r=>{try{r.apply(this,s)}catch(l){console.error(l)}})}removeListener(a,t){const s=this._getHandlersByEventName(a),i=s.indexOf(t);i>-1&&s.splice(i,1)}removeAllListeners(a){this.events[a]!==void 0&&(this.events[a].length=0)}reset(){this.events={}}}D.eventEmitter=new nu;const su=(e,a)=>{D.eventEmitter.on(e,a)},iu=(e,a)=>{D.eventEmitter.once(e,a)},ru=(e,a)=>{if(!e){D.eventEmitter.reset();return}a?D.eventEmitter.removeListener(e,a):D.eventEmitter.removeAllListeners(e)};var ou=Object.freeze({__proto__:null,argsToParams:Kp,bindClickHandler:tu,clickCancel:Kd,clickConfirm:fr,clickDeny:Gd,enableLoading:mt,fire:Yp,getActions:Tt,getCancelButton:bt,getCloseButton:Un,getConfirmButton:De,getContainer:he,getDenyButton:tt,getFocusableElements:Hn,getFooter:nr,getHtmlContainer:qn,getIcon:vt,getIconContent:ed,getImage:ar,getInputLabel:td,getLoader:wt,getPopup:z,getProgressSteps:Bn,getTimerLeft:Xp,getTimerProgressBar:Ia,getTitle:tr,getValidationMessage:Ta,increaseTimer:Qp,isDeprecatedParameter:Fr,isLoading:nd,isTimerRunning:eu,isUpdatableParameter:_r,isValidParameter:Mr,isVisible:Vd,mixin:Zp,off:ru,on:su,once:iu,resumeTimer:Br,showLoading:mt,stopTimer:qr,toggleTimer:Jp});class lu{constructor(a,t){this.callback=a,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(a){const t=this.running;return t&&this.stop(),this.remaining+=a,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ur=["swal-title","swal-html","swal-footer"],cu=e=>{const a=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!a)return{};const t=a.content;return xu(t),Object.assign(du(t),pu(t),uu(t),mu(t),hu(t),fu(t),gu(t,Ur))},du=e=>{const a={};return Array.from(e.querySelectorAll("swal-param")).forEach(s=>{Je(s,["name","value"]);const i=s.getAttribute("name"),r=s.getAttribute("value");!i||!r||(typeof lt[i]=="boolean"?a[i]=r!=="false":typeof lt[i]=="object"?a[i]=JSON.parse(r):a[i]=r)}),a},pu=e=>{const a={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(s=>{const i=s.getAttribute("name"),r=s.getAttribute("value");!i||!r||(a[i]=new Function(`return ${r}`)())}),a},uu=e=>{const a={};return Array.from(e.querySelectorAll("swal-button")).forEach(s=>{Je(s,["type","color","aria-label"]);const i=s.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(a[`${i}ButtonText`]=s.innerHTML,a[`show${On(i)}Button`]=!0,s.hasAttribute("color")&&(a[`${i}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(a[`${i}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),a},mu=e=>{const a={},t=e.querySelector("swal-image");return t&&(Je(t,["src","width","height","alt"]),t.hasAttribute("src")&&(a.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(a.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(a.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(a.imageAlt=t.getAttribute("alt")||void 0)),a},hu=e=>{const a={},t=e.querySelector("swal-icon");return t&&(Je(t,["type","color"]),t.hasAttribute("type")&&(a.icon=t.getAttribute("type")),t.hasAttribute("color")&&(a.iconColor=t.getAttribute("color")),a.iconHtml=t.innerHTML),a},fu=e=>{const a={},t=e.querySelector("swal-input");t&&(Je(t,["type","label","placeholder","value"]),a.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(a.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(a.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(a.inputValue=t.getAttribute("value")));const s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(a.inputOptions={},s.forEach(i=>{Je(i,["value"]);const r=i.getAttribute("value");if(!r)return;const l=i.innerHTML;a.inputOptions[r]=l})),a},gu=(e,a)=>{const t={};for(const s in a){const i=a[s],r=e.querySelector(i);r&&(Je(r,[]),t[i.replace(/^swal-/,"")]=r.innerHTML.trim())}return t},xu=e=>{const a=Ur.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(t=>{const s=t.tagName.toLowerCase();a.includes(s)||me(`Unrecognized element <${s}>`)})},Je=(e,a)=>{Array.from(e.attributes).forEach(t=>{a.indexOf(t.name)===-1&&me([`Unrecognized attribute "${t.name}" on <${e.tagName.toLowerCase()}>.`,`${a.length?`Allowed attributes are: ${a.join(", ")}`:"To set the value, use HTML within the element."}`])})},Hr=10,vu=e=>{const a=he(),t=z();typeof e.willOpen=="function"&&e.willOpen(t),D.eventEmitter.emit("willOpen",t);const i=window.getComputedStyle(document.body).overflowY;yu(a,t,e),setTimeout(()=>{bu(a,t)},Hr),Wn()&&(wu(a,e.scrollbarPadding,i),ap()),!Ra()&&!D.previousActiveElement&&(D.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(t)),D.eventEmitter.emit("didOpen",t),Se(a,b["no-transition"])},fa=e=>{const a=z();if(e.target!==a)return;const t=he();a.removeEventListener("animationend",fa),a.removeEventListener("transitionend",fa),t.style.overflowY="auto"},bu=(e,a)=>{rr(a)?(e.style.overflowY="hidden",a.addEventListener("animationend",fa),a.addEventListener("transitionend",fa)):e.style.overflowY="auto"},wu=(e,a,t)=>{np(),a&&t!=="hidden"&&dp(t),setTimeout(()=>{e.scrollTop=0})},yu=(e,a,t)=>{L(e,t.showClass.backdrop),t.animation?(a.style.setProperty("opacity","0","important"),se(a,"grid"),setTimeout(()=>{L(a,t.showClass.popup),a.style.removeProperty("opacity")},Hr)):se(a,"grid"),L([document.documentElement,document.body],b.shown),t.heightAuto&&t.backdrop&&!t.toast&&L([document.documentElement,document.body],b["height-auto"])};var Ls={email:(e,a)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(a||"Invalid email address"),url:(e,a)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(a||"Invalid URL")};function ju(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Ls.email),e.input==="url"&&(e.inputValidator=Ls.url))}function Nu(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(me('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ku(e){ju(e),e.showLoaderOnConfirm&&!e.preConfirm&&me(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Nu(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),hd(e)}let Pe;var Ht=new WeakMap;class K{constructor(){if(Vc(this,Ht,void 0),typeof window>"u")return;Pe=this;for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];const i=Object.freeze(this.constructor.argsToParams(t));this.params=i,this.isAwaitingPromise=!1,Gc(Ht,this,this._main(Pe.params))}_main(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Lr(Object.assign({},t,a)),D.currentInstance){const r=ut.swalPromiseResolve.get(D.currentInstance),{isAwaitingPromise:l}=D.currentInstance;D.currentInstance._destroy(),l||r({isDismissed:!0}),Wn()&&vr()}D.currentInstance=Pe;const s=Eu(a,t);ku(s),Object.freeze(s),D.timeout&&(D.timeout.stop(),delete D.timeout),clearTimeout(D.restoreFocusTimeout);const i=Su(Pe);return hr(Pe,s),U.innerParams.set(Pe,s),Cu(Pe,i,s)}then(a){return Es(Ht,this).then(a)}finally(a){return Es(Ht,this).finally(a)}}const Cu=(e,a,t)=>new Promise((s,i)=>{const r=l=>{e.close({isDismissed:!0,dismiss:l})};ut.swalPromiseResolve.set(e,s),ut.swalPromiseReject.set(e,i),a.confirmButton.onclick=()=>{Sp(e)},a.denyButton.onclick=()=>{Ap(e)},a.cancelButton.onclick=()=>{Pp(e,r)},a.closeButton.onclick=()=>{r(yt.close)},qp(t,a,r),Yd(D,t,r),vp(e,t),vu(t),Au(D,t,r),Pu(a,t),setTimeout(()=>{a.container.scrollTop=0})}),Eu=(e,a)=>{const t=cu(e),s=Object.assign({},lt,a,t,e);return s.showClass=Object.assign({},lt.showClass,s.showClass),s.hideClass=Object.assign({},lt.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Su=e=>{const a={popup:z(),container:he(),actions:Tt(),confirmButton:De(),denyButton:tt(),cancelButton:bt(),loader:wt(),closeButton:Un(),validationMessage:Ta(),progressSteps:Bn()};return U.domCache.set(e,a),a},Au=(e,a,t)=>{const s=Ia();ce(s),a.timer&&(e.timeout=new lu(()=>{t("timer"),delete e.timeout},a.timer),a.timerProgressBar&&(se(s),ye(s,a,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Gn(a.timer)})))},Pu=(e,a)=>{if(!a.toast){if(!Da(a.allowEnterKey)){er("allowEnterKey"),Iu();return}Du(e)||Tu(e,a)||vn(-1,1)}},Du=e=>{const a=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const t of a)if(t instanceof HTMLElement&&ge(t))return t.focus(),!0;return!1},Tu=(e,a)=>a.focusDeny&&ge(e.denyButton)?(e.denyButton.focus(),!0):a.focusCancel&&ge(e.cancelButton)?(e.cancelButton.focus(),!0):a.focusConfirm&&ge(e.confirmButton)?(e.confirmButton.focus(),!0):!1,Iu=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,a=localStorage.getItem("swal-initiation");a?(e.getTime()-Date.parse(a))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}K.prototype.disableButtons=Pr;K.prototype.enableButtons=Ar;K.prototype.getInput=Cr;K.prototype.disableInput=Tr;K.prototype.enableInput=Dr;K.prototype.hideLoading=ma;K.prototype.disableLoading=ma;K.prototype.showValidationMessage=Ir;K.prototype.resetValidationMessage=Rr;K.prototype.close=Fe;K.prototype.closePopup=Fe;K.prototype.closeModal=Fe;K.prototype.closeToast=Fe;K.prototype.rejectPromise=yr;K.prototype.update=Or;K.prototype._destroy=zr;Object.assign(K,ou);Object.keys($p).forEach(e=>{K[e]=function(){return Pe&&Pe[e]?Pe[e](...arguments):null}});K.DismissReason=yt;K.version="11.17.2";const ga=K;ga.default=ga;typeof document<"u"&&function(e,a){var t=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=a);else try{t.innerHTML=a}catch{t.innerText=a}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Os=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],tn=()=>{};function Ru(e){function a(i){const r={},l={},o=Os.map(c=>c.key);return Object.entries(i).forEach(c=>{let[u,g]=c;o.includes(u)&&Ct.isValidElement(g)?(r[u]=g,l[u]=" "):l[u]=g}),[r,l]}function t(i,r){Object.entries(r).forEach(l=>{let[o,c]=l;const g=Os.find(v=>v.key===o).getter(e),f=bi.createRoot(g);f.render(c),i.__roots.push(f)})}function s(i){i.__roots.forEach(r=>{r.unmount()}),i.__roots=[]}return class extends e{static argsToParams(i){if(Ct.isValidElement(i[0])||Ct.isValidElement(i[1])){const r={};return["title","html","icon"].forEach((l,o)=>{i[o]!==void 0&&(r[l]=i[o])}),r}else return e.argsToParams(i)}_main(i,r){this.__roots=[],this.__params=Object.assign({},r,i);const[l,o]=a(this.__params),c=o.willOpen||tn,u=o.didOpen||tn,g=o.didDestroy||tn;return super._main(Object.assign({},o,{willOpen:f=>{t(this,l),c(f)},didOpen:f=>{setTimeout(()=>{u(f)})},didDestroy:f=>{g(f),s(this)}}))}update(i){Object.assign(this.__params,i),s(this);const[r,l]=a(this.__params);super.update(l),t(this,r)}}}const Mu=Ru(ga),Ke={customClass:{container:"font-body",popup:"rounded-lg shadow-xl border border-earth-700",title:"text-xl font-display font-bold",htmlContainer:"text-gray-700",confirmButton:"px-6 py-2 rounded-lg text-white transition-colors duration-300",cancelButton:"px-6 py-2 rounded-lg transition-colors duration-300"},buttonsStyling:!1,backdrop:"rgba(0, 0, 0, 0.7)",showClass:{popup:"animate__animated animate__fadeIn animate__faster"},hideClass:{popup:"animate__animated animate__fadeOut animate__faster"}},_u=()=>e=>new Promise(a=>{const t=()=>{try{a(Mu.fire({...Ke,...e}))}catch(s){console.error("Error showing alert:",s),a(void 0)}};document.readyState==="complete"||document.readyState==="interactive"?t():document.addEventListener("DOMContentLoaded",t)}),Wr=_u(),Qn=(e,a)=>Wr({title:e,text:a,icon:"success",confirmButtonText:"OK",customClass:{...Ke.customClass,confirmButton:`${Ke.customClass.confirmButton} bg-accent-sage hover:bg-accent-moss`,title:`${Ke.customClass.title} text-accent-sage`}}),ze=(e,a)=>Wr({title:e,text:a,icon:"error",confirmButtonText:"OK",customClass:{...Ke.customClass,confirmButton:`${Ke.customClass.confirmButton} bg-accent-rust hover:bg-red-700`,title:`${Ke.customClass.title} text-accent-rust`}}),Vr={apiKey:"AIzaSyCCr7wxWHJyv4C9pGOJ0Juf7latDmceTew",authDomain:"tradeya-45ede.firebaseapp.com",projectId:"tradeya-45ede",storageBucket:"tradeya-45ede.firebasestorage.app",messagingSenderId:"476911238747",appId:"1:476911238747:web:e9b73b157f3fa63ba4897e",measurementId:"G-XNL1Y7CZWW"};Object.entries(Vr).forEach(([e,a])=>{a||console.error(`Missing Firebase config: ${e}`)});const _a=To(Vr),E=Io(_a,{localCache:Ro({tabManager:Fo()})}),Be=Mo(_a);_o(_a);typeof window<"u"&&qc(_a);const Fu=async(e,a=3,t=1e3,s)=>{let i=null;for(let r=1;r<=a;r++)try{return await e()}catch(l){if(i=l instanceof Error?l:new Error(String(l)),console.error(`Operation failed (attempt ${r}/${a}):`,{error:i,stack:i.stack,timestamp:new Date().toISOString(),code:l==null?void 0:l.code}),r===a){console.error("All retry attempts failed:",{totalAttempts:r,finalError:i,code:l==null?void 0:l.code});break}const o=t*Math.pow(2,r-1)*(.5+Math.random()*.5);console.log(`Retrying in ${Math.round(o)}ms...`),await new Promise(c=>setTimeout(c,o))}throw i||new Error("Operation failed after retries")};O(E,"challenges"),O(E,"users"),O(E,"trades"),O(E,"conversations"),O(E,"messages"),O(E,"collaborations");const Lu=async e=>{try{const a=O(E,e);return!0}catch(a){return console.error(`Error checking collection ${e}:`,a),!1}},Ou=async()=>{console.log("Initializing Firebase collections...");try{if(!await Lu("challenges")){console.log("Initializing challenges collection...");const{initializeChallenges:a}=await Ai(async()=>{const{initializeChallenges:t}=await Promise.resolve().then(()=>ef);return{initializeChallenges:t}},void 0);await a()}console.log("Firebase collections initialized successfully")}catch(e){console.error("Failed to initialize collections:",e),await ze("Database Initialization Error","Failed to initialize the database collections. Please refresh the page or contact support if the problem persists.")}};function zs(e,a=""){return"@"+e.toLowerCase().trim().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")+a}function wn(e){return/^@[a-z0-9-]{3,30}$/.test(e)}async function xa(e){const a=O(E,"users"),t=J(a,X("username","==",e));return(await le(t)).empty}async function $s(e){const a=zs(e);if(await xa(a))return a;let t=1,s;do s=zs(e,`-${t}`),t++;while(!await xa(s));return s}class an extends Error{constructor(a){super(a),this.name="UsernameError"}}async function zu(e,a){if(!wn(a))throw new an("Invalid username format");if(!await xa(a))throw new an("Username is already taken");const s=_(E,"users",e);await Lo(E,async i=>{const r=await i.get(s);if(!r.exists())throw new an("User not found");r.data().username,i.update(s,{username:a})})}const Gr=h.createContext(null);function $u({children:e}){const[a,t]=h.useState(null),[s,i]=h.useState(!0),[r,l]=h.useState(null);h.useEffect(()=>Oo(Be,async d=>{if(t(d),i(!1),!d)try{const p=await zo(Be);p!=null&&p.user&&await o(p.user)}catch(p){console.error("Redirect sign-in error:",p),p.code==="auth/unauthorized-domain"&&l("This domain is not authorized for authentication. Please contact support.")}}),[]);const o=async x=>{try{await Fu(async()=>{var p;(await ne(_(E,"users",x.uid))).exists()||await fn(_(E,"users",x.uid),{email:x.email,displayName:x.displayName||"",displayNameLower:(x.displayName||"").toLowerCase(),username:await $s(x.displayName||((p=x.email)==null?void 0:p.split("@")[0])||"user"),bio:"",skills:[],portfolio:"",createdAt:new Date,updatedAt:new Date})})}catch(d){throw console.error("Error creating user profile:",d),d}},c=async(x,d,p)=>{try{const m=await Wo(Be,x,d);await Vo(m.user,{displayName:p}),await fn(_(E,"users",m.user.uid),{email:x,displayName:p,displayNameLower:p.toLowerCase(),username:await $s(p),bio:"",skills:[],portfolio:"",createdAt:new Date,updatedAt:new Date})}catch(m){throw console.error("Error in signUp:",m),m.code==="auth/email-already-in-use"?new Error("An account with this email already exists"):m.code==="auth/invalid-email"?new Error("Invalid email address"):m.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):m.code==="auth/weak-password"?new Error("Password is too weak. It must be at least 6 characters long."):m.code==="auth/unauthorized-domain"?new Error("This domain is not authorized for authentication. Please contact support."):new Error("Failed to create account. Please try again.")}},u=async(x,d)=>{try{await Ho(Be,x,d)}catch(p){throw console.error("Error in signIn:",p),p.code==="auth/unauthorized-domain"?new Error("This domain is not authorized for authentication. Please contact support."):p}},g=async()=>{try{const x=new qo;try{const d=await Bo(Be,x);await o(d.user)}catch(d){if(console.error("Popup error:",d),d.code==="auth/popup-blocked")await Uo(Be,x);else throw d.code==="auth/unauthorized-domain"?new Error("This domain is not authorized for authentication. Please contact support."):d}}catch(x){throw console.error("Error in signInWithGoogle:",x),x}},f=async()=>{try{await $o(Be)}catch(x){throw console.error("Error in logout:",x),x}},v=async x=>{if(!a)throw new Error("No user logged in");try{await zu(a.uid,x)}catch(d){throw console.error("Error updating username:",d),d}};return n.jsx(Gr.Provider,{value:{user:a,loading:s,signUp:c,signIn:u,signInWithGoogle:g,logout:f,updateUsername:v},children:!s&&e})}function ie(){const e=h.useContext(Gr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Kr=h.createContext(null);function qu({children:e}){const{user:a}=ie(),[t,s]=h.useState(!1),[i,r]=h.useState(!0);return h.useEffect(()=>{if(!a){s(!1),r(!1);return}(async()=>{try{const o=await Go(a,!0);s(!!o.claims.admin)}catch(o){console.error("Error checking admin status:",o),s(!1)}finally{r(!1)}})()},[a]),n.jsx(Kr.Provider,{value:{isAdmin:t,loading:i},children:e})}function Yr(){const e=h.useContext(Kr);if(!e)throw new Error("useAdmin must be used within an AdminProvider");return e}function Me({children:e}){const{user:a,loading:t}=ie();return t?n.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-full animate-spin opacity-75 blur-lg"}),n.jsx("div",{className:"relative bg-cyber-gray-900 p-8 rounded-lg border border-cyber-gray-800",children:n.jsx(Ci,{className:"h-8 w-8 text-neon-blue animate-spin"})})]}),n.jsx("p",{className:"mt-4 text-cyber-gray-400 animate-pulse",children:"Authenticating..."})]}):a?n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-lg blur-lg"}),n.jsxs("div",{className:"relative bg-cyber-gray-900 p-8 rounded-lg border border-red-500/50 max-w-md",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(St,{className:"h-8 w-8 text-red-500"}),n.jsx("h2",{className:"text-xl font-display font-bold text-red-500",children:"Access Denied"})]}),n.jsx("p",{className:"text-cyber-gray-300 mb-6",children:"This area requires authentication. Please log in to continue."}),n.jsx(fi,{to:"/login",replace:!0})]})]})})}function Bu({children:e}){const{user:a}=ie(),{isAdmin:t,loading:s}=Yr();return s?n.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-full animate-spin opacity-75 blur-lg"}),n.jsx("div",{className:"relative bg-cyber-gray-900 p-8 rounded-lg border border-cyber-gray-800",children:n.jsx(Ci,{className:"h-8 w-8 text-neon-blue animate-spin"})})]}),n.jsx("p",{className:"mt-4 text-cyber-gray-400 animate-pulse",children:"Checking permissions..."})]}):!a||!t?n.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-lg blur-lg"}),n.jsxs("div",{className:"relative bg-cyber-gray-900 p-8 rounded-lg border border-red-500/50 max-w-md",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(St,{className:"h-8 w-8 text-red-500"}),n.jsx("h2",{className:"text-xl font-display font-bold text-red-500",children:"Access Denied"})]}),n.jsx("p",{className:"text-cyber-gray-300 mb-6",children:"This area requires administrator privileges."}),n.jsx(fi,{to:"/",replace:!0})]})]})}):n.jsx(n.Fragment,{children:e})}function Uu(){const[e,a]=h.useState(""),[t,s]=h.useState(""),[i,r]=h.useState(""),[l,o]=h.useState(!1),{signIn:c,signInWithGoogle:u}=ie(),g=je(),f=async x=>{x.preventDefault(),o(!0),r("");try{await c(e,t),g("/discover")}catch(d){if(d instanceof Qt)switch(d.code){case"auth/invalid-email":r("Invalid email address");break;case"auth/user-disabled":r("This account has been disabled");break;case"auth/user-not-found":r("No account found with this email");break;case"auth/wrong-password":case"auth/invalid-credential":r(n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Invalid Credentials"}),n.jsx("p",{className:"text-sm mt-1",children:"The email or password you entered is incorrect. Please check your credentials and try again."})]})]}));break;default:r("Failed to sign in")}else r("An unexpected error occurred")}finally{o(!1)}},v=async()=>{o(!0),r("");try{await u(),g("/discover")}catch(x){if(x instanceof Qt)switch(x.code){case"auth/popup-blocked":r(n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Popup Blocked"}),n.jsx("p",{className:"text-sm",children:"Please allow popups for this site and try again. Look for the popup blocker icon in your browser's address bar."})]})]}));break;case"auth/unauthorized-domain":r(n.jsxs("div",{className:"flex items-start gap-2 bg-yellow-50 p-4 rounded-lg",children:[n.jsx(ki,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-800",children:"Domain Authorization Pending"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This domain is not yet authorized for authentication. This can happen when:"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-700 mt-2 space-y-1",children:[n.jsx("li",{children:"The domain was recently added to Firebase"}),n.jsx("li",{children:"Changes are still propagating (can take up to 15 minutes)"}),n.jsx("li",{children:"The domain wasn't added to Firebase's authorized domains"})]}),n.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Please try again in a few minutes. If the issue persists, contact support."})]})]}));break;case"auth/popup-closed-by-user":r("Sign in was cancelled");break;default:r("Failed to sign in with Google")}else x instanceof Error?r(x.message):r("An unexpected error occurred")}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-earth-900 flex items-center justify-center",children:[" ",n.jsxs("div",{className:"bg-earth-800 p-8 rounded-lg shadow-md w-96 border border-earth-700",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-text-primary font-display",children:"Sign In"}),i&&n.jsx("div",{className:"mb-6",children:typeof i=="string"?n.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded",children:i}):i}),n.jsxs("button",{onClick:v,disabled:l,className:"w-full bg-earth-800 border-2 border-earth-700 text-text-primary py-2 px-4 rounded-lg hover:border-accent-clay hover:text-accent-clay mb-6 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:[n.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-earth-700"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-earth-800 text-text-muted",children:"Or continue with email"})})]}),n.jsxs("form",{onSubmit:f,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-text-muted mb-2",htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",value:e,onChange:x=>a(x.target.value),className:"w-full p-2 bg-earth-800 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-text-muted mb-2",htmlFor:"password",children:"Password"}),n.jsx("input",{type:"password",id:"password",value:t,onChange:x=>s(x.target.value),className:"w-full p-2 bg-earth-800 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300",required:!0})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-accent-clay to-accent-ochre text-text-light py-2 px-4 rounded-lg hover:shadow-lg hover:shadow-accent-clay/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sign in with Email"})]})]})]})}function Hu(){const[e,a]=h.useState(""),[t,s]=h.useState(""),[i,r]=h.useState(""),[l,o]=h.useState(""),[c,u]=h.useState(!1),{signUp:g,signInWithGoogle:f}=ie(),v=je(),x=async p=>{if(p.preventDefault(),u(!0),o(""),t.length<6){o(n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Password Too Short"}),n.jsx("p",{className:"text-sm mt-1",children:"Password must be at least 6 characters long for security."})]})]})),u(!1);return}if(!i.trim()){o(n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Display Name Required"}),n.jsx("p",{className:"text-sm mt-1",children:"Please enter a display name to create your account."})]})]})),u(!1);return}try{await g(e,t,i),v("/discover")}catch(m){m instanceof Error?m.message.includes("unauthorized-domain")?o(n.jsxs("div",{className:"flex items-start gap-2 bg-yellow-50 p-4 rounded-lg",children:[n.jsx(ki,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-800",children:"Domain Authorization Pending"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This domain is not yet authorized for authentication. This can happen when:"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-700 mt-2 space-y-1",children:[n.jsx("li",{children:"The domain was recently added to Firebase"}),n.jsx("li",{children:"Changes are still propagating (can take up to 15 minutes)"}),n.jsx("li",{children:"The domain wasn't added to Firebase's authorized domains"})]}),n.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Please try again in a few minutes. If the issue persists, contact support."})]})]})):o(n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Registration Failed"}),n.jsx("p",{className:"text-sm mt-1",children:m.message})]})]})):o("An unexpected error occurred")}finally{u(!1)}},d=async()=>{u(!0),o("");try{await f(),v("/discover")}catch(p){p instanceof Error?o(p.message):o("Failed to sign up with Google")}finally{u(!1)}};return n.jsxs("div",{className:"min-h-screen bg-earth-900 flex items-center justify-center",children:[" ",n.jsxs("div",{className:"bg-earth-800 p-8 rounded-lg shadow-md w-96 border border-earth-700",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-text-primary font-display",children:"Create Account"}),l&&n.jsx("div",{className:"mb-6",children:typeof l=="string"?n.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded",children:l}):l}),n.jsxs("button",{onClick:d,disabled:c,className:"w-full bg-earth-800 border-2 border-earth-700 text-text-primary py-2 px-4 rounded-lg hover:border-accent-clay hover:text-accent-clay mb-6 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:[n.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-earth-700"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-earth-800 text-text-muted",children:"Or sign up with email"})})]}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-text-muted mb-2",htmlFor:"displayName",children:"Display Name"}),n.jsx("input",{type:"text",id:"displayName",value:i,onChange:p=>r(p.target.value),className:"w-full p-2 bg-earth-800 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300",required:!0,minLength:2,maxLength:50})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-text-muted mb-2",htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",value:e,onChange:p=>a(p.target.value),className:"w-full p-2 bg-earth-800 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-text-muted mb-2",htmlFor:"password",children:"Password"}),n.jsx("input",{type:"password",id:"password",value:t,onChange:p=>s(p.target.value),className:"w-full p-2 bg-earth-800 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300",required:!0,minLength:6}),n.jsx("p",{className:"mt-1 text-sm text-text-muted",children:"Must be at least 6 characters long"})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-accent-clay to-accent-ochre text-text-light py-2 px-4 rounded-lg hover:shadow-lg hover:shadow-accent-clay/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Account"})]})]})]})}function _t(e,a){const[t,s]=h.useState([]),[i,r]=h.useState(!0),[l,o]=h.useState(null);return h.useEffect(()=>{(async()=>{try{const v=a?J(O(E,e),...a):O(E,e),d=(await le(v)).docs.map(p=>({id:p.id,...p.data()}));s(d),r(!1)}catch(v){o(v instanceof Error?v:new Error("An error occurred")),r(!1)}})()},[e,a]),{data:t,loading:i,error:l,add:async f=>{try{return(await xt(O(E,e),{...f,createdAt:new Date,updatedAt:new Date})).id}catch(v){throw v instanceof Error?v:new Error("Failed to add document")}},update:async(f,v)=>{try{const x=_(E,e,f);await H(x,{...v,updatedAt:new Date})}catch(x){throw x instanceof Error?x:new Error("Failed to update document")}},getById:async f=>{try{const v=_(E,e,f),x=await ne(v);if(x.exists())return{id:x.id,...x.data()};throw new Error("Document not found")}catch(v){throw v instanceof Error?v:new Error("Failed to get document")}}}}function Te({url:e,size:a="md",className:t=""}){const s={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16",xl:"h-24 w-24"};return e?n.jsxs("div",{className:`${s[a]} relative group ${t}`,children:[n.jsx("img",{src:e,alt:"Profile",className:`
          w-full h-full object-cover rounded-full
          border-2 border-cyber-gray-900
          transition-all duration-300
        `,onError:i=>{i.currentTarget.onerror=null,i.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent("User")}&background=1A1A1A&color=5BC0EB`}}),n.jsx("div",{className:"absolute inset-0 bg-noise opacity-10 rounded-full pointer-events-none"})]}):n.jsxs("div",{className:`
          ${s[a]} 
          rounded-full bg-cyber-gray-800 border border-cyber-gray-700
          flex items-center justify-center
          relative overflow-hidden
          ${t}
        `,children:[n.jsx("div",{className:"absolute inset-0 bg-mesh opacity-30"}),n.jsx("div",{className:"absolute inset-0 bg-noise opacity-50"}),n.jsx(Sa,{className:`
          ${a==="sm"?"h-4 w-4":a==="md"?"h-6 w-6":"h-8 w-8"} 
          text-cyber-gray-400 relative z-10
        `})]})}function Zr({profile:e,children:a,onMessageClick:t}){const[s,i]=h.useState(!1),[r,l]=h.useState({x:0,y:0}),o=h.useRef(null),c=h.useRef(null),u=h.useRef(),g=Object.entries(e.endorsements||{}).sort(([,d],[,p])=>p.length-d.length).slice(0,3).map(([d])=>{var p,m,y,w;return{name:d,level:((m=(p=e.skillLevels)==null?void 0:p[d])==null?void 0:m.level)||1,endorsements:((w=(y=e.endorsements)==null?void 0:y[d])==null?void 0:w.length)||0}}),f=()=>{if(!o.current||!c.current||!s)return;const d=o.current.getBoundingClientRect(),p=c.current.getBoundingClientRect(),m=window.innerHeight,y=window.scrollY;let w=d.left,N=y+d.bottom+8;w+p.width>window.innerWidth&&(w=window.innerWidth-p.width-16),w=Math.max(16,w);const k=m-(d.bottom+8),C=d.top-8;p.height>k&&C>k&&(N=y+d.top-p.height-8),N=Math.max(y+16,Math.min(N,y+m-p.height-16)),l({x:w,y:N})};h.useEffect(()=>{if(s){requestAnimationFrame(f);const d=()=>{requestAnimationFrame(f)};return window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",d,{passive:!0}),()=>{window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}}},[s]);const v=()=>{u.current&&clearTimeout(u.current),i(!0)},x=()=>{u.current=setTimeout(()=>{i(!1)},300)};return n.jsxs("div",{ref:o,onMouseEnter:v,onMouseLeave:x,className:"inline-block",children:[a,s&&n.jsx("div",{ref:c,style:{position:"absolute",left:r.x,top:r.y,zIndex:50},onMouseEnter:()=>{u.current&&clearTimeout(u.current)},onMouseLeave:x,className:"w-80 animate-in fade-in zoom-in duration-200 origin-top",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r from-accent-clay to-accent-ochre 
                          opacity-75 rounded-lg blur`}),n.jsxs("div",{className:"relative bg-earth-800 rounded-lg shadow-xl",children:[n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Te,{url:e.profilePicture,size:"lg"}),n.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-earth-800 
                                  border-2 border-earth-700 flex items-center justify-center`,children:n.jsx("span",{className:"text-xs font-bold text-accent-clay",children:e.level})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-display font-semibold text-gray-900 truncate",children:e.displayName}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[n.jsx(Dn,{className:"h-3 w-3"}),n.jsxs("span",{children:["Joined ",new Date(e.createdAt).toLocaleDateString()]})]}),e.portfolio&&n.jsxs("a",{href:e.portfolio,target:"_blank",rel:"noopener noreferrer",className:`mt-2 text-sm text-accent-clay hover:text-accent-ochre 
                                 flex items-center gap-1 transition-colors`,children:[n.jsx(na,{className:"h-3 w-3"}),"Portfolio"]})]})]}),e.bio&&n.jsx("p",{className:"mt-3 text-sm text-gray-700 line-clamp-2",children:e.bio})]}),n.jsx("div",{className:"px-4 pb-4",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(d=>n.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 bg-accent-sage/20 
                               text-gray-900 text-sm rounded-full border border-accent-sage/30`,children:[n.jsx(Ea,{className:"h-3 w-3 text-accent-sage"}),n.jsx("span",{children:d.name}),n.jsxs("span",{className:"text-xs px-1.5 py-0.5 bg-accent-sage/20 rounded-full",children:["Lvl ",d.level]})]},d.name))})}),t&&n.jsx("div",{className:"px-4 py-3 border-t border-earth-700",children:n.jsxs("button",{onClick:t,className:`w-full flex items-center justify-center gap-2 py-2 
                             bg-accent-clay text-white rounded-lg hover:bg-accent-ochre 
                             transition-colors`,children:[n.jsx(Oe,{className:"h-4 w-4"}),"Send Message"]})})]})]})})]})}function qs(){const e=je(),[a,t]=h.useState(""),[s,i]=h.useState([]),{data:r,loading:l,error:o}=_t("trades"),[c,u]=h.useState({});h.useEffect(()=>{const d=async()=>{const p=new Set(r.map(y=>y.creatorId)),m={};for(const y of p)try{const w=await ne(_(E,"users",y));w.exists()&&(m[y]={id:w.id,...w.data()})}catch(w){console.error("Error fetching creator:",w)}u(m)};r.length>0&&d()},[r]);const g=r.filter(d=>{const p=d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()),m=s.length===0||d.requestedSkills.some(y=>s.includes(y));return p&&m}),f=Array.from(new Set(r.flatMap(d=>[...d.offeredSkills,...d.requestedSkills]))).sort(),v=d=>{i(p=>p.includes(d)?p.filter(m=>m!==d):[...p,d])},x=async d=>{e(`/messages/${d}`)};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Discover Trades"}),n.jsx("p",{className:"text-gray-200",children:"Find skill trading opportunities or share your expertise"})]}),n.jsxs("div",{className:"mb-8 space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search trades...",value:a,onChange:d=>t(d.target.value),className:`w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg 
                         text-gray-900 placeholder-gray-500
                          focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 
                         transition-all duration-300`})]}),n.jsxs("button",{className:"btn-secondary flex items-center gap-2",children:[n.jsx(ol,{className:"h-5 w-5"}),"Filter"]})]}),n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Tn,{className:"h-4 w-4"}),"Filter by Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(d=>n.jsx("button",{onClick:()=>v(d),className:`px-3 py-1 rounded-full text-sm transition-all duration-300 ${s.includes(d)?"bg-accent-clay text-white":"bg-earth-700 text-gray-900 hover:bg-earth-600"}`,children:d},d))})]})]}),l?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>n.jsxs("div",{className:"animate-pulse card p-6",children:[n.jsx("div",{className:"h-6 bg-earth-700 rounded w-3/4 mb-4"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("div",{className:"h-4 bg-earth-700 rounded w-full"}),n.jsx("div",{className:"h-4 bg-earth-700 rounded w-5/6"})]}),n.jsx("div",{className:"h-10 bg-earth-700 rounded"})]},d))}):o?n.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading trades"}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.map(d=>{const p=c[d.creatorId];return n.jsxs("div",{onClick:()=>e(`/trades/${d.id}`),className:"card p-6 card-hover cursor-pointer",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900",children:d.title}),n.jsx("span",{className:`
                    status-badge
                    ${d.status==="open"?"status-badge-active":d.status==="in-progress"?"status-badge-pending":"status-badge-completed"}
                  `,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),n.jsx("p",{className:"text-gray-700 mb-6 line-clamp-2",children:d.description}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Offering"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.offeredSkills.map(m=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:m},m))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Looking for"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.requestedSkills.map(m=>n.jsx("span",{className:"px-2 py-1 bg-accent-clay/20 text-gray-900 text-sm rounded-full border border-accent-clay/30",children:m},m))})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-earth-700",children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-900",children:p?n.jsx(Zr,{profile:p,onMessageClick:()=>x(p.id),children:n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx(Te,{url:p.profilePicture,size:"sm"}),n.jsx("span",{className:"text-sm font-medium",children:p.displayName})]})}):n.jsxs(n.Fragment,{children:[n.jsx(Sa,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Loading..."})]})}),n.jsxs("div",{className:"flex items-center text-gray-900",children:[n.jsx(Le,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(d.createdAt).toLocaleDateString()})]})]})]},d.id)}),g.length===0&&n.jsx("div",{className:"col-span-full text-center py-12",children:n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-8",children:[n.jsx(Ye,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-2",children:"No trades found"}),n.jsx("p",{className:"text-gray-700",children:"Try adjusting your search or filters"})]})})]})]})}const ht={TRADE_COMPLETION:100,COLLABORATION_COMPLETION:150,ENDORSEMENT_RECEIVED:10,GOOD_RATING:50,BADGE_EARNED:25},ct=[0,100,200,300,500,800,1300,2100,3400,5500],Wu={FIRST_TRADE:{id:"first_trade",name:"Trade Pioneer",description:"Completed your first trade",icon:"rocket"},SKILLED_TRADER:{id:"skilled_trader",name:"Skilled Trader",description:"Completed 10 successful trades",icon:"award"},MASTER_COLLABORATOR:{id:"master_collaborator",name:"Master Collaborator",description:"Participated in 5 successful collaborations",icon:"users"},SKILL_MASTER:{id:"skill_master",name:"Skill Master",description:"Reached level 5 in any skill",icon:"star"},ENDORSED_EXPERT:{id:"endorsed_expert",name:"Endorsed Expert",description:"Received 10 endorsements in a single skill",icon:"thumbs-up"}};function Xr(e){if(!e||e<0)return 1;const a=ct.findIndex((t,s)=>e>=t&&(s===ct.length-1||e<ct[s+1]));return a===-1?1:a}async function va(e,a,t){const s=_(E,"users",e);await H(s,{experience:ea(a),level:Xr(a),...t?t.reduce((i,r)=>({...i,[`skillLevels.${r}.experience`]:ea(a/t.length)}),{}):{}})}async function Vu(e,a,t){const s=_(E,"users",e);await H(s,{[`endorsements.${t}`]:Pn(a),experience:ea(ht.ENDORSEMENT_RECEIVED)})}async function Yt(e,a){const t={...Wu[a],earnedAt:new Date},s=_(E,"users",e);await H(s,{badges:Pn(t),experience:ea(ht.BADGE_EARNED)})}async function yn(e,a){var i,r,l;a.experience>=ht.TRADE_COMPLETION&&!((i=a.badges)!=null&&i.some(o=>o.id==="first_trade"))&&await Yt(e,"FIRST_TRADE"),Object.values(a.skillLevels||{}).some(o=>o.level>=5)&&!((r=a.badges)!=null&&r.some(o=>o.id==="skill_master"))&&await Yt(e,"SKILL_MASTER"),Object.values(a.endorsements||{}).some(o=>o.length>=10)&&!((l=a.badges)!=null&&l.some(o=>o.id==="endorsed_expert"))&&await Yt(e,"ENDORSED_EXPERT")}function Jr({profile:e,showEndorsements:a=!0}){const t=typeof e.experience=="number"&&e.experience>=0?e.experience:0,s=Xr(t),i=ct[s+1]||ct[s],r=ct[s],l=(t-r)/(i-r)*100;return n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"p-6 border-b border-cyber-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative group",role:"presentation",children:[n.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r from-accent-clay via-accent-ochre to-accent-sage 
                            opacity-75 blur transition-all duration-300 group-hover:opacity-100 rounded-xl`}),n.jsxs("div",{className:`relative w-14 h-14 rounded-xl bg-gradient-to-br from-earth-800/95 to-earth-700/95 
                            flex items-center justify-center border border-earth-600/80 shadow-lg 
                            backdrop-blur-sm`,children:[n.jsx(Ve,{className:"h-6 w-6 text-accent-clay","aria-hidden":"true"}),n.jsx("div",{className:"absolute inset-0 bg-noise opacity-10"})]}),n.jsx("div",{className:`absolute -top-2 -right-2 w-7 h-7 rounded-full 
                            bg-gradient-to-br from-accent-rust to-accent-clay 
                            flex items-center justify-center
                            shadow-[0_0_15px_rgba(198,125,99,0.3)]
                            border-2 border-earth-800`,role:"status","aria-label":`Current level: ${s}`,children:n.jsx("span",{className:"text-sm font-bold text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.5)]",children:s})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-display font-semibold text-accent-rust",children:["Level ",s]}),n.jsxs("p",{className:"text-sm text-gray-700","aria-label":`Experience points: ${e.experience} out of ${i}`,children:[e.experience," / ",i," XP"]})]})]}),n.jsx(jl,{className:"h-5 w-5 text-accent-rust animate-pulse","aria-hidden":"true"})]}),n.jsxs("div",{className:"relative h-3 bg-earth-700/50 rounded-full overflow-hidden shadow-inner",role:"progressbar","aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Level progress",children:[n.jsx("div",{className:`absolute inset-y-0 left-0 bg-gradient-to-r from-accent-rust via-accent-clay to-accent-ochre 
                     transition-all duration-500 animate-shimmer bg-[length:200%_auto]`,style:{width:`${l}%`}}),n.jsx("div",{className:"absolute inset-0 bg-noise opacity-10"})]})]}),n.jsxs("div",{className:"p-6 border-b border-cyber-gray-800",children:[n.jsxs("h3",{className:"text-lg font-display font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Ea,{className:"h-5 w-5 text-accent-rust","aria-hidden":"true"}),"Skill Levels"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(e.skillLevels||{}).map(([o,{level:c,experience:u}])=>{var g;return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-gray-800 group-hover:text-accent-rust transition-colors",children:o}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:`text-sm font-medium px-2.5 py-1 rounded-full 
                                bg-gradient-to-r from-accent-rust to-accent-clay text-white 
                                shadow-[0_2px_8px_rgba(198,125,99,0.25)]`,role:"status","aria-label":`${o} level ${c}`,children:["Lvl ",c]}),a&&((g=e.endorsements)==null?void 0:g[o])&&n.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-accent-rust/10 text-accent-rust",role:"status","aria-label":`${e.endorsements[o].length} endorsements`,children:[n.jsx(Si,{className:"h-3 w-3","aria-hidden":"true"}),n.jsx("span",{className:"text-xs font-medium","aria-hidden":"true",children:e.endorsements[o].length})]})]})]}),n.jsx("div",{className:"h-1.5 bg-earth-700/50 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":u/1e3*100,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`${o} progress`,children:n.jsx("div",{className:"h-full bg-gradient-to-r from-accent-rust to-accent-clay transition-all duration-300",style:{width:`${u/1e3*100}%`}})})]},o)})})]}),e.badges&&e.badges.length>0&&n.jsxs("div",{className:"p-6",children:[n.jsxs("h3",{className:"text-lg font-display font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(hs,{className:"h-5 w-5 text-accent-rust","aria-hidden":"true"}),"Achievements"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.badges.map(o=>n.jsxs("div",{className:"group relative focus-within:ring-2 focus-within:ring-accent-clay rounded-lg",role:"listitem","aria-label":`${o.name} achievement: ${o.description}`,children:[n.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r from-accent-clay to-accent-ochre 
                              opacity-0 group-hover:opacity-75 rounded-lg blur transition-all duration-300`}),n.jsx("div",{className:`relative p-4 bg-earth-800/95 rounded-lg border border-earth-700/50 
                              backdrop-blur-sm group-hover:border-accent-clay 
                              transition-all duration-300`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br from-accent-rust to-accent-clay 
                                  shadow-[0_4px_12px_rgba(198,125,99,0.25)]
                                  group-hover:shadow-[0_4px_12px_rgba(198,125,99,0.4)]
                                  transition-all duration-300`,children:n.jsx(hs,{className:"h-5 w-5 text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.5)]","aria-hidden":"true"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 group-hover:text-accent-rust transition-colors",children:o.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.description})]})]})})]},o.id))})]})]})}const Gu=e=>{switch(e){case"banner-masculine":return"Earth Force";case"banner-feminine":return"Gentle Dawn";case"banner-neutral":return"Golden Balance";default:return"New Banner"}};function Ku({bannerId:e,onClose:a,onClick:t}){const[s,i]=h.useState(!1);return h.useEffect(()=>{i(!0);const r=setTimeout(()=>{i(!1),setTimeout(a,500)},5e3);return()=>clearTimeout(r)},[a]),n.jsxs("div",{className:`fixed bottom-4 right-4 flex items-center gap-4 p-4
                bg-earth-800 border border-earth-700 rounded-lg shadow-lg 
                transform transition-all duration-500 ${s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[n.jsx("div",{className:`w-16 h-16 rounded-lg overflow-hidden ${e}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-display font-semibold text-gray-900",children:"New Banner Unlocked!"}),n.jsx("p",{className:"text-sm text-gray-600",children:Gu(e)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:t,className:"btn-primary text-sm",children:"Try it"}),n.jsx("button",{onClick:()=>{i(!1),setTimeout(a,500)},className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",children:n.jsx(be,{className:"h-4 w-4"})})]})]})}var nn={exports:{}},sn,Bs;function Yu(){if(Bs)return sn;Bs=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sn=e,sn}var rn,Us;function Zu(){if(Us)return rn;Us=1;var e=Yu();function a(){}function t(){}return t.resetWarningCache=a,rn=function(){function s(l,o,c,u,g,f){if(f!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function i(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:a};return r.PropTypes=r,r},rn}var Hs;function Xu(){return Hs||(Hs=1,nn.exports=Zu()()),nn.exports}var Ju=Xu();const B=An(Ju),Qu=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ft(e,a,t){const s=em(e),{webkitRelativePath:i}=e,r=typeof a=="string"?a:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof s.path!="string"&&Ws(s,"path",r),Ws(s,"relativePath",r),s}function em(e){const{name:a}=e;if(a&&a.lastIndexOf(".")!==-1&&!e.type){const s=a.split(".").pop().toLowerCase(),i=Qu.get(s);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Ws(e,a,t){Object.defineProperty(e,a,{value:t,writable:!1,configurable:!1,enumerable:!0})}const tm=[".DS_Store","Thumbs.db"];function am(e){return Qe(this,void 0,void 0,function*(){return ba(e)&&nm(e.dataTransfer)?om(e.dataTransfer,e.type):sm(e)?im(e):Array.isArray(e)&&e.every(a=>"getFile"in a&&typeof a.getFile=="function")?rm(e):[]})}function nm(e){return ba(e)}function sm(e){return ba(e)&&ba(e.target)}function ba(e){return typeof e=="object"&&e!==null}function im(e){return jn(e.target.files).map(a=>ft(a))}function rm(e){return Qe(this,void 0,void 0,function*(){return(yield Promise.all(e.map(t=>t.getFile()))).map(t=>ft(t))})}function om(e,a){return Qe(this,void 0,void 0,function*(){if(e.items){const t=jn(e.items).filter(i=>i.kind==="file");if(a!=="drop")return t;const s=yield Promise.all(t.map(lm));return Vs(Qr(s))}return Vs(jn(e.files).map(t=>ft(t)))})}function Vs(e){return e.filter(a=>tm.indexOf(a.name)===-1)}function jn(e){if(e===null)return[];const a=[];for(let t=0;t<e.length;t++){const s=e[t];a.push(s)}return a}function lm(e){if(typeof e.webkitGetAsEntry!="function")return Gs(e);const a=e.webkitGetAsEntry();return a&&a.isDirectory?eo(a):Gs(e,a)}function Qr(e){return e.reduce((a,t)=>[...a,...Array.isArray(t)?Qr(t):[t]],[])}function Gs(e,a){return Qe(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const r=yield e.getAsFileSystemHandle();if(r===null)throw new Error(`${e} is not a File`);if(r!==void 0){const l=yield r.getFile();return l.handle=r,ft(l)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return ft(s,(t=a==null?void 0:a.fullPath)!==null&&t!==void 0?t:void 0)})}function cm(e){return Qe(this,void 0,void 0,function*(){return e.isDirectory?eo(e):dm(e)})}function eo(e){const a=e.createReader();return new Promise((t,s)=>{const i=[];function r(){a.readEntries(l=>Qe(this,void 0,void 0,function*(){if(l.length){const o=Promise.all(l.map(cm));i.push(o),r()}else try{const o=yield Promise.all(i);t(o)}catch(o){s(o)}}),l=>{s(l)})}r()})}function dm(e){return Qe(this,void 0,void 0,function*(){return new Promise((a,t)=>{e.file(s=>{const i=ft(s,e.fullPath);a(i)},s=>{t(s)})})})}var Wt={},Ks;function pm(){return Ks||(Ks=1,Wt.__esModule=!0,Wt.default=function(e,a){if(e&&a){var t=Array.isArray(a)?a:a.split(",");if(t.length===0)return!0;var s=e.name||"",i=(e.type||"").toLowerCase(),r=i.replace(/\/.*$/,"");return t.some(function(l){var o=l.trim().toLowerCase();return o.charAt(0)==="."?s.toLowerCase().endsWith(o):o.endsWith("/*")?r===o.replace(/\/.*$/,""):i===o})}return!0}),Wt}var um=pm();const on=An(um);function Ys(e){return fm(e)||hm(e)||ao(e)||mm()}function mm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fm(e){if(Array.isArray(e))return Nn(e)}function Zs(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,s)}return t}function Xs(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Zs(Object(t),!0).forEach(function(s){to(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zs(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function to(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function At(e,a){return vm(e)||xm(e,a)||ao(e,a)||gm()}function gm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ao(e,a){if(e){if(typeof e=="string")return Nn(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nn(e,a)}}function Nn(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,s=new Array(a);t<a;t++)s[t]=e[t];return s}function xm(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],i=!0,r=!1,l,o;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(s.push(l.value),!(a&&s.length===a));i=!0);}catch(c){r=!0,o=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(r)throw o}}return s}}function vm(e){if(Array.isArray(e))return e}var bm=typeof on=="function"?on:on.default,wm="file-invalid-type",ym="file-too-large",jm="file-too-small",Nm="too-many-files",km=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=a.split(","),s=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:wm,message:"File type must be ".concat(s)}},Js=function(a){return{code:ym,message:"File is larger than ".concat(a," ").concat(a===1?"byte":"bytes")}},Qs=function(a){return{code:jm,message:"File is smaller than ".concat(a," ").concat(a===1?"byte":"bytes")}},Cm={code:Nm,message:"Too many files"};function no(e,a){var t=e.type==="application/x-moz-file"||bm(e,a);return[t,t?null:km(a)]}function so(e,a,t){if(He(e.size))if(He(a)&&He(t)){if(e.size>t)return[!1,Js(t)];if(e.size<a)return[!1,Qs(a)]}else{if(He(a)&&e.size<a)return[!1,Qs(a)];if(He(t)&&e.size>t)return[!1,Js(t)]}return[!0,null]}function He(e){return e!=null}function Em(e){var a=e.files,t=e.accept,s=e.minSize,i=e.maxSize,r=e.multiple,l=e.maxFiles,o=e.validator;return!r&&a.length>1||r&&l>=1&&a.length>l?!1:a.every(function(c){var u=no(c,t),g=At(u,1),f=g[0],v=so(c,s,i),x=At(v,1),d=x[0],p=o?o(c):null;return f&&d&&!p})}function wa(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Vt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(a){return a==="Files"||a==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ei(e){e.preventDefault()}function Sm(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Am(e){return e.indexOf("Edge/")!==-1}function Pm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Sm(e)||Am(e)}function Ae(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(s){for(var i=arguments.length,r=new Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];return a.some(function(o){return!wa(s)&&o&&o.apply(void 0,[s].concat(r)),wa(s)})}}function Dm(){return"showOpenFilePicker"in window}function Tm(e){if(He(e)){var a=Object.entries(e).filter(function(t){var s=At(t,2),i=s[0],r=s[1],l=!0;return io(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(r)||!r.every(ro))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,s){var i=At(s,2),r=i[0],l=i[1];return Xs(Xs({},t),{},to({},r,l))},{});return[{description:"Files",accept:a}]}return e}function Im(e){if(He(e))return Object.entries(e).reduce(function(a,t){var s=At(t,2),i=s[0],r=s[1];return[].concat(Ys(a),[i],Ys(r))},[]).filter(function(a){return io(a)||ro(a)}).join(",")}function Rm(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Mm(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function io(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function ro(e){return/^.*\.[\w]+$/.test(e)}var _m=["children"],Fm=["open"],Lm=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Om=["refKey","onChange","onClick"];function zm(e){return Bm(e)||qm(e)||oo(e)||$m()}function $m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bm(e){if(Array.isArray(e))return kn(e)}function ln(e,a){return Wm(e)||Hm(e,a)||oo(e,a)||Um()}function Um(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(e,a){if(e){if(typeof e=="string")return kn(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kn(e,a)}}function kn(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,s=new Array(a);t<a;t++)s[t]=e[t];return s}function Hm(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],i=!0,r=!1,l,o;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(s.push(l.value),!(a&&s.length===a));i=!0);}catch(c){r=!0,o=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(r)throw o}}return s}}function Wm(e){if(Array.isArray(e))return e}function ti(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,s)}return t}function V(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ti(Object(t),!0).forEach(function(s){Cn(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ti(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Cn(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ya(e,a){if(e==null)return{};var t=Vm(e,a),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)s=r[i],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}function Vm(e,a){if(e==null)return{};var t={},s=Object.keys(e),i,r;for(r=0;r<s.length;r++)i=s[r],!(a.indexOf(i)>=0)&&(t[i]=e[i]);return t}var es=h.forwardRef(function(e,a){var t=e.children,s=ya(e,_m),i=co(s),r=i.open,l=ya(i,Fm);return h.useImperativeHandle(a,function(){return{open:r}},[r]),Ct.createElement(h.Fragment,null,t(V(V({},l),{},{open:r})))});es.displayName="Dropzone";var lo={disabled:!1,getFilesFromEvent:am,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};es.defaultProps=lo;es.propTypes={children:B.func,accept:B.objectOf(B.arrayOf(B.string)),multiple:B.bool,preventDropOnDocument:B.bool,noClick:B.bool,noKeyboard:B.bool,noDrag:B.bool,noDragEventsBubbling:B.bool,minSize:B.number,maxSize:B.number,maxFiles:B.number,disabled:B.bool,getFilesFromEvent:B.func,onFileDialogCancel:B.func,onFileDialogOpen:B.func,useFsAccessApi:B.bool,autoFocus:B.bool,onDragEnter:B.func,onDragLeave:B.func,onDragOver:B.func,onDrop:B.func,onDropAccepted:B.func,onDropRejected:B.func,onError:B.func,validator:B.func};var En={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function co(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=V(V({},lo),e),t=a.accept,s=a.disabled,i=a.getFilesFromEvent,r=a.maxSize,l=a.minSize,o=a.multiple,c=a.maxFiles,u=a.onDragEnter,g=a.onDragLeave,f=a.onDragOver,v=a.onDrop,x=a.onDropAccepted,d=a.onDropRejected,p=a.onFileDialogCancel,m=a.onFileDialogOpen,y=a.useFsAccessApi,w=a.autoFocus,N=a.preventDropOnDocument,k=a.noClick,C=a.noKeyboard,j=a.noDrag,S=a.noDragEventsBubbling,A=a.onError,R=a.validator,$=h.useMemo(function(){return Im(t)},[t]),de=h.useMemo(function(){return Tm(t)},[t]),W=h.useMemo(function(){return typeof m=="function"?m:ai},[m]),Re=h.useMemo(function(){return typeof p=="function"?p:ai},[p]),Q=h.useRef(null),pe=h.useRef(null),La=h.useReducer(Gm,En),Ft=ln(La,2),at=Ft[0],oe=Ft[1],F=at.isFocused,T=at.isFileDialogActive,ee=h.useRef(typeof window<"u"&&window.isSecureContext&&y&&Dm()),Ce=function(){!ee.current&&T&&setTimeout(function(){if(pe.current){var M=pe.current.files;M.length||(oe({type:"closeDialog"}),Re())}},300)};h.useEffect(function(){return window.addEventListener("focus",Ce,!1),function(){window.removeEventListener("focus",Ce,!1)}},[pe,T,Re,ee]);var xe=h.useRef([]),Lt=function(M){Q.current&&Q.current.contains(M.target)||(M.preventDefault(),xe.current=[])};h.useEffect(function(){return N&&(document.addEventListener("dragover",ei,!1),document.addEventListener("drop",Lt,!1)),function(){N&&(document.removeEventListener("dragover",ei),document.removeEventListener("drop",Lt))}},[Q,N]),h.useEffect(function(){return!s&&w&&Q.current&&Q.current.focus(),function(){}},[Q,w,s]);var $e=h.useCallback(function(P){A?A(P):console.error(P)},[A]),as=h.useCallback(function(P){P.preventDefault(),P.persist(),qt(P),xe.current=[].concat(zm(xe.current),[P.target]),Vt(P)&&Promise.resolve(i(P)).then(function(M){if(!(wa(P)&&!S)){var Y=M.length,te=Y>0&&Em({files:M,accept:$,minSize:l,maxSize:r,multiple:o,maxFiles:c,validator:R}),ve=Y>0&&!te;oe({isDragAccept:te,isDragReject:ve,isDragActive:!0,type:"setDraggedFiles"}),u&&u(P)}}).catch(function(M){return $e(M)})},[i,u,$e,S,$,l,r,o,c,R]),ns=h.useCallback(function(P){P.preventDefault(),P.persist(),qt(P);var M=Vt(P);if(M&&P.dataTransfer)try{P.dataTransfer.dropEffect="copy"}catch{}return M&&f&&f(P),!1},[f,S]),ss=h.useCallback(function(P){P.preventDefault(),P.persist(),qt(P);var M=xe.current.filter(function(te){return Q.current&&Q.current.contains(te)}),Y=M.indexOf(P.target);Y!==-1&&M.splice(Y,1),xe.current=M,!(M.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Vt(P)&&g&&g(P))},[Q,g,S]),Ot=h.useCallback(function(P,M){var Y=[],te=[];P.forEach(function(ve){var jt=no(ve,$),it=ln(jt,2),za=it[0],$a=it[1],qa=so(ve,l,r),Bt=ln(qa,2),Ba=Bt[0],Ua=Bt[1],Ha=R?R(ve):null;if(za&&Ba&&!Ha)Y.push(ve);else{var Wa=[$a,Ua];Ha&&(Wa=Wa.concat(Ha)),te.push({file:ve,errors:Wa.filter(function(xo){return xo})})}}),(!o&&Y.length>1||o&&c>=1&&Y.length>c)&&(Y.forEach(function(ve){te.push({file:ve,errors:[Cm]})}),Y.splice(0)),oe({acceptedFiles:Y,fileRejections:te,isDragReject:te.length>0,type:"setFiles"}),v&&v(Y,te,M),te.length>0&&d&&d(te,M),Y.length>0&&x&&x(Y,M)},[oe,o,$,l,r,c,v,x,d,R]),zt=h.useCallback(function(P){P.preventDefault(),P.persist(),qt(P),xe.current=[],Vt(P)&&Promise.resolve(i(P)).then(function(M){wa(P)&&!S||Ot(M,P)}).catch(function(M){return $e(M)}),oe({type:"reset"})},[i,Ot,$e,S]),nt=h.useCallback(function(){if(ee.current){oe({type:"openDialog"}),W();var P={multiple:o,types:de};window.showOpenFilePicker(P).then(function(M){return i(M)}).then(function(M){Ot(M,null),oe({type:"closeDialog"})}).catch(function(M){Rm(M)?(Re(M),oe({type:"closeDialog"})):Mm(M)?(ee.current=!1,pe.current?(pe.current.value=null,pe.current.click()):$e(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):$e(M)});return}pe.current&&(oe({type:"openDialog"}),W(),pe.current.value=null,pe.current.click())},[oe,W,Re,y,Ot,$e,de,o]),is=h.useCallback(function(P){!Q.current||!Q.current.isEqualNode(P.target)||(P.key===" "||P.key==="Enter"||P.keyCode===32||P.keyCode===13)&&(P.preventDefault(),nt())},[Q,nt]),rs=h.useCallback(function(){oe({type:"focus"})},[]),os=h.useCallback(function(){oe({type:"blur"})},[]),ls=h.useCallback(function(){k||(Pm()?setTimeout(nt,0):nt())},[k,nt]),st=function(M){return s?null:M},Oa=function(M){return C?null:st(M)},$t=function(M){return j?null:st(M)},qt=function(M){S&&M.stopPropagation()},ho=h.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=P.refKey,Y=M===void 0?"ref":M,te=P.role,ve=P.onKeyDown,jt=P.onFocus,it=P.onBlur,za=P.onClick,$a=P.onDragEnter,qa=P.onDragOver,Bt=P.onDragLeave,Ba=P.onDrop,Ua=ya(P,Lm);return V(V(Cn({onKeyDown:Oa(Ae(ve,is)),onFocus:Oa(Ae(jt,rs)),onBlur:Oa(Ae(it,os)),onClick:st(Ae(za,ls)),onDragEnter:$t(Ae($a,as)),onDragOver:$t(Ae(qa,ns)),onDragLeave:$t(Ae(Bt,ss)),onDrop:$t(Ae(Ba,zt)),role:typeof te=="string"&&te!==""?te:"presentation"},Y,Q),!s&&!C?{tabIndex:0}:{}),Ua)}},[Q,is,rs,os,ls,as,ns,ss,zt,C,j,s]),fo=h.useCallback(function(P){P.stopPropagation()},[]),go=h.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=P.refKey,Y=M===void 0?"ref":M,te=P.onChange,ve=P.onClick,jt=ya(P,Om),it=Cn({accept:$,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:st(Ae(te,zt)),onClick:st(Ae(ve,fo)),tabIndex:-1},Y,pe);return V(V({},it),jt)}},[pe,t,o,zt,s]);return V(V({},at),{},{isFocused:F&&!s,getRootProps:ho,getInputProps:go,rootRef:Q,inputRef:pe,open:st(nt)})}function Gm(e,a){switch(a.type){case"focus":return V(V({},e),{},{isFocused:!0});case"blur":return V(V({},e),{},{isFocused:!1});case"openDialog":return V(V({},En),{},{isFileDialogActive:!0});case"closeDialog":return V(V({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return V(V({},e),{},{isDragActive:a.isDragActive,isDragAccept:a.isDragAccept,isDragReject:a.isDragReject});case"setFiles":return V(V({},e),{},{acceptedFiles:a.acceptedFiles,fileRejections:a.fileRejections,isDragReject:a.isDragReject});case"reset":return V({},En);default:return e}}function ai(){}var cn,ni;function Km(){if(ni)return cn;ni=1;var e=!1,a,t,s,i,r,l,o,c,u,g,f,v,x,d,p;function m(){if(!e){e=!0;var w=navigator.userAgent,N=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(w),k=/(Mac OS X)|(Windows)|(Linux)/.exec(w);if(v=/\b(iPhone|iP[ao]d)/.exec(w),x=/\b(iP[ao]d)/.exec(w),g=/Android/i.exec(w),d=/FBAN\/\w+;/i.exec(w),p=/Mobile/i.exec(w),f=!!/Win64/.exec(w),N){a=N[1]?parseFloat(N[1]):N[5]?parseFloat(N[5]):NaN,a&&document&&document.documentMode&&(a=document.documentMode);var C=/(?:Trident\/(\d+.\d+))/.exec(w);l=C?parseFloat(C[1])+4:a,t=N[2]?parseFloat(N[2]):NaN,s=N[3]?parseFloat(N[3]):NaN,i=N[4]?parseFloat(N[4]):NaN,i?(N=/(?:Chrome\/(\d+\.\d+))/.exec(w),r=N&&N[1]?parseFloat(N[1]):NaN):r=NaN}else a=t=s=r=i=NaN;if(k){if(k[1]){var j=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(w);o=j?parseFloat(j[1].replace("_",".")):!0}else o=!1;c=!!k[2],u=!!k[3]}else o=c=u=!1}}var y={ie:function(){return m()||a},ieCompatibilityMode:function(){return m()||l>a},ie64:function(){return y.ie()&&f},firefox:function(){return m()||t},opera:function(){return m()||s},webkit:function(){return m()||i},safari:function(){return y.webkit()},chrome:function(){return m()||r},windows:function(){return m()||c},osx:function(){return m()||o},linux:function(){return m()||u},iphone:function(){return m()||v},mobile:function(){return m()||v||x||g||p},nativeApp:function(){return m()||d},android:function(){return m()||g},ipad:function(){return m()||x}};return cn=y,cn}var dn,si;function Ym(){if(si)return dn;si=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),a={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return dn=a,dn}var pn,ii;function Zm(){if(ii)return pn;ii=1;var e=Ym(),a;e.canUseDOM&&(a=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(s,i){if(!e.canUseDOM||i&&!("addEventListener"in document))return!1;var r="on"+s,l=r in document;if(!l){var o=document.createElement("div");o.setAttribute(r,"return;"),l=typeof o[r]=="function"}return!l&&a&&s==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return pn=t,pn}var un,ri;function Xm(){if(ri)return un;ri=1;var e=Km(),a=Zm(),t=10,s=40,i=800;function r(l){var o=0,c=0,u=0,g=0;return"detail"in l&&(c=l.detail),"wheelDelta"in l&&(c=-l.wheelDelta/120),"wheelDeltaY"in l&&(c=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(o=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(o=c,c=0),u=o*t,g=c*t,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(u=l.deltaX),(u||g)&&l.deltaMode&&(l.deltaMode==1?(u*=s,g*=s):(u*=i,g*=i)),u&&!o&&(o=u<1?-1:1),g&&!c&&(c=g<1?-1:1),{spinX:o,spinY:c,pixelX:u,pixelY:g}}return r.getEventType=function(){return e.firefox()?"DOMMouseScroll":a("wheel")?"wheel":"mousewheel"},un=r,un}var mn,oi;function Jm(){return oi||(oi=1,mn=Xm()),mn}var Qm=Jm();const eh=An(Qm);function th(e,a,t,s,i,r){r===void 0&&(r=0);var l=gt(e,a,r),o=l.width,c=l.height,u=Math.min(o,t),g=Math.min(c,s);return u>g*i?{width:g*i,height:g}:{width:u,height:u/i}}function ah(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function kt(e,a,t,s,i){i===void 0&&(i=0);var r=gt(a.width,a.height,i),l=r.width,o=r.height;return{x:li(e.x,l,t.width,s),y:li(e.y,o,t.height,s)}}function li(e,a,t,s){var i=a*s/2-t/2;return Fa(e,-i,i)}function ci(e,a){return Math.sqrt(Math.pow(e.y-a.y,2)+Math.pow(e.x-a.x,2))}function di(e,a){return Math.atan2(a.y-e.y,a.x-e.x)*180/Math.PI}function nh(e,a,t,s,i,r,l){r===void 0&&(r=0),l===void 0&&(l=!0);var o=l?sh:ih,c=gt(a.width,a.height,r),u=gt(a.naturalWidth,a.naturalHeight,r),g={x:o(100,((c.width-t.width/i)/2-e.x/i)/c.width*100),y:o(100,((c.height-t.height/i)/2-e.y/i)/c.height*100),width:o(100,t.width/c.width*100/i),height:o(100,t.height/c.height*100/i)},f=Math.round(o(u.width,g.width*u.width/100)),v=Math.round(o(u.height,g.height*u.height/100)),x=u.width>=u.height*s,d=x?{width:Math.round(v*s),height:v}:{width:f,height:Math.round(f/s)},p=ue(ue({},d),{x:Math.round(o(u.width-d.width,g.x*u.width/100)),y:Math.round(o(u.height-d.height,g.y*u.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:p}}function sh(e,a){return Math.min(e,Math.max(0,a))}function ih(e,a){return a}function rh(e,a,t,s,i,r){var l=gt(a.width,a.height,t),o=Fa(s.width/l.width*(100/e.width),i,r),c={x:o*l.width/2-s.width/2-l.width*o*(e.x/100),y:o*l.height/2-s.height/2-l.height*o*(e.y/100)};return{crop:c,zoom:o}}function oh(e,a,t){var s=ah(a);return t.height>t.width?t.height/(e.height*s):t.width/(e.width*s)}function lh(e,a,t,s,i,r){t===void 0&&(t=0);var l=gt(a.naturalWidth,a.naturalHeight,t),o=Fa(oh(e,a,s),i,r),c=s.height>s.width?s.height/e.height:s.width/e.width,u={x:((l.width-e.width)/2-e.x)*c,y:((l.height-e.height)/2-e.y)*c};return{crop:u,zoom:o}}function pi(e,a){return{x:(a.x+e.x)/2,y:(a.y+e.y)/2}}function ch(e){return e*Math.PI/180}function gt(e,a,t){var s=ch(t);return{width:Math.abs(Math.cos(s)*e)+Math.abs(Math.sin(s)*a),height:Math.abs(Math.sin(s)*e)+Math.abs(Math.cos(s)*a)}}function Fa(e,a,t){return Math.min(Math.max(e,a),t)}function Gt(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var dh=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ph=1,uh=3,mh=1,hh=function(e){Ko(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.imageRef=h.createRef(),t.videoRef=h.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var s=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(s){s=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(s){return s.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturemove",t.onGestureMove),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var s=t.computeSizes();s&&(t.emitCropData(),t.setInitialCrop(s)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(s){if(t.props.initialCroppedAreaPercentages){var i=rh(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),r=i.crop,l=i.zoom;t.props.onCropChange(r),t.props.onZoomChange&&t.props.onZoomChange(l)}else if(t.props.initialCroppedAreaPixels){var o=lh(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,s,t.props.minZoom,t.props.maxZoom),r=o.crop,l=o.zoom;t.props.onCropChange(r),t.props.onZoomChange&&t.props.onZoomChange(l)}},t.computeSizes=function(){var s,i,r,l,o,c,u=t.imageRef.current||t.videoRef.current;if(u&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var g=t.containerRect.width/t.containerRect.height,f=((s=t.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,v=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((l=t.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,x=u.offsetWidth<f||u.offsetHeight<v,d=f/v,p=void 0;if(x)switch(t.state.mediaObjectFit){default:case"contain":p=g>d?{width:t.containerRect.height*d,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/d};break;case"horizontal-cover":p={width:t.containerRect.width,height:t.containerRect.width/d};break;case"vertical-cover":p={width:t.containerRect.height*d,height:t.containerRect.height};break}else p={width:u.offsetWidth,height:u.offsetHeight};t.mediaSize=ue(ue({},p),{naturalWidth:f,naturalHeight:v}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var m=t.props.cropSize?t.props.cropSize:th(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((o=t.state.cropSize)===null||o===void 0?void 0:o.height)!==m.height||((c=t.state.cropSize)===null||c===void 0?void 0:c.width)!==m.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(m),t.setState({cropSize:m},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(m),m}},t.saveContainerPosition=function(){if(t.containerRef){var s=t.containerRef.getBoundingClientRect();t.containerPosition={x:s.left,y:s.top}}},t.onMouseDown=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(a.getMousePoint(s)))},t.onMouseMove=function(s){return t.onDrag(a.getMousePoint(s))},t.onScroll=function(s){t.currentDoc&&(s.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(s){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(s))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),s.touches.length===2?t.onPinchStart(s):s.touches.length===1&&t.onDragStart(a.getTouchPoint(s.touches[0]))))},t.onTouchMove=function(s){s.preventDefault(),s.touches.length===2?t.onPinchMove(s):s.touches.length===1&&t.onDrag(a.getTouchPoint(s.touches[0]))},t.onGestureStart=function(s){t.currentDoc&&(s.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureMove),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureMove=function(s){if(s.preventDefault(),!t.isTouching){var i=a.getMousePoint(s),r=t.gestureZoomStart-1+s.scale;if(t.setNewZoom(r,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var l=t.gestureRotationStart+s.rotation;t.props.onRotationChange(l)}}},t.onGestureEnd=function(s){t.cleanEvents()},t.onDragStart=function(s){var i,r,l=s.x,o=s.y;t.dragStartPosition={x:l,y:o},t.dragStartCrop=ue({},t.props.crop),(r=(i=t.props).onInteractionStart)===null||r===void 0||r.call(i)},t.onDrag=function(s){var i=s.x,r=s.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||r===void 0)){var l=i-t.dragStartPosition.x,o=r-t.dragStartPosition.y,c={x:t.dragStartCrop.x+l,y:t.dragStartCrop.y+o},u=t.props.restrictPosition?kt(c,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):c;t.props.onCropChange(u)}}))},t.onDragStopped=function(){var s,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(s=t.props).onInteractionEnd)===null||i===void 0||i.call(s)},t.onWheel=function(s){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(s))){s.preventDefault();var i=a.getMousePoint(s),r=eh(s).pixelY,l=t.props.zoom-r*t.props.zoomSpeed/200;t.setNewZoom(l,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var o,c;return(c=(o=t.props).onInteractionStart)===null||c===void 0?void 0:c.call(o)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var o,c;return(c=(o=t.props).onInteractionEnd)===null||c===void 0?void 0:c.call(o)})},250)}},t.getPointOnContainer=function(s,i){var r=s.x,l=s.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(r-i.x),y:t.containerRect.height/2-(l-i.y)}},t.getPointOnMedia=function(s){var i=s.x,r=s.y,l=t.props,o=l.crop,c=l.zoom;return{x:(i+o.x)/c,y:(r+o.y)/c}},t.setNewZoom=function(s,i,r){var l=r===void 0?{}:r,o=l.shouldUpdatePosition,c=o===void 0?!0:o;if(!(!t.state.cropSize||!t.props.onZoomChange)){var u=Fa(s,t.props.minZoom,t.props.maxZoom);if(c){var g=t.getPointOnContainer(i,t.containerPosition),f=t.getPointOnMedia(g),v={x:f.x*u-g.x,y:f.y*u-g.y},x=t.props.restrictPosition?kt(v,t.mediaSize,t.state.cropSize,u,t.props.rotation):v;t.props.onCropChange(x)}t.props.onZoomChange(u)}},t.getCropData=function(){if(!t.state.cropSize)return null;var s=t.props.restrictPosition?kt(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return nh(s,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var s=t.getCropData();if(s){var i=s.croppedAreaPercentages,r=s.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,r),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,r)}},t.emitCropAreaChange=function(){var s=t.getCropData();if(s){var i=s.croppedAreaPercentages,r=s.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,r)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var s=t.props.restrictPosition?kt(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(s),t.emitCropData()}},t.onKeyDown=function(s){var i=t.props,r=i.crop,l=i.onCropChange,o=i.keyboardStep,c=i.zoom,u=i.rotation,g=o;if(t.state.cropSize){s.shiftKey&&(g*=.2);var f=ue({},r);switch(s.key){case"ArrowUp":f.y-=g,s.preventDefault();break;case"ArrowDown":f.y+=g,s.preventDefault();break;case"ArrowLeft":f.x-=g,s.preventDefault();break;case"ArrowRight":f.x+=g,s.preventDefault();break;default:return}t.props.restrictPosition&&(f=kt(f,t.mediaSize,t.state.cropSize,c,u)),l(f)}},t}return a.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=dh,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},a.prototype.componentWillUnmount=function(){var t,s;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((s=this.styleRef.parentNode)===null||s===void 0||s.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},a.prototype.componentDidUpdate=function(t){var s,i,r,l,o,c,u,g,f;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((s=t.cropSize)===null||s===void 0?void 0:s.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((r=t.cropSize)===null||r===void 0?void 0:r.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((o=t.crop)===null||o===void 0?void 0:o.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((u=t.crop)===null||u===void 0?void 0:u.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},a.prototype.getAspect=function(){var t=this.props,s=t.cropSize,i=t.aspect;return s?s.width/s.height:i},a.prototype.getObjectFit=function(){var t,s,i,r;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height,c=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoHeight)||0,g=c/u;return g<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},a.prototype.onPinchStart=function(t){var s=a.getTouchPoint(t.touches[0]),i=a.getTouchPoint(t.touches[1]);this.lastPinchDistance=ci(s,i),this.lastPinchRotation=di(s,i),this.onDragStart(pi(s,i))},a.prototype.onPinchMove=function(t){var s=this;if(!(!this.currentDoc||!this.currentWindow)){var i=a.getTouchPoint(t.touches[0]),r=a.getTouchPoint(t.touches[1]),l=pi(i,r);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var o=ci(i,r),c=s.props.zoom*(o/s.lastPinchDistance);s.setNewZoom(c,l,{shouldUpdatePosition:!1}),s.lastPinchDistance=o;var u=di(i,r),g=s.props.rotation+(u-s.lastPinchRotation);s.props.onRotationChange&&s.props.onRotationChange(g),s.lastPinchRotation=u})}},a.prototype.render=function(){var t=this,s,i=this.props,r=i.image,l=i.video,o=i.mediaProps,c=i.transform,u=i.crop,g=u.x,f=u.y,v=i.rotation,x=i.zoom,d=i.cropShape,p=i.showGrid,m=i.style,y=m.containerStyle,w=m.cropAreaStyle,N=m.mediaStyle,k=i.classes,C=k.containerClassName,j=k.cropAreaClassName,S=k.mediaClassName,A=(s=this.state.mediaObjectFit)!==null&&s!==void 0?s:this.getObjectFit();return h.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return t.containerRef=$},"data-testid":"container",style:y,className:Gt("reactEasyCrop_Container",C)},r?h.createElement("img",ue({alt:"",className:Gt("reactEasyCrop_Image",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},o,{src:r,ref:this.imageRef,style:ue(ue({},N),{transform:c||"translate(".concat(g,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(x,")")}),onLoad:this.onMediaLoad})):l&&h.createElement("video",ue({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Gt("reactEasyCrop_Video",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ue(ue({},N),{transform:c||"translate(".concat(g,"px, ").concat(f,"px) rotate(").concat(v,"deg) scale(").concat(x,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(R){return h.createElement("source",ue({key:R.src},R))})),this.state.cropSize&&h.createElement("div",{style:ue(ue({},w),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:Gt("reactEasyCrop_CropArea",d==="round"&&"reactEasyCrop_CropAreaRound",p&&"reactEasyCrop_CropAreaGrid",j)}))},a.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:uh,minZoom:ph,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:mh},a.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},a.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},a}(h.Component);function fh({image:e,onCropComplete:a,onCancel:t,aspectRatio:s=1}){const[i,r]=h.useState({x:0,y:0}),[l,o]=h.useState(1),[c,u]=h.useState(null),[g,f]=h.useState(!1),[v,x]=h.useState(null),d=k=>{r(k)},p=k=>{o(k)},m=h.useCallback((k,C)=>{u(C)},[]),y=k=>new Promise((C,j)=>{const S=new Image;S.addEventListener("load",()=>C(S)),S.addEventListener("error",A=>j(A)),S.setAttribute("crossOrigin","anonymous"),S.src=k}),w=async(k,C,j=0)=>{const S=await y(k),A=document.createElement("canvas"),R=A.getContext("2d");if(!R)throw new Error("No 2d context");return A.width=C.width,A.height=C.height,R.save(),R.translate(A.width/2,A.height/2),R.rotate(j*Math.PI/180),R.translate(-A.width/2,-A.height/2),R.drawImage(S,C.x,C.y,C.width,C.height,0,0,C.width,C.height),R.restore(),new Promise(($,de)=>{A.toBlob(W=>{W?$(W):de(new Error("Canvas to Blob conversion failed"))},"image/jpeg",.95)})},N=async()=>{if(c){f(!0),x(null);try{const k=await w(e,c);await a(k)}catch(k){console.error("Error cropping image:",k),x("Failed to crop image. Please try again.")}finally{f(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-cyber-black/90 backdrop-blur-lg z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative w-full max-w-2xl bg-cyber-gray-900 rounded-lg",children:[n.jsxs("div",{className:"p-4 border-b border-cyber-gray-800 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-display font-semibold text-cyber-gray-50",children:"Adjust Profile Picture"}),n.jsx("button",{onClick:t,className:"p-2 text-cyber-gray-400 hover:text-neon-blue transition-colors",disabled:g,children:n.jsx(be,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"relative h-96",children:n.jsx(hh,{image:e,crop:i,zoom:l,aspect:s,onCropChange:d,onZoomChange:p,onCropComplete:m,cropShape:"round",showGrid:!1,style:{containerStyle:{background:"rgb(26, 26, 26)"},cropAreaStyle:{border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"50%",boxShadow:"0 0 0 9999px rgba(12, 12, 12, 0.85)"},mediaStyle:{background:"rgb(26, 26, 26)"}}})}),n.jsxs("div",{className:"p-6 border-t border-cyber-gray-800",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-cyber-gray-200 flex items-center gap-2",children:[n.jsx(Nl,{className:"h-4 w-4 text-cyber-gray-400"}),"Zoom Level"]}),n.jsxs("span",{className:"text-sm text-cyber-gray-400",children:[l.toFixed(1),"x"]})]}),n.jsx("input",{type:"range",min:1,max:3,step:.1,value:l,onChange:k=>o(Number(k.target.value)),className:`w-full appearance-none bg-cyber-gray-800 h-2 rounded-full outline-none
                       [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 
                       [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full 
                       [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer
                       [&::-webkit-slider-thumb]:hover:ring-2 [&::-webkit-slider-thumb]:hover:ring-white/50
                       [&::-webkit-slider-thumb]:transition-all`})]}),v&&n.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[n.jsx(Ee,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("p",{className:"text-sm",children:v})]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:t,disabled:g,className:`px-4 py-2 bg-cyber-gray-800 text-cyber-gray-50 rounded-lg 
                       hover:bg-cyber-gray-700 transition-colors disabled:opacity-50`,children:"Cancel"}),n.jsx("button",{onClick:N,disabled:g,className:`px-4 py-2 bg-white text-cyber-gray-900 rounded-lg
                       hover:bg-cyber-gray-100 transition-colors disabled:opacity-50
                       flex items-center gap-2`,children:g?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-5 w-5 border-2 border-cyber-gray-900 border-t-transparent rounded-full animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ei,{className:"h-5 w-5"}),"Save Changes"]})})]})]})]})})}let Kt;const gh=new Uint8Array(16);function xh(){if(!Kt&&(Kt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kt(gh)}const re=[];for(let e=0;e<256;++e)re.push((e+256).toString(16).slice(1));function vh(e,a=0){return re[e[a+0]]+re[e[a+1]]+re[e[a+2]]+re[e[a+3]]+"-"+re[e[a+4]]+re[e[a+5]]+"-"+re[e[a+6]]+re[e[a+7]]+"-"+re[e[a+8]]+re[e[a+9]]+"-"+re[e[a+10]]+re[e[a+11]]+re[e[a+12]]+re[e[a+13]]+re[e[a+14]]+re[e[a+15]]}const bh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ui={randomUUID:bh};function wh(e,a,t){if(ui.randomUUID&&!e)return ui.randomUUID();e=e||{};const s=e.random||(e.rng||xh)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,vh(s)}async function yh(e,a){var t;if(!e)throw new Error("User ID is required");if(!a)throw new Error("File is required");try{if(a instanceof File&&!a.type.startsWith("image/"))throw new Error("Invalid file type. Please upload an image file.");if(a.size>5*1024*1024)throw new Error("File size must be less than 5MB");const s=void 0,i=void 0;if(!s||!i)throw console.error("Missing Cloudinary configuration:",{CLOUD_NAME:s,UPLOAD_PRESET:i}),new Error("Image upload is not properly configured");const r=new FormData;r.append("file",a),r.append("upload_preset",i),r.append("folder","profile-pictures"),r.append("public_id",`${e}_${wh()}`);const l=await fetch(`https://api.cloudinary.com/v1_1/${s}/image/upload`,{method:"POST",body:r});if(!l.ok){const u=await l.json();throw console.error("Cloudinary upload failed:",u),new Error(((t=u.error)==null?void 0:t.message)||"Upload failed")}return(await l.json()).secure_url.replace("/upload/","/upload/c_fill,g_face,h_400,w_400,q_auto:best,f_auto/")}catch(s){throw console.error("Error in uploadProfilePicture:",s),s instanceof Error?new Error(`Upload failed: ${s.message}`):new Error("Failed to upload profile picture. Please try again.")}}function jh({currentUrl:e,userId:a,onUpload:t}){const[s,i]=h.useState(!1),[r,l]=h.useState(null),[o,c]=h.useState(null),u=async p=>{if(!a){l("User ID is required");return}i(!0),l(null);try{const m=await yh(a,p);t(m)}catch(m){console.error("Upload error:",m),l(m instanceof Error?m.message:"Failed to upload profile picture")}finally{i(!1)}},g=h.useCallback(p=>{l(null);const m=p[0];if(m){const y=new FileReader;y.onload=()=>{c(y.result)},y.onerror=()=>{l("Failed to read the image file")},y.readAsDataURL(m)}},[]),{getRootProps:f,getInputProps:v,isDragActive:x}=co({onDrop:g,accept:{"image/*":[".png",".jpg",".jpeg",".gif"]},maxSize:5*1024*1024,multiple:!1,onDropRejected:p=>{var y;const m=(y=p[0])==null?void 0:y.errors[0];(m==null?void 0:m.code)==="file-too-large"?l("File is too large. Maximum size is 5MB"):(m==null?void 0:m.code)==="file-invalid-type"?l("Invalid file type. Please upload an image"):l("Invalid file. Please try again")}}),d=async p=>{c(null),await u(p)};return n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{...f(),className:`relative cursor-pointer transition-all duration-300
          ${x?"ring-2 ring-neon-blue ring-offset-2 ring-offset-cyber-black":""}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-lg opacity-75 group-hover:opacity-100 blur transition-opacity"}),n.jsxs("div",{className:"relative",children:[n.jsx(Te,{url:e,size:"xl",className:`
                transition-all duration-300
                ${s?"opacity-50":""}
                ${x?"scale-105":""}
              `}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-gray-900/80 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-300",children:[n.jsx(wl,{className:"h-6 w-6 text-neon-blue mb-2"}),n.jsx("span",{className:"text-sm font-medium text-cyber-gray-50",children:x?"Drop to Upload":"Click or Drag"}),n.jsx("span",{className:"text-xs text-cyber-gray-400 mt-1",children:"Max 5MB"})]})]})]}),n.jsx("input",{...v()})]}),s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-cyber-gray-900/80 backdrop-blur-sm rounded-lg",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple rounded-full animate-spin opacity-75 blur"}),n.jsx("div",{className:"relative h-8 w-8 border-2 border-neon-blue border-t-transparent rounded-full animate-spin"})]})}),r&&n.jsx("div",{className:"absolute -bottom-20 left-1/2 transform -translate-x-1/2 w-64",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-lg blur"}),n.jsx("div",{className:"relative p-3 bg-cyber-gray-900 border border-red-500/50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ee,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-red-500",children:r})]})})]})}),o&&n.jsx(fh,{image:o,onCropComplete:d,onCancel:()=>c(null),aspectRatio:1})]})}const Nh={width:1200,height:630,includeProfile:!0},mi=e=>new Promise((a,t)=>{const s=new HTMLImageElement;s.crossOrigin="anonymous",s.onload=()=>a(s),s.onerror=t,s.src=e}),kh=e=>{switch(e){case"banner-masculine":return["#4A5D43","#2F3B2F"];case"banner-feminine":return["#C67D63","#8B9D83"];case"banner-neutral":return["#D69F4C","#F5F2EA"];default:return["#F5F2EA","#E5E1D8"]}},Ch=async(e,a,t={})=>{const{width:s,height:i,includeProfile:r}={...Nh,...t},l=document.createElement("canvas");l.width=s,l.height=i;const o=l.getContext("2d"),[c,u]=kh(a),g=o.createLinearGradient(0,0,s,i);g.addColorStop(0,c),g.addColorStop(1,u),o.fillStyle=g,o.fillRect(0,0,s,i),o.globalAlpha=.05;const f=await mi("/noise-texture.png");if(o.fillStyle=o.createPattern(f,"repeat"),o.fillRect(0,0,s,i),o.globalAlpha=1,r){const v=o.createLinearGradient(0,i-200,0,i);if(v.addColorStop(0,"rgba(47, 59, 47, 0)"),v.addColorStop(1,"rgba(47, 59, 47, 0.8)"),o.fillStyle=v,o.fillRect(0,i-200,s,200),e.profilePicture)try{const d=await mi(e.profilePicture);o.save(),o.beginPath(),o.arc(100,i-100,50,0,Math.PI*2),o.clip(),o.drawImage(d,50,i-150,100,100),o.restore()}catch(d){console.error("Failed to load profile picture:",d)}o.fillStyle="#F5F2EA",o.font='bold 48px "Space Grotesk"',o.fillText(e.displayName,180,i-120),o.font='24px "Inter"',o.fillText(`Level ${e.level}`,180,i-80);const x=Ue.find(d=>d.id===a);x&&(o.font='bold 32px "Space Grotesk"',o.fillText(x.name,180,i-30))}return l.toDataURL("image/png")};function Eh({message:e,type:a="success",duration:t=3e3,onClose:s}){const[i,r]=h.useState(!1);return h.useEffect(()=>{r(!0);const l=setTimeout(()=>{r(!1),setTimeout(s,300)},t);return()=>clearTimeout(l)},[t,s]),n.jsxs("div",{className:`fixed bottom-4 right-4 flex items-center gap-3 px-4 py-3 rounded-lg
                 shadow-lg transform transition-all duration-300
                 ${a==="success"?"bg-accent-sage/20":"bg-accent-rust/20"}
                 ${a==="success"?"text-accent-sage":"text-accent-rust"}
                 ${i?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,role:"alert",children:[a==="success"?n.jsx(gn,{className:"h-5 w-5"}):n.jsx(Ee,{className:"h-5 w-5"}),n.jsx("p",{className:"text-sm font-medium",children:e}),n.jsx("button",{onClick:()=>{r(!1),setTimeout(s,300)},className:"p-1 hover:bg-earth-900/10 rounded-full transition-colors",children:n.jsx(be,{className:"h-4 w-4"})})]})}const po=h.createContext(null);function Sh({children:e}){const[a,t]=h.useState([]),[s,i]=h.useState(0),r=h.useCallback((o,c="success")=>{i(u=>u+1),t(u=>[...u,{id:s,message:o,type:c}])},[s]),l=h.useCallback(o=>{t(c=>c.filter(u=>u.id!==o))},[]);return n.jsxs(po.Provider,{value:{showToast:r},children:[e,n.jsx("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50",children:a.map(o=>n.jsx(Eh,{message:o.message,type:o.type,onClose:()=>l(o.id)},o.id))})]})}function Ah(){const e=h.useContext(po);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const Ph=[{name:"Twitter",icon:bl,color:"#1DA1F2",shareUrl:(e,a)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(a)}`},{name:"Facebook",icon:rl,color:"#4267B2",shareUrl:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`},{name:"LinkedIn",icon:cl,color:"#0077B5",shareUrl:(e,a)=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}&title=${encodeURIComponent(a)}`}];function Dh({profile:e,bannerId:a}){const[t,s]=h.useState(!1),[i,r]=h.useState(!1),{showToast:l}=Ah(),o=async c=>{r(!0);try{const u=await Ch(e,a),g=a.split("-")[1].charAt(0).toUpperCase()+a.split("-")[1].slice(1),f=`${window.location.origin}/banner/${a}/preview`,v=`Check out my ${g} banner on Trade Ya!`;c?window.open(c.shareUrl(f,v),"_blank"):(await navigator.clipboard.writeText(f),l("Link copied to clipboard!","success"),s(!1))}catch(u){console.error("Failed to share banner:",u),l("Failed to share banner","error")}finally{r(!1)}};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!t),className:"btn-secondary flex items-center gap-2",disabled:i,children:[n.jsx(xl,{className:"h-4 w-4"}),"Share Banner"]}),t&&n.jsx("div",{className:`absolute right-0 mt-2 w-48 rounded-lg bg-earth-800 
                      border border-earth-700 shadow-lg overflow-hidden z-50`,children:n.jsxs("div",{className:"p-1 space-y-1",children:[Ph.map(c=>n.jsxs("button",{onClick:()=>o(c),className:`flex items-center gap-2 w-full p-2 hover:bg-earth-700 rounded
                         transition-colors duration-200`,disabled:i,children:[n.jsx(c.icon,{className:"h-4 w-4",style:{color:c.color}}),c.name]},c.name)),n.jsxs("button",{onClick:()=>o(),className:`flex items-center gap-2 w-full p-2 hover:bg-earth-700 rounded
                       transition-colors duration-200`,disabled:i,children:[n.jsx(il,{className:"h-4 w-4"}),"Copy Link"]})]})})]})}const Ue=[{id:"banner-masculine",name:"Earth Force",style:"banner-masculine",levelRequired:0,description:"A bold, dynamic gradient inspired by natural strength"},{id:"banner-feminine",name:"Gentle Dawn",style:"banner-feminine",levelRequired:0,description:"A soft, harmonious blend of warm earth tones"},{id:"banner-neutral",name:"Golden Balance",style:"banner-neutral",levelRequired:0,description:"A balanced composition of earthy gold and warm beige"},{id:"banner-advanced-masculine",name:"Mountain Force",style:"banner-masculine",levelRequired:5,description:"An advanced dynamic gradient for seasoned members"},{id:"banner-advanced-feminine",name:"Forest Dawn",style:"banner-feminine",levelRequired:10,description:"A premium blend of natural tones for experienced members"},{id:"banner-advanced-neutral",name:"Mystic Balance",style:"banner-neutral",levelRequired:15,description:"An elite composition unlocked through dedication"}],Th=e=>{const a=document.createElement("div");a.style.position="absolute",a.style.opacity="0",a.style.pointerEvents="none",a.className=e,document.body.appendChild(a),requestAnimationFrame(()=>{document.body.removeChild(a)})};function Ih({userId:e,selectedBanner:a,userLevel:t,editable:s=!1,profile:i,onUpdate:r}){const[l,o]=h.useState(!1),[c,u]=h.useState(a),[g,f]=h.useState(!1);h.useEffect(()=>{Ue.forEach(p=>{p.levelRequired<=t&&Th(p.style)})},[t]),h.useEffect(()=>{u(a)},[a]);const v=async p=>{f(!0),u(p),await new Promise(m=>setTimeout(m,250)),await r(p),setTimeout(()=>{f(!1)},250)},x=Ue.filter(p=>p.levelRequired<=t).sort((p,m)=>p.levelRequired-m.levelRequired),d=Ue.filter(p=>p.levelRequired>t).sort((p,m)=>p.levelRequired-m.levelRequired);return console.log("ProfileBanner render:",{userLevel:t,editable:s,selectedBanner:a,previewBanner:c,availableBanners:x,upcomingBanners:d}),x.length===0&&console.warn("No available banners for level:",t),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"profile-banner relative",children:[n.jsx("div",{className:"absolute inset-0",style:{background:c!=null&&c.includes("masculine")?"linear-gradient(135deg, #4A5D43 0%, #2F3B2F 100%)":c!=null&&c.includes("feminine")?"linear-gradient(135deg, #C67D63 0%, #8B9D83 100%)":c!=null&&c.includes("neutral")?"linear-gradient(135deg, #D69F4C 0%, #F5F2EA 100%)":"#1F2937"}}),s&&n.jsx("button",{onClick:()=>o(!0),className:`absolute top-2 right-2 p-2 rounded-full bg-white/10 backdrop-blur-sm
                     hover:bg-white/20 transition-all`,"aria-label":"Customize Banner",title:"Click to customize banner",children:n.jsx(pl,{className:"h-5 w-5 text-white"})})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"banner-dialog-title",children:n.jsxs("div",{className:"bg-earth-800 rounded-lg shadow-xl max-w-3xl w-full overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center border-b border-earth-700 p-4",children:[n.jsx("h3",{id:"banner-dialog-title",className:"text-lg font-display font-semibold text-white",children:"Choose Your Banner"}),n.jsx("button",{onClick:()=>{o(!1),u(a)},className:"p-2 rounded-full hover:bg-earth-700 transition-colors","aria-label":"Close dialog",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-8 space-y-8",children:[n.jsx("div",{className:"profile-banner mb-6",style:{background:c!=null&&c.includes("masculine")?"linear-gradient(135deg, #4A5D43 0%, #2F3B2F 100%)":c!=null&&c.includes("feminine")?"linear-gradient(135deg, #C67D63 0%, #8B9D83 100%)":c!=null&&c.includes("neutral")?"linear-gradient(135deg, #D69F4C 0%, #F5F2EA 100%)":"var(--earth-800)"}}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Available Styles"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Your Level: ",t]})]}),n.jsxs("div",{className:"banner-selector rounded-lg border border-earth-700",children:[x.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-400",children:"No banners available yet"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Level up to unlock banners!"})]}),Ue.filter(p=>(console.group("Banner Availability Check"),console.log("Banner:",p.name),console.log("Banner Level Required:",p.levelRequired),console.log("User Level:",t),console.log("Is Available:",p.levelRequired<=t),console.groupEnd(),p.levelRequired<=t)).map(p=>n.jsx("button",{className:`banner-option transform transition-all duration-300 relative ${c===p.id?"selected scale-95":a===p.id?"border-accent-clay/50":""}`,onMouseEnter:()=>{console.log("Hovering banner:",p.name),u(p.id)},onMouseLeave:()=>u(a),onClick:()=>{console.log("Selected banner:",p.name),v(p.id)},style:{background:`
                            ${p.style==="banner-masculine"?"linear-gradient(135deg, #4A5D43 0%, #2F3B2F 100%)":p.style==="banner-feminine"?"linear-gradient(135deg, #C67D63 0%, #8B9D83 100%)":"linear-gradient(135deg, #D69F4C 0%, #F5F2EA 100%)"}`,backgroundSize:"200% 200%",animation:"gradient 8s ease infinite"},title:`${p.name} - ${p.description}`,children:n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-2",children:[n.jsx("span",{children:p.name}),n.jsx("span",{children:p.description})]})},p.id))]}),Ue.filter(p=>p.levelRequired<=t).length===0?n.jsxs("div",{className:"text-center p-4 bg-earth-800/50 rounded-lg",children:[n.jsx("p",{className:"text-text-secondary",children:"No banners available at your current level."}),n.jsx("p",{className:"text-text-muted text-sm mt-2",children:"Level up to unlock more banner styles!"})]}):n.jsxs("div",{className:"mt-6 bg-earth-800/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-400 mb-3",children:"Upcoming Banners"}),n.jsx("div",{className:"space-y-3",children:Ue.filter(p=>p.levelRequired>t).map(p=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-earth-800/50 border border-earth-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded",style:{background:p.style==="banner-masculine"?"linear-gradient(135deg, #4A5D43 0%, #2F3B2F 100%)":p.style==="banner-feminine"?"linear-gradient(135deg, #C67D63 0%, #8B9D83 100%)":"linear-gradient(135deg, #D69F4C 0%, #F5F2EA 100%)"}}),n.jsx("span",{className:"text-sm font-medium text-gray-300",children:p.name})]}),n.jsxs("span",{className:"text-sm px-2 py-1 rounded bg-earth-900/50 text-gray-400",children:["Level ",p.levelRequired]})]},p.id))})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(Dh,{profile:i,bannerId:c||a||"banner-default"}),n.jsx("button",{className:"btn-secondary",onClick:()=>{o(!1),u(a)},children:"Close"})]})]})]})})]})}function Rh(){var at,oe;const{user:e,updateUsername:a}=ie(),[t,s]=h.useState(null),[i,r]=h.useState(!0),[l,o]=h.useState(""),[c,u]=h.useState(!1),[g,f]=h.useState({}),[v,x]=h.useState(""),[d,p]=h.useState(!1),[m,y]=h.useState(!1),[w,N]=h.useState(""),[k,C]=h.useState(!1),[j,S]=h.useState(!1),[A,R]=h.useState(null),[$,de]=h.useState(!1);h.useEffect(()=>{async function F(){if(e)try{const T=_(E,"users",e.uid),ee=await ne(T);if(ee.exists()){const Ce=ee.data(),xe={id:ee.id,...Ce,level:typeof Ce.level=="number"?Ce.level:0};console.log("Profile loaded:",xe),s(xe),f(xe),typeof Ce.level!="number"&&(console.log("Initializing user level to 0"),H(T,{level:0,updatedAt:new Date}).catch(console.error))}}catch{o("Failed to load profile")}finally{r(!1)}}F()},[e]),h.useEffect(()=>{if(!t)return;const T=[{level:5,bannerId:"banner-advanced-masculine"},{level:10,bannerId:"banner-advanced-feminine"},{level:15,bannerId:"banner-advanced-neutral"}].find(ee=>t.level>=ee.level&&(!t.selectedBanner||t.selectedBanner!==ee.bannerId));T&&R(T.bannerId),typeof t.level!="number"&&H(_(E,"users",t.id),{level:0,updatedAt:new Date}).catch(console.error)},[t==null?void 0:t.level,t==null?void 0:t.selectedBanner]);const W=h.useCallback(async F=>{const T=F.target.value;if(f(ee=>({...ee,username:T})),N(""),C(!1),!!T){if(!wn(T)){N("Username must start with @ and contain only letters, numbers, and hyphens");return}S(!0);try{await xa(T)||T===(t==null?void 0:t.username)?C(!0):N("Username is already taken")}catch{N("Error checking username availability")}finally{S(!1)}}},[t]),Re=async F=>{if(!(!e||!t))try{await H(_(E,"users",e.uid),{profilePicture:F,updatedAt:new Date}),s(T=>T?{...T,profilePicture:F}:null),f(T=>({...T,profilePicture:F}))}catch{o("Failed to update profile picture")}},Q=async()=>{if(!(!e||!t)){p(!0);try{if(g.username&&g.username!==t.username){if(!wn(g.username))throw new Error("Invalid username format");await a(g.username)}const F=_(E,"users",e.uid),T={...g};delete T.username,await H(F,{...T,updatedAt:new Date}),s({...t,...g}),u(!1)}catch(F){o(F.message||"Failed to save profile")}finally{p(!1)}}},pe=()=>{var F;!v.trim()||(F=g.skills)!=null&&F.includes(v.trim())||(f(T=>({...T,skills:[...T.skills||[],v.trim()],skillLevels:{...T.skillLevels,[v.trim()]:{level:1,experience:0}}})),x(""))},La=F=>{f(T=>{var xe;const{[F]:ee,...Ce}=T.skillLevels||{};return{...T,skills:((xe=T.skills)==null?void 0:xe.filter(Lt=>Lt!==F))||[],skillLevels:Ce}})},Ft=async F=>{if(!(!e||!t||m)){y(!0);try{await Vu(t.id,e.uid,F),s(T=>{var Ce;if(!T)return null;const ee=((Ce=T.endorsements)==null?void 0:Ce[F])||[];return{...T,endorsements:{...T.endorsements,[F]:[...ee,e.uid]}}})}catch{o("Failed to endorse skill")}finally{y(!1)}}};return i?n.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink animate-spin opacity-75 blur-lg"}),n.jsx("div",{className:"relative bg-cyber-gray-900 p-8 rounded-full border border-cyber-gray-800",children:n.jsx("div",{className:"h-8 w-8 border-2 border-neon-blue border-t-transparent rounded-full animate-spin"})})]}),n.jsx("p",{className:"mt-4 text-cyber-gray-400 animate-pulse",children:"Loading profile..."})]}):l?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-500 p-4 rounded-lg",children:l})}):t?n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A&&n.jsx(Ku,{bannerId:A,onClose:()=>R(null),onClick:()=>{de(!0),R(null)}}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ih,{userId:e.uid,selectedBanner:t.selectedBanner,userLevel:typeof t.level=="number"?t.level:0,editable:!0,profile:t,onUpdate:async F=>{de(!1);try{await H(_(E,"users",e.uid),{selectedBanner:F,updatedAt:new Date}),s(T=>T?{...T,selectedBanner:F}:null)}catch{o("Failed to update banner")}}}),n.jsx("div",{className:"absolute -bottom-12 left-8 z-10",children:c?n.jsx(jh,{currentUrl:t.profilePicture,userId:e.uid,onUpload:Re}):n.jsx(Te,{url:t.profilePicture,size:"xl"})})]}),n.jsxs("div",{className:"p-6 mt-16",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[c?n.jsx("input",{type:"text",value:g.displayName||"",onChange:F=>f(T=>({...T,displayName:F.target.value})),className:"text-2xl font-display font-bold text-gray-900 bg-transparent border-b-2 border-neon-blue focus:outline-none",placeholder:"Your name"}):n.jsx("h1",{className:"text-2xl font-display font-bold text-gray-900",children:t.displayName}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("p",{className:"text-gray-600",children:t.email}),c?n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:g.username||"",onChange:W,className:`text-sm bg-transparent border-b ${w?"border-red-500 text-red-500":k?"border-green-500 text-green-600":"border-earth-700 text-gray-600"} focus:outline-none w-48`,placeholder:"@username"}),j&&n.jsx("span",{className:"absolute text-xs text-gray-500 mt-1",children:"Checking availability..."}),w?n.jsx("p",{className:"absolute text-xs text-red-500 mt-1",children:w}):g.username&&k&&n.jsx("p",{className:"absolute text-xs text-green-600 mt-1",children:"Username available!"})]}):n.jsx("p",{className:"text-sm text-gray-600",children:t.username})]})]}),c?n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{u(!1),f(t),N(""),C(!1)},className:"btn-secondary flex items-center gap-2",disabled:d,children:[n.jsx(be,{className:"h-4 w-4"}),"Cancel"]}),n.jsx("button",{onClick:Q,className:"btn-primary flex items-center gap-2",disabled:d||g.username!==t.username&&!k,children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(aa,{className:"h-4 w-4"}),"Save"]})})]}):n.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center gap-2",children:[n.jsx(ml,{className:"h-4 w-4"}),"Edit Profile"]})]}),n.jsx("div",{className:"mb-8",children:n.jsx(Jr,{profile:t})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3",children:"About"}),c?n.jsx("textarea",{name:"bio",value:g.bio||"",onChange:F=>f(T=>({...T,bio:F.target.value})),className:`w-full p-3 bg-earth-800 border border-earth-700 rounded-lg 
                         text-gray-900 placeholder-gray-500
                         focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 
                         transition-all duration-300`,rows:4,placeholder:"Tell us about yourself..."}):n.jsx("p",{className:"text-gray-700",children:t.bio||"No bio yet. Click edit to add one!"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3",children:"Skills"}),c&&n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"text",id:"newSkill",name:"newSkill",value:v,onChange:F=>x(F.target.value),onKeyPress:F=>F.key==="Enter"&&pe(),placeholder:"Add a skill...",className:`flex-1 p-2 bg-earth-800 border border-earth-700 rounded-lg 
                           text-gray-900 placeholder-gray-500
                           focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 
                           transition-all duration-300`}),n.jsxs("button",{onClick:pe,className:"btn-primary flex items-center gap-2",children:[n.jsx(sa,{className:"h-4 w-4"}),"Add"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(at=c?g.skills:t.skills)==null?void 0:at.map(F=>{var T;return n.jsxs("div",{className:`group flex items-center gap-2 px-3 py-1.5 bg-earth-800 
                           text-gray-900 rounded-full text-sm border border-earth-700
                           hover:border-neon-blue transition-all duration-300`,children:[n.jsx("span",{children:F}),c?n.jsx("button",{onClick:()=>La(F),className:"text-gray-600 hover:text-neon-pink transition-colors",children:n.jsx(be,{className:"h-3 w-3"})}):n.jsx("button",{onClick:()=>Ft(F),disabled:m||(e==null?void 0:e.uid)===t.id,className:`opacity-0 group-hover:opacity-100 transition-opacity text-neon-blue 
                               hover:text-neon-purple disabled:opacity-50`,title:(e==null?void 0:e.uid)===t.id?"You can't endorse your own skills":"Endorse this skill",children:n.jsx(Si,{className:"h-3 w-3"})}),!c&&((T=t.endorsements)==null?void 0:T[F])&&n.jsx("span",{className:"px-1.5 py-0.5 bg-neon-purple/10 text-neon-purple rounded-full text-xs",children:t.endorsements[F].length})]},F)}),((oe=c?g.skills:t.skills)==null?void 0:oe.length)===0&&n.jsx("p",{className:"text-gray-600",children:"No skills added yet"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3",children:"Portfolio"}),c?n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"url",name:"portfolioUrl",value:g.portfolio||"",onChange:F=>f(T=>({...T,portfolio:F.target.value})),placeholder:"https://your-portfolio.com",className:`w-full pl-10 pr-4 py-2 bg-earth-800 border border-earth-700 rounded-lg 
                           text-gray-900 placeholder-gray-500
                           focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/30 
                           transition-all duration-300`})]}):t.portfolio?n.jsxs("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-neon-blue hover:text-neon-purple transition-colors",children:[n.jsx(na,{className:"h-4 w-4"}),t.portfolio]}):n.jsx("p",{className:"text-gray-600",children:"No portfolio link added"})]})]})]})]}):n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-cyber-gray-900/50 backdrop-blur-sm border border-cyber-gray-800 rounded-lg p-8 text-center",children:[n.jsx(St,{className:"h-12 w-12 text-cyber-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-cyber-gray-300",children:"Profile not found"})]})})}function Mh({isOpen:e,onClose:a,onSelectUser:t,excludeUserId:s}){const[i,r]=h.useState(""),[l,o]=h.useState(!1),[c,u]=h.useState([]),[g,f]=h.useState(""),v=async()=>{if(i.trim()){o(!0),f("");try{const x=O(E,"users"),d=i.trim(),p=d.toLowerCase();let m=[];try{const w=J(x,rt("displayNameLower"),Va(p),Ga(p+""),Ka(20)),N=await le(w);console.log("Query results:",N.docs.map(k=>({id:k.id,...k.data(),searchMatch:"displayNameLower"}))),m=N.docs.map(k=>({id:k.id,...k.data()})).filter(k=>k.id!==s)}catch(w){console.warn("Error searching by displayNameLower:",w);const N=J(x,rt("displayName"),Va(d),Ga(d+""),Ka(20));m=(await le(N)).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.id!==s)}if(m.length<20){const w=J(x,rt("email"),Va(p),Ga(p+""),Ka(20)),k=(await le(w)).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.id!==s&&!m.some(j=>j.id===C.id));m=[...m,...k]}const y=m.filter(w=>{var j,S,A;const N=((j=w.displayName)==null?void 0:j.toLowerCase().includes(p))??!1,k=((S=w.email)==null?void 0:S.toLowerCase().includes(p))??!1,C=((A=w.username)==null?void 0:A.toLowerCase().includes(p))??!1;return N||k||C});y.sort((w,N)=>{var A,R;const k=((A=w.displayName)==null?void 0:A.toLowerCase())??"",C=((R=N.displayName)==null?void 0:R.toLowerCase())??"";if(k===p)return-1;if(C===p)return 1;if(k.startsWith(p)&&!C.startsWith(p))return-1;if(!k.startsWith(p)&&C.startsWith(p))return 1;const j=k.includes(p),S=C.includes(p);return j&&!S?-1:!j&&S?1:k.localeCompare(C)}),u(y.slice(0,10))}catch(x){const d=x instanceof Error?x.message:"Unknown error";f(`Failed to search users: ${d}`),console.error("Error searching users:",x)}finally{o(!1)}}};return e?n.jsx("div",{className:"fixed inset-0 bg-earth-900/50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-earth-800 rounded-lg shadow-xl w-full max-w-md",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Search Users"}),n.jsx("button",{onClick:a,className:"text-text-muted hover:text-text-secondary",children:n.jsx(be,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:i,onChange:x=>r(x.target.value),onKeyPress:x=>x.key==="Enter"&&v(),placeholder:"Search by name, email, or @username...",className:"flex-1 p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-earth-900"}),n.jsx("button",{onClick:v,disabled:l,className:"px-4 py-2 bg-accent-moss text-earth-50 rounded-lg hover:bg-accent-sage disabled:opacity-50",children:l?"Searching...":"Search"})]})}),g&&n.jsx("div",{className:"mb-4 p-3 bg-earth-50 text-accent-rust rounded-lg",children:g}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[c.map(x=>{var d;return n.jsx("button",{onClick:()=>t({id:x.id,displayName:x.displayName??"Unknown User"}),className:"w-full text-left p-3 hover:bg-earth-50 rounded-lg transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[x.photoURL?n.jsx("img",{src:x.photoURL,alt:x.displayName,className:"h-10 w-10 rounded-full"}):n.jsx("div",{className:"h-10 w-10 rounded-full bg-earth-700 flex items-center justify-center",children:n.jsx("span",{className:"text-text-muted text-lg",children:(((d=x.displayName)==null?void 0:d[0])??"?").toUpperCase()})}),n.jsx("div",{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-text-primary",children:x.displayName??"Unknown User"}),n.jsxs("div",{className:"text-sm text-text-muted flex items-center space-x-2",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(nl,{className:"h-3 w-3 mr-1"}),x.username??"no-username"]}),n.jsx("span",{children:""}),n.jsx("span",{className:"truncate",children:x.email??"no-email"})]}),x.bio&&n.jsx("div",{className:"text-sm text-text-muted truncate mt-1",children:x.bio})]})})]})},x.id)}),c.length===0&&i&&!l&&n.jsx("div",{className:"text-center py-4 text-text-muted",children:"No users found"})]})]})})}):null}function _h(){const e=je(),{user:a}=ie(),{add:t}=_t("trades"),[s,i]=h.useState(!1),[r,l]=h.useState(""),[o,c]=h.useState(!1),[u,g]=h.useState({title:"",description:"",offeredSkill:"",requestedSkill:"",offeredSkills:[],requestedSkills:[],preferredUserId:"",preferredUserName:"",publiclyAvailable:!0}),f=d=>{const p=d==="offered"?u.offeredSkill:u.requestedSkill;if(!p.trim())return;const m=d==="offered"?"offeredSkills":"requestedSkills",y=d==="offered"?"offeredSkill":"requestedSkill";u[m].includes(p.trim())||g(w=>({...w,[m]:[...w[m],p.trim()],[y]:""}))},v=(d,p)=>{const m=d==="offered"?"offeredSkills":"requestedSkills";g(y=>({...y,[m]:y[m].filter(w=>w!==p)}))},x=async d=>{if(d.preventDefault(),!!a){if(!u.title.trim()||!u.description.trim()){l("Please fill in all required fields");return}if(u.offeredSkills.length===0||u.requestedSkills.length===0){l("Please add at least one skill in each category");return}i(!0),l("");try{await t({title:u.title,description:u.description,offeredSkills:u.offeredSkills,requestedSkills:u.requestedSkills,creatorId:a.uid,status:u.preferredUserId?"reserved":"open",createdAt:new Date,updatedAt:new Date,preferredUserId:u.preferredUserId||void 0,publiclyAvailable:u.publiclyAvailable}),e("/discover")}catch{l("Failed to create trade")}finally{i(!1)}}};return n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-earth-800 rounded-lg shadow-md overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-text-primary font-display mb-6",children:"Create a New Trade"}),r&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 text-accent-rust rounded-lg",children:r}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-text-secondary mb-1",children:"Title"}),n.jsx("input",{type:"text",id:"title",value:u.title,onChange:d=>g(p=>({...p,title:d.target.value})),className:"w-full p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-text-primary",placeholder:"What are you looking to trade?",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-secondary mb-1",children:"Description"}),n.jsx("textarea",{id:"description",value:u.description,onChange:d=>g(p=>({...p,description:d.target.value})),className:"w-full p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-text-primary",rows:4,placeholder:"Describe your trade offer in detail...",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Skills You're Offering"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:u.offeredSkill,onChange:d=>g(p=>({...p,offeredSkill:d.target.value})),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),f("offered")),className:"flex-1 p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-text-primary",placeholder:"Add a skill you're offering..."}),n.jsxs("button",{type:"button",onClick:()=>f("offered"),className:"flex items-center gap-2 px-4 py-2 bg-accent-sage text-earth-50 rounded-lg hover:bg-accent-moss transition-colors",children:[n.jsx(sa,{className:"h-4 w-4"}),"Add"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.offeredSkills.map(d=>n.jsxs("span",{className:"px-3 py-1 bg-accent-sage bg-opacity-20 text-accent-moss rounded-full text-sm flex items-center",children:[d,n.jsx("button",{type:"button",onClick:()=>v("offered",d),className:"ml-2 text-accent-moss hover:text-accent-sage transition-colors",children:n.jsx(be,{className:"h-3 w-3"})})]},d))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Skills You're Looking For"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:u.requestedSkill,onChange:d=>g(p=>({...p,requestedSkill:d.target.value})),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),f("requested")),className:"flex-1 p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-text-primary",placeholder:"Add a skill you're looking for..."}),n.jsxs("button",{type:"button",onClick:()=>f("requested"),className:"flex items-center gap-2 px-4 py-2 bg-accent-sage text-earth-50 rounded-lg hover:bg-accent-moss transition-colors",children:[n.jsx(sa,{className:"h-4 w-4"}),"Add"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.requestedSkills.map(d=>n.jsxs("span",{className:"px-3 py-1 bg-accent-clay bg-opacity-20 text-accent-rust rounded-full text-sm flex items-center",children:[d,n.jsx("button",{type:"button",onClick:()=>v("requested",d),className:"ml-2 text-accent-rust hover:text-accent-clay transition-colors",children:n.jsx(be,{className:"h-3 w-3"})})]},d))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Invite Specific User (Optional)"}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:u.preferredUserName,onChange:d=>g(p=>({...p,preferredUserName:d.target.value,preferredUserId:""})),className:"flex-1 p-2 border border-earth-700 rounded-lg focus:ring-2 focus:ring-accent-sage focus:border-accent-sage bg-earth-50 text-text-primary",placeholder:"Search user by name..."}),n.jsxs("button",{type:"button",onClick:()=>c(!0),className:"px-4 py-2 bg-earth-700 text-text-secondary rounded-lg hover:bg-earth-600 flex items-center gap-2 transition-colors",children:[n.jsx(Ye,{className:"h-4 w-4"}),"Search Users"]})]}),u.preferredUserId&&n.jsxs("div",{className:"flex items-center justify-between p-2 bg-earth-700 rounded-lg",children:[n.jsx("span",{className:"text-sm text-text-light",children:u.preferredUserName}),n.jsx("button",{type:"button",onClick:()=>g(d=>({...d,preferredUserId:"",preferredUserName:""})),className:"text-accent-rust hover:text-accent-clay transition-colors",children:n.jsx(be,{className:"h-4 w-4"})})]})]}),u.preferredUserId&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:u.publiclyAvailable,onChange:d=>g(p=>({...p,publiclyAvailable:d.target.checked})),className:"h-4 w-4 text-accent-sage focus:ring-accent-sage border-earth-700 rounded"}),n.jsx("span",{className:"text-sm text-text-secondary",children:"Keep trade visible to other users"})]}),n.jsx("p",{className:"mt-1 text-xs text-text-muted",children:"Other users can request to join if the invited user declines"})]})]}),n.jsx(Mh,{isOpen:o,onClose:()=>c(!1),onSelectUser:d=>{g(p=>({...p,preferredUserId:d.id,preferredUserName:d.displayName})),c(!1)},excludeUserId:a==null?void 0:a.uid}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-accent-sage text-earth-50 py-2 rounded-lg hover:bg-accent-moss transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Trade...":"Create Trade"})]})]})})})}function Fh(){const{id:e}=ka(),a=je(),{user:t}=ie(),[s,i]=h.useState(null),[r,l]=h.useState(null),[o,c]=h.useState(!0),[u,g]=h.useState(""),[f,v]=h.useState(!1),[x,d]=h.useState(!1),[p,m]=h.useState(!1);h.useEffect(()=>{async function N(){if(e)try{const k=await ne(_(E,"trades",e));if(!k.exists()){g("Trade not found");return}const C={id:k.id,...k.data()};i(C);const j=await ne(_(E,"users",C.creatorId));j.exists()&&l({id:j.id,...j.data()})}catch{g("Failed to load trade details")}finally{c(!1)}}N()},[e]);const y=async()=>{if(!(!t||!s||!r)){v(!0);try{const N=O(E,"conversations"),k=J(N,X("participants","array-contains",t.uid),X("tradeId","==",e)),C=await le(k);let j;C.empty?j=(await xt(N,{participants:[t.uid,s.creatorId],tradeId:e,tradeName:s.title,lastMessage:"",unreadCount:{[s.creatorId]:0,[t.uid]:0},createdAt:Z(),updatedAt:Z()})).id:j=C.docs[0].id,a(`/messages/${j}`)}catch(N){console.error("Failed to start conversation:",N),g("Failed to start conversation")}finally{v(!1)}}},w=async N=>{if(!(!s||!t||x)){d(!0);try{if(await H(_(E,"trades",s.id),{status:N,updatedAt:Z()}),N==="completed"){await va(s.creatorId,ht.TRADE_COMPLETION,s.offeredSkills);const k=await ne(_(E,"users",s.creatorId));if(k.exists()&&await yn(s.creatorId,k.data()),t.uid!==s.creatorId){await va(t.uid,ht.TRADE_COMPLETION,s.requestedSkills);const C=await ne(_(E,"users",t.uid));C.exists()&&await yn(t.uid,C.data())}}i(k=>k?{...k,status:N}:null),m(!1)}catch{g("Failed to update trade status")}finally{d(!1)}}};return o?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})}):u||!s?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg",children:u||"Trade not found"})}):n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"card card-form",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),n.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Posted ",new Date(s.createdAt).toLocaleDateString()]})]}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:`badge-${s.status}`,children:s.status.replace("_"," ").charAt(0).toUpperCase()+s.status.replace("_"," ").slice(1)})})]}),r&&n.jsxs("div",{className:"flex items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx(Sa,{className:"h-12 w-12 text-gray-400 mr-4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:r.displayName}),n.jsx("p",{className:"text-gray-600 text-sm",children:r.bio||"No bio available"})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:s.description})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Skills Offered"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.offeredSkills.map(N=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:N},N))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Skills Needed"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.requestedSkills.map(N=>n.jsx("span",{className:"px-2 py-1 bg-accent-clay/20 text-gray-900 text-sm rounded-full border border-accent-clay/30",children:N},N))})]})]}),n.jsxs("div",{className:"flex gap-4",children:[t&&t.uid!==s.creatorId&&s.status==="open"&&n.jsxs("button",{onClick:y,disabled:f,className:"btn-primary btn-full py-2 flex-1 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Oe,{className:"h-5 w-5"}),f?"Starting Chat...":"Contact Creator"]}),t&&(t.uid===s.creatorId||s.status!=="open")&&n.jsxs("button",{onClick:()=>m(!0),disabled:x,className:"btn-primary btn-full py-2 flex-1 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ta,{className:"h-5 w-5"}),"Update Status"]})]})]})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"card card-form p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Update Trade Status"}),n.jsxs("div",{className:"space-y-3",children:[s.status==="open"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>w("reserved"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-clay/30 bg-accent-clay/20 text-gray-900 border border-accent-clay/30",children:[n.jsx(Ee,{className:"h-5 w-5"}),"Mark as Reserved"]}),n.jsxs("button",{onClick:()=>w("in_progress"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-clay/30 bg-accent-clay/20 text-gray-900 border border-accent-clay/30",children:[n.jsx(Ee,{className:"h-5 w-5"}),"Mark as In Progress"]})]}),s.status==="reserved"&&n.jsxs("button",{onClick:()=>w("in_progress"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-clay/30 bg-accent-clay/20 text-gray-900 border border-accent-clay/30",children:[n.jsx(Ee,{className:"h-5 w-5"}),"Mark as In Progress"]}),s.status==="in_progress"&&n.jsxs("button",{onClick:()=>w("completed"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-ochre/30 bg-accent-ochre/20 text-gray-900 border border-accent-ochre/30",children:[n.jsx(ta,{className:"h-5 w-5"}),"Mark as Completed"]}),(s.status==="reserved"||s.status==="in_progress"||s.status==="completed")&&n.jsx("button",{onClick:()=>w("cancelled"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-clay/30 bg-accent-clay/20 text-gray-900 border border-accent-clay/30",children:"Cancel Trade"}),s.status!=="open"&&s.status!=="cancelled"&&n.jsx("button",{onClick:()=>w("open"),disabled:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-sage/30 bg-accent-sage/20 text-gray-900 border border-accent-sage/30",children:"Reopen Trade"}),n.jsx("button",{onClick:()=>m(!1),className:"w-full px-4 py-2 text-gray-600 hover:bg-gray-50 rounded",children:"Cancel"})]})]})})]})}function Lh(){const e=je();wo();const{user:a}=ie(),[t,s]=h.useState([]),[i,r]=h.useState({}),[l,o]=h.useState(!0),[c,u]=h.useState(null);h.useEffect(()=>{if(!a)return;const f=J(O(E,"conversations"),X("participants","array-contains",a.uid),rt("updatedAt","desc")),v=dt(f,async x=>{try{const d=x.docs.map(w=>({id:w.id,...w.data()})),p=[...d].sort((w,N)=>{var j,S;const k=((j=w.updatedAt)==null?void 0:j.toMillis())||0;return(((S=N.updatedAt)==null?void 0:S.toMillis())||0)-k});s(p);const m=new Set(d.flatMap(w=>w.participants.filter(N=>N!==a.uid))),y={};for(const w of m)if(w!==a.uid){const N=_(E,"users",w),k=await ne(N);k.exists()&&(y[w]={id:k.id,...k.data()})}r(y),o(!1)}catch{u("Failed to load conversations"),o(!1)}});return()=>v()},[a]);const g=f=>{const v=f.participants.find(x=>x!==(a==null?void 0:a.uid));return v?i[v]:null};return l?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(f=>n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-12 w-12 bg-earth-300 rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-earth-300 rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-earth-300 rounded w-3/4"})]})]})},f))})}):c?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"card p-4 border border-accent-rust/50 text-accent-rust",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oe,{className:"h-5 w-5"}),n.jsx("span",{children:c})]}),c]})}):n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"card overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-3xl font-display font-bold gradient-text mb-6",children:"Messages"}),t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Oe,{className:"h-12 w-12 mx-auto mb-4 text-earth-300"}),n.jsx("p",{className:"text-text-muted",children:"No conversations yet"})]}):n.jsx("div",{className:"space-y-4",children:t.map(f=>{var d,p,m;const v=g(f),x=((d=f.unreadCount)==null?void 0:d[a.uid])>0;return n.jsx("div",{onClick:()=>e(`/messages/${f.id}`),className:`group p-4 rounded-lg cursor-pointer transition-all duration-300
                      ${x?"bg-accent-sage/10 hover:bg-accent-sage/20 border border-accent-sage/30":"hover:bg-earth-800/50 border border-earth-700/30"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Te,{url:v==null?void 0:v.profilePicture,size:"md",className:"mr-4"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("h3",{className:"font-medium text-text-primary truncate",children:(v==null?void 0:v.displayName)||"Unknown User"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[(v==null?void 0:v.isOnline)&&n.jsx("span",{className:"h-2 w-2 bg-accent-sage rounded-full"}),n.jsx("span",{className:"text-sm text-text-muted",children:f.lastMessageTimestamp?f.lastMessageTimestamp.toDate().toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"No messages"})]}),f.lastMessage&&n.jsx("span",{className:"text-text-muted",children:f.lastMessageStatus==="read"?n.jsx(sl,{className:"h-4 w-4 text-accent-sage"}):f.lastMessageStatus==="delivered"?n.jsx(aa,{className:"h-4 w-4 text-accent-sage"}):n.jsx(aa,{className:"h-4 w-4 text-text-muted"})})]}),n.jsx(yi,{className:"h-4 w-4 text-text-muted opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),f.tradeName&&n.jsxs("p",{className:"text-sm text-accent-moss mb-1 truncate font-medium",children:["Re: ",f.tradeName]}),n.jsx("p",{className:"text-sm text-text-secondary truncate flex items-center gap-2",children:v&&((p=f.isTyping)==null?void 0:p[v.id])===!0?n.jsxs("span",{className:"text-accent-sage text-xs animate-pulse",children:[v.displayName," is typing..."]}):f.lastMessage||"No messages yet"}),x&&n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-accent-sage/20 text-accent-moss mt-2",children:[f.unreadCount[a.uid]," new message",f.unreadCount[a.uid]>1?"s":"",(v==null?void 0:v.isOnline)&&((m=f.isTyping)==null?void 0:m[v.id])&&n.jsx("span",{className:"ml-2 text-accent-sage",children:""})]})]})]})},f.id)})})]})})})}function Oh(){var k,C;const{id:e}=ka(),a=je(),{user:t}=ie(),[s,i]=h.useState(null),[r,l]=h.useState([]),[o,c]=h.useState(""),[u,g]=h.useState(!1);h.useRef();const[f,v]=h.useState(null),[x,d]=h.useState(!0),[p,m]=h.useState(""),y=h.useRef(null);h.useEffect(()=>{if(!(!e||!t))try{const j=dt(_(E,"conversations",e),async S=>{if(!S.exists()){console.error("Conversation not found:",e),m("Conversation not found"),d(!1);return}console.log("Conversation data received:",S.data());const A={id:S.id,...S.data()};i(A);const R=A.participants.find($=>$!==t.uid);if(R)try{const $=await ne(_(E,"users",R));$.exists()?v({id:$.id,...$.data()}):(console.error("User profile not found:",R),m("User profile not found"))}catch($){console.error("Failed to fetch other user:",$),m("Failed to load user profile")}d(!1)},S=>{console.error("Error fetching conversation:",S),m("Failed to load conversation"),d(!1)});return()=>{j(),i(null),l([]),v(null)}}catch(j){console.error("Error setting up conversation listener:",j),m("Failed to load conversation"),d(!1)}},[e,t]),h.useEffect(()=>{if(!e||!t)return;console.log("Setting up messages listener for conversation:",e);const j=O(E,"conversations",e,"messages"),S=J(j,rt("createdAt","asc")),A=dt(S,R=>{const $=R.docs.map(de=>{const W=de.data();return{id:de.id,conversationId:e,senderId:W.senderId,content:W.content,createdAt:W.createdAt?W.createdAt:null,read:W.read||!1,type:W.type||"text",status:W.status||"sent"}});if(l($),d(!1),$.length>0){const de=$.filter(W=>!W.read&&W.senderId!==t.uid);de.length>0&&(H(_(E,"conversations",e),{[`unreadCount.${t.uid}`]:0,lastRead:Z()}).catch(W=>{console.error("Error updating read status:",W)}),de.forEach(W=>{const Re=_(j,W.id);H(Re,{read:!0}).catch(Q=>{console.error("Error marking message as read:",Q)})}))}},R=>{console.error("Error fetching messages:",R),m("Failed to load messages"),d(!1)});return()=>{A()}},[e,t]),h.useEffect(()=>{var j;(j=y.current)==null||j.scrollIntoView({behavior:"smooth"})},[r]);const w=async j=>{if(!(s!=null&&s.id)||!(t!=null&&t.uid))return;const S=_(E,"conversations",s.id);try{const A={[`isTyping.${t.uid}`]:j};await H(S,A)}catch(A){console.error("Error updating typing status:",A)}};h.useEffect(()=>{let j;return(async()=>{!(s!=null&&s.id)||!(t!=null&&t.uid)||!o||(await w(!0),j&&clearTimeout(j),j=setTimeout(()=>{w(!1)},2e3))})(),()=>{j&&(clearTimeout(j),w(!1))}},[o,s==null?void 0:s.id,t==null?void 0:t.uid]),h.useEffect(()=>{if(!(t!=null&&t.uid))return;const j=_(E,"users",t.uid);return H(j,{isOnline:!0,lastSeen:Z()}),()=>{t!=null&&t.uid&&H(j,{isOnline:!1,lastSeen:Z()})}},[t]);const N=async j=>{var A,R;if(j.preventDefault(),!o.trim()||!(t!=null&&t.uid)||!(s!=null&&s.id)||!e||!(f!=null&&f.id))return;const S=o.trim();c("");try{await H(_(E,"conversations",e),{lastMessage:S,lastMessageTimestamp:Z(),[`unreadCount.${f.id}`]:(((A=s.unreadCount)==null?void 0:A[f.id])||0)+1,updatedAt:Z()});const $={conversationId:e,senderId:t.uid,content:S,createdAt:Z(),read:!1,type:"text",status:"sent"};await xt(O(E,"conversations",e,"messages"),$)}catch($){console.error("Failed to send message:",$);try{await H(_(E,"conversations",e),{lastMessage:s.lastMessage,lastMessageTimestamp:s.lastMessageTimestamp,[`unreadCount.${f.id}`]:((R=s.unreadCount)==null?void 0:R[f.id])||0,updatedAt:s.updatedAt})}catch(de){console.error("Failed to revert conversation metadata:",de)}m("Failed to send message. Please try again."),c(S),setTimeout(()=>m(""),3e3)}};return x?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-earth-700 bg-earth-800 flex items-center",children:n.jsxs("div",{className:"animate-pulse flex items-center w-full",children:[n.jsx("div",{className:"h-8 w-8 bg-earth-300 rounded-full mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-earth-300 rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-earth-300 rounded w-1/3"})]})]})}),n.jsx("div",{className:"h-[500px] p-4 bg-earth-50",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(j=>n.jsx("div",{className:`flex ${j%2===0?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`w-2/3 h-16 rounded-lg ${j%2===0?"bg-accent-sage/20":"bg-earth-300"}`})},j))})}),n.jsx("div",{className:"p-4 border-t border-earth-700 bg-earth-800",children:n.jsxs("div",{className:"animate-pulse flex gap-2",children:[n.jsx("div",{className:"flex-1 h-10 bg-earth-300 rounded-lg"}),n.jsx("div",{className:"h-10 w-10 bg-earth-300 rounded-lg"})]})})]})}):s?n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative",children:[p&&n.jsx("div",{className:"absolute top-0 left-0 right-0 z-50 px-4",children:n.jsx("div",{className:"bg-accent-rust/10 border border-accent-rust text-accent-rust px-4 py-2 rounded-lg shadow-lg",children:p})}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-earth-700 bg-earth-800 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>a("/messages"),className:"mr-4 text-text-muted hover:text-text-secondary transition-colors",children:n.jsx(ms,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Sa,{className:"h-8 w-8 text-text-muted mr-3"}),n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("h2",{className:"font-display font-bold text-text-primary",children:(f==null?void 0:f.displayName)||"Unknown User"}),n.jsx("p",{className:"text-xs text-text-muted",children:f!=null&&f.isOnline?n.jsx("span",{className:"text-accent-sage",children:" Online"}):(k=f==null?void 0:f.lastSeen)!=null&&k.toDate?`Last seen ${f.lastSeen.toDate().toLocaleString()}`:""})]}),s.tradeName&&n.jsxs("p",{className:"text-sm text-accent-moss font-medium",children:["Re: ",s.tradeName]})]})]})]})}),n.jsx("div",{className:"h-[500px] overflow-y-auto p-4 bg-earth-50",children:n.jsxs("div",{className:"space-y-4 pb-2",children:[(f==null?void 0:f.id)&&((C=s==null?void 0:s.isTyping)==null?void 0:C[f.id])===!0&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-earth-800 text-text-secondary border border-earth-700 rounded-lg px-4 py-2",children:n.jsxs("span",{className:"text-accent-sage text-sm animate-pulse",children:[f.displayName," is typing..."]})})}),r.map(j=>{var A;const S=j.senderId===(t==null?void 0:t.uid);return n.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${S?"bg-accent-sage/10 text-text-primary border border-accent-sage/30":"bg-earth-800 text-text-primary border border-earth-700"}`,children:[n.jsx("p",{children:j.content}),n.jsx("span",{className:"text-xs opacity-75 mt-1 block",children:(A=j.createdAt)!=null&&A.toDate?j.createdAt.toDate().toLocaleTimeString():""})]})},j.id)}),n.jsx("div",{ref:y})]})}),n.jsx("form",{onSubmit:N,className:"p-4 border-t border-earth-700 bg-earth-800",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",name:"message",value:o,onChange:j=>c(j.target.value),placeholder:"Type a message...",className:`flex-1 p-2 bg-earth-50 text-text-primary border border-earth-700 rounded-lg 
                         focus:ring-2 focus:ring-accent-sage focus:border-accent-sage placeholder:text-text-muted`}),n.jsx("button",{type:"submit",disabled:!o.trim(),className:`px-4 py-2 bg-accent-sage hover:bg-accent-moss text-white font-medium rounded-lg 
                         disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200`,children:n.jsx(gl,{className:"h-5 w-5"})})]})})]})]}):n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"card p-4 border border-accent-rust/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-accent-rust",children:[n.jsx(ms,{className:"h-5 w-5 cursor-pointer",onClick:()=>a("/messages")}),n.jsx("span",{children:"Conversation not found"})]})})})}function zh(){const e=je(),[a,t]=h.useState(""),[s,i]=h.useState([]),[r,l]=h.useState(),{data:o,loading:c,error:u}=_t("collaborations"),g=o.filter(d=>{const p=d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()),m=!r||d.status===r,y=s.length===0||d.roles.some(w=>w.skills.some(N=>s.includes(N)));return p&&m&&y}),f=Array.from(new Set(o.flatMap(d=>d.roles.flatMap(p=>p.skills)))).sort(),v=d=>{i(p=>p.includes(d)?p.filter(m=>m!==d):[...p,d])},x=d=>d.roles.filter(p=>!p.filled).length;return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Collaboration Projects"}),n.jsx("p",{className:"text-gray-200",children:"Find projects to collaborate on or start your own"})]}),n.jsxs("div",{className:"mb-8 space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:d=>t(d.target.value),className:`w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg 
                         text-gray-900 placeholder-gray-500
                         focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 
                         transition-all duration-300`})]}),n.jsxs("button",{onClick:()=>e("/projects/new"),className:"btn-primary flex items-center gap-2",children:[n.jsx(ji,{className:"h-5 w-5"}),"Create Project"]})]}),n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Tn,{className:"h-4 w-4"}),"Filter by Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(d=>n.jsx("button",{onClick:()=>v(d),className:`px-3 py-1 rounded-full text-sm transition-all duration-300 ${s.includes(d)?"bg-accent-clay text-white":"bg-earth-700 text-gray-900 hover:bg-earth-600"}`,children:d},d))})]})]}),c?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>n.jsxs("div",{className:"animate-pulse card p-6",children:[n.jsx("div",{className:"h-6 bg-earth-700 rounded w-3/4 mb-4"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("div",{className:"h-4 bg-earth-700 rounded w-full"}),n.jsx("div",{className:"h-4 bg-earth-700 rounded w-5/6"})]}),n.jsx("div",{className:"h-10 bg-earth-700 rounded"})]},d))}):u?n.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading projects"}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.map(d=>n.jsxs("div",{onClick:()=>e(`/projects/${d.id}`),className:"card p-6 card-hover cursor-pointer",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900",children:d.title}),n.jsx("span",{className:`
                  status-badge
                  ${d.status==="recruiting"?"status-badge-active":d.status==="in-progress"?"status-badge-pending":"status-badge-completed"}
                `,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),n.jsx("p",{className:"text-gray-700 mb-6 line-clamp-2",children:d.description}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Open Roles"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.roles.filter(p=>!p.filled).map((p,m)=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:p.title},m)),d.roles.every(p=>p.filled)&&n.jsx("span",{className:"text-sm text-gray-700",children:"All roles filled"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Required Skills"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(new Set(d.roles.flatMap(p=>p.skills))).map(p=>n.jsx("span",{className:"px-2 py-1 bg-accent-clay/20 text-gray-900 text-sm rounded-full border border-accent-clay/30",children:p},p))})]}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-earth-700",children:[n.jsxs("div",{className:"flex items-center text-gray-900",children:[n.jsx(pt,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{className:"text-sm font-medium",children:[d.roles.length-x(d),"/",d.roles.length," filled"]})]}),n.jsxs("div",{className:"flex items-center text-gray-900",children:[n.jsx(Le,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(d.createdAt).toLocaleDateString()})]})]})]},d.id)),g.length===0&&n.jsx("div",{className:"col-span-full text-center py-12",children:n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-8",children:[n.jsx(Ye,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-2",children:"No projects found"}),n.jsx("p",{className:"text-gray-700",children:"Try adjusting your search or filters"})]})})]})]})}function $h(){const e=je(),{user:a}=ie(),{add:t}=_t("collaborations"),[s,i]=h.useState(!1),[r,l]=h.useState(""),[o,c]=h.useState({title:"",description:"",roles:[],currentRole:{title:"",skill:"",skills:[]}}),u=()=>{const{skill:d}=o.currentRole;d.trim()&&(o.currentRole.skills.includes(d.trim())||c(p=>({...p,currentRole:{...p.currentRole,skills:[...p.currentRole.skills,d.trim()],skill:""}})))},g=d=>{c(p=>({...p,currentRole:{...p.currentRole,skills:p.currentRole.skills.filter(m=>m!==d)}}))},f=()=>{const{title:d,skills:p}=o.currentRole;!d.trim()||p.length===0||c(m=>({...m,roles:[...m.roles,{title:d.trim(),skills:p}],currentRole:{title:"",skill:"",skills:[]}}))},v=d=>{c(p=>({...p,roles:p.roles.filter((m,y)=>y!==d)}))},x=async d=>{if(d.preventDefault(),!!a){if(!o.title.trim()||!o.description.trim()){l("Please fill in all required fields");return}if(o.roles.length===0){l("Please add at least one role");return}i(!0),l("");try{await t({title:o.title,description:o.description,roles:o.roles.map(p=>({...p,filled:!1})),creatorId:a.uid,status:"recruiting",createdAt:new Date,updatedAt:new Date}),e("/projects")}catch{l("Failed to create project")}finally{i(!1)}}};return n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-earth-800 border border-earth-700 rounded-lg overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-display font-bold text-text-primary mb-6",children:"Create a New Project"}),r&&n.jsx("div",{className:"mb-4 p-3 bg-accent-rust/20 text-accent-rust rounded-lg border border-accent-rust/30",children:r}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-text-secondary mb-1",children:"Project Title"}),n.jsx("input",{type:"text",id:"title",value:o.title,onChange:d=>c(p=>({...p,title:d.target.value})),className:`w-full p-2 bg-earth-50 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted
                          focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300`,placeholder:"Enter project title",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-secondary mb-1",children:"Description"}),n.jsx("textarea",{id:"description",value:o.description,onChange:d=>c(p=>({...p,description:d.target.value})),className:`w-full p-2 bg-earth-50 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted
                          focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300`,rows:4,placeholder:"Describe your project in detail...",required:!0})]}),n.jsxs("div",{className:"mb-6 p-4 bg-earth-700/20 border border-earth-700 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-display font-medium text-text-primary mb-4",children:"Add Role"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Role Title"}),n.jsx("input",{type:"text",value:o.currentRole.title,onChange:d=>c(p=>({...p,currentRole:{...p.currentRole,title:d.target.value}})),className:`w-full p-2 bg-earth-50 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted
                            focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300`,placeholder:"e.g., Frontend Developer"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Required Skills"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:o.currentRole.skill,onChange:d=>c(p=>({...p,currentRole:{...p.currentRole,skill:d.target.value}})),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),u()),className:`flex-1 p-2 bg-earth-50 border border-earth-700 rounded-lg text-text-primary placeholder-text-muted
                              focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 transition-all duration-300`,placeholder:"Add required skills..."}),n.jsxs("button",{type:"button",onClick:u,className:`flex items-center gap-2 px-4 py-2 bg-accent-moss text-earth-50 rounded-lg
                              hover:bg-accent-moss/90 transition-colors duration-300`,children:[n.jsx(sa,{className:"h-4 w-4"}),"Add"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o.currentRole.skills.map(d=>n.jsxs("span",{className:`px-3 py-1 bg-accent-sage/20 text-text-primary rounded-full text-sm flex items-center
                                border border-accent-sage/30`,children:[d,n.jsx("button",{type:"button",onClick:()=>g(d),className:"ml-2 text-accent-sage hover:text-accent-moss transition-colors duration-300",children:n.jsx(be,{className:"h-3 w-3"})})]},d))})]}),n.jsx("button",{type:"button",onClick:f,disabled:!o.currentRole.title||o.currentRole.skills.length===0,className:`w-full bg-accent-moss text-earth-50 py-2 rounded-lg hover:bg-accent-moss/90 
                          disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300`,children:"Add Role to Project"})]}),o.roles.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-display font-medium text-text-primary mb-4",children:"Project Roles"}),n.jsx("div",{className:"space-y-3",children:o.roles.map((d,p)=>n.jsxs("div",{className:`flex items-center justify-between p-3 bg-earth-700/20 
                                              border border-earth-700 rounded-lg`,children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-text-primary",children:d.title}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.skills.map(m=>n.jsx("span",{className:`px-2 py-1 bg-accent-sage/20 text-text-primary rounded-full text-xs
                                        border border-accent-sage/30`,children:m},m))})]}),n.jsx("button",{type:"button",onClick:()=>v(p),className:"text-accent-rust hover:text-accent-rust/80 transition-colors duration-300",children:n.jsx(be,{className:"h-5 w-5"})})]},p))})]}),n.jsx("button",{type:"submit",disabled:s,className:`w-full bg-accent-moss text-earth-50 py-3 rounded-lg hover:bg-accent-moss/90 
                        disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300`,children:s?"Creating Project...":"Create Project"})]})]})})})}function qh(){const{id:e}=ka(),a=je(),{user:t}=ie(),[s,i]=h.useState(null),[r,l]=h.useState(null),[o,c]=h.useState(!0),[u,g]=h.useState(""),[f,v]=h.useState(!1),[x,d]=h.useState(!1),[p,m]=h.useState(!1);h.useEffect(()=>{async function j(){if(e)try{const S=await ne(_(E,"collaborations",e));if(!S.exists()){g("Project not found");return}const A={id:S.id,...S.data()};i(A);const R=await ne(_(E,"users",A.creatorId));if(R.exists()){const $={id:R.id,...R.data()};console.log("Creator data:",$),l($)}}catch{g("Failed to load project details")}finally{c(!1)}}j()},[e]);const y=async j=>{if(!(!t||!s||f)){v(!0);try{const S=[...s.roles];S[j]={...S[j],filled:!0,userId:t.uid},await H(_(E,"collaborations",s.id),{roles:S,updatedAt:Z()}),i(A=>A?{...A,roles:S}:null)}catch{g("Failed to join role")}finally{v(!1)}}},w=async j=>{if(!(!s||!t||p)){m(!0);try{if(await H(_(E,"collaborations",s.id),{status:j,updatedAt:Z()}),j==="completed"){const S=s.roles.filter(A=>A.filled&&A.userId).map(A=>({userId:A.userId,skills:A.skills}));for(const A of S){await va(A.userId,ht.COLLABORATION_COMPLETION,A.skills);const R=await ne(_(E,"users",A.userId));R.exists()&&await yn(A.userId,R.data())}}i(S=>S?{...S,status:j}:null),d(!1)}catch{g("Failed to update project status")}finally{m(!1)}}},N=async()=>{if(!(!t||!s||!r))try{const j=await xt(O(E,"conversations"),{participants:[t.uid,s.creatorId],projectId:e,projectName:s.title,lastMessage:"",unreadCount:{[s.creatorId]:0,[t.uid]:0},createdAt:Z(),updatedAt:Z()});a(`/messages/${j.id}`)}catch{g("Failed to start conversation")}};if(o)return n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})});if(u||!s)return n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg",children:u||"Project not found"})});const k=(t==null?void 0:t.uid)===s.creatorId,C=s.roles.every(j=>j.filled);return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"card card-form",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),n.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Posted ",new Date(s.createdAt).toLocaleDateString()]})]}),n.jsx("span",{className:`badge-${s.status}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),r&&n.jsxs("div",{className:"flex items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"mr-4",children:n.jsx(Te,{url:r.profilePicture,size:"md"})}),n.jsxs("div",{children:[n.jsx(q,{to:`/profile/${r.id}`,className:"hover:underline",children:n.jsx("h3",{className:"font-medium text-gray-900",children:r.displayName})}),n.jsx("p",{className:"text-gray-600 text-sm",children:r.bio||"No bio available"})]}),!k&&n.jsxs("button",{onClick:N,className:"ml-auto flex items-center gap-2 btn-primary btn-with-icon px-4 py-2",children:[n.jsx(Oe,{className:"h-4 w-4"}),"Contact"]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About the Project"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:s.description})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Team Roles"}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(pt,{className:"h-5 w-5 mr-2"}),n.jsxs("span",{children:[s.roles.filter(j=>j.filled).length,"/",s.roles.length," filled"]})]})]}),n.jsx("div",{className:"space-y-4",children:s.roles.map((j,S)=>n.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:j.title}),j.filled?n.jsx("span",{className:"px-2 py-1 bg-accent-ochre/20 text-gray-900 text-sm rounded-full border border-accent-ochre/30",children:"Filled"}):n.jsx("button",{onClick:()=>y(S),disabled:f||!t||k,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-sage/30 bg-accent-sage/20 text-gray-900 border border-accent-sage/30 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Joining...":"Join Role"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:j.skills.map(A=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:A},A))})]},S))})]}),k&&n.jsx("div",{className:"flex gap-4",children:n.jsxs("button",{onClick:()=>d(!0),disabled:p,className:"btn-primary btn-full py-2 flex-1 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ta,{className:"h-5 w-5"}),"Update Status"]})})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"card card-form p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Update Project Status"}),n.jsxs("div",{className:"space-y-3",children:[s.status==="recruiting"&&n.jsxs("button",{onClick:()=>w("in-progress"),disabled:!C||p,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-clay/30 bg-accent-clay/20 text-gray-900 border border-accent-clay/30 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Ee,{className:"h-5 w-5"}),"Start Project"]}),s.status!=="completed"&&n.jsxs("button",{onClick:()=>w("completed"),disabled:p,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-ochre/30 bg-accent-ochre/20 text-gray-900 border border-accent-ochre/30",children:[n.jsx(ta,{className:"h-5 w-5"}),"Mark as Completed"]}),s.status!=="recruiting"&&n.jsx("button",{onClick:()=>w("recruiting"),disabled:p,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded hover:bg-accent-sage/30 bg-accent-sage/20 text-gray-900 border border-accent-sage/30",children:"Reopen Recruitment"}),n.jsx("button",{onClick:()=>d(!1),className:"w-full px-4 py-2 text-gray-600 hover:bg-gray-50 rounded",children:"Cancel"})]})]})})]})}async function uo(e,a){try{if(!e||!a)throw new Error("Both user IDs are required");if(e===a)throw new Error("Cannot connect with yourself");const[t,s]=await Promise.all([ne(_(E,"users",e)),ne(_(E,"users",a))]);if(!t.exists()||!s.exists())throw new Error("One or both users not found");const[i,r]=await Promise.all([le(J(O(E,`users/${a}/connections`),X("userId","==",e))),le(J(O(E,`users/${e}/sent_requests`),X("userId","==",a)))]);if(!i.empty||!r.empty)throw new Error("Connection request already exists");const l=vi(E),o=Z();l.set(_(E,`users/${a}/connections`,`${e}_${a}`),{userId:e,status:"pending",timestamp:o}),l.set(_(E,`users/${e}/sent_requests`,`${e}_${a}`),{userId:a,status:"pending",timestamp:o}),await l.commit(),await Qn("Request Sent","Your connection request has been sent successfully")}catch(t){throw console.error("Error sending connection request:",t),await ze("Failed to Send Request",t instanceof Error?t.message:"An unexpected error occurred"),t}}async function mo(e,a){try{if(!e||!a)throw new Error("Both user IDs are required");const[t,s]=await Promise.all([le(J(O(E,`users/${e}/connections`),X("userId","==",a))),le(J(O(E,`users/${e}/sent_requests`),X("userId","==",a)))]);return t.empty?s.empty?"none":s.docs[0].data().status:t.docs[0].data().status}catch(t){throw console.error("Error checking connection status:",t),t}}async function Bh(e,a,t={type:"direct"}){try{if(!e||!a.length)throw new Error("Current user ID and at least one other participant are required");const s=[e,...a],i=s.sort();if(t.type==="direct"||t.type==="group"&&!t.contextId){const o=O(E,"conversations"),c=J(o,Yo(X("participantIds","==",i),X("conversationType","==",t.type))),u=await le(c);if(!u.empty)return u.docs[0].id}const r={participants:s,participantIds:i,lastMessage:null,lastMessageTimestamp:null,unreadCount:Object.fromEntries(s.map(o=>[o,0])),conversationType:t.type,updatedAt:Z(),isTyping:Object.fromEntries(s.map(o=>[o,!1]))};return t.contextId&&(r.contextId=t.contextId),t.tradeName&&(r.tradeName=t.tradeName),(await xt(O(E,"conversations"),r)).id}catch(s){throw console.error("Error in getOrCreateConversation:",s),s}}async function Sn(e,a){try{if(!e||!(a!=null&&a.id))throw new Error("Invalid user IDs for conversation");return await Bh(e,[a.id])}catch(t){throw console.error("Failed to start conversation:",t),t}}function Uh({profile:e,currentUserId:a,connectionStatus:t,onConnect:s,onMessage:i}){const[r,l]=h.useState(t),[o,c]=h.useState(!1),[u,g]=h.useState(!1),[f,v]=h.useState(null),x=je();h.useEffect(()=>{t!==r&&l(t)},[t]);const d=async()=>{if(!a||u||!e.id){console.warn("Invalid state for starting conversation:",{currentUserId:a,isStartingChat:u,profileId:e.id});return}g(!0),v(null);try{const m=await Sn(a,e);if(!m)throw new Error("Failed to get conversation ID");x(`/messages/${m}`),i==null||i(e)}catch(m){console.error("Failed to start conversation:",m),v("Failed to start conversation")}finally{g(!1)}},p=async()=>{if(!a||o||!e.id){console.warn("Invalid state for connection:",{currentUserId:a,isConnecting:o,profileId:e.id});return}c(!0),v(null);try{await uo(a,e.id),l("pending"),s==null||s(!0)}catch(m){console.error("Failed to send connection request:",m),l("none"),v("Failed to send connection request"),s==null||s(!1)}finally{c(!1)}};return n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(q,{to:`/users/${e.id}`,children:n.jsx(Te,{url:e.profilePicture,size:"lg"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(q,{to:`/users/${e.id}`,className:"text-lg font-medium text-gray-900 truncate hover:text-accent-clay transition-colors",children:e.displayName}),e.portfolio&&n.jsxs("a",{href:e.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-accent-clay hover:text-accent-ochre flex items-center gap-1",children:["Portfolio ",n.jsx(Ni,{className:"h-3 w-3"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.bio||"No bio available"}),f&&n.jsx("p",{className:"text-sm text-accent-rust mt-2",children:f})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Top Skills"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(e.skills||[]).slice(0,3).map(m=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:m},m))})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-earth-700 flex gap-2",children:r==="accepted"?n.jsx("button",{onClick:d,disabled:u||!a||!e.id,className:"flex-1 btn-primary flex items-center justify-center gap-2",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Starting chat..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"h-4 w-4"}),"Message"]})}):r==="pending"?n.jsxs("button",{disabled:!0,className:"flex-1 btn-secondary flex items-center justify-center gap-2 opacity-75 cursor-not-allowed",children:[n.jsx(Le,{className:"h-4 w-4"}),"Request Pending"]}):n.jsx("button",{onClick:p,disabled:o||!a||!e.id,className:"flex-1 btn-primary flex items-center justify-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(In,{className:"h-4 w-4"}),"Connect"]})})},`${e.id}-${r}`)]})}function Hh(){je();const{user:e}=ie(),[a,t]=h.useState(""),[s,i]=h.useState([]),[r,l]=h.useState({}),[o,c]=h.useState(new Set),[u,g]=h.useState(!0),{data:f,loading:v}=_t("users");h.useEffect(()=>{if(!e||v)return;(async()=>{const y={};for(const w of f)if(w.id!==e.uid)try{const N=await mo(e.uid,w.id);y[w.id]=N}catch(N){console.error(`Failed to get connection status for ${w.id}:`,N),y[w.id]="none"}l(y),g(!1)})()},[e,f,v]);const x=f.filter(m=>{var N;if(m.id===(e==null?void 0:e.uid))return!1;const y=m.displayName.toLowerCase().includes(a.toLowerCase())||((N=m.bio)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||m.skills.some(k=>k.toLowerCase().includes(a.toLowerCase())),w=s.length===0||m.skills.some(k=>s.includes(k));return y&&w}),d=Array.from(new Set(f.flatMap(m=>m.skills))).sort(),p=m=>{i(y=>y.includes(m)?y.filter(w=>w!==m):[...y,m])};return u||v?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(m=>n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-12 w-12 bg-earth-700 rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-earth-700 rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-earth-700 rounded w-3/4"})]})]})},m))})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"User Directory"}),n.jsx("p",{className:"text-gray-200",children:"Find skilled professionals to collaborate with"})]}),n.jsxs("div",{className:"mb-8 space-y-4",children:[n.jsx("div",{className:"flex gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by name, bio, or skills...",value:a,onChange:m=>t(m.target.value),className:`w-full pl-10 pr-4 py-3 bg-earth-800 border border-earth-700 rounded-lg 
                         text-gray-900 placeholder-gray-500
                         focus:border-accent-clay focus:ring-1 focus:ring-accent-clay/30 
                         transition-all duration-300`})]})}),n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Tn,{className:"h-4 w-4"}),"Filter by Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(m=>n.jsx("button",{onClick:()=>p(m),className:`px-3 py-1 rounded-full text-sm transition-all duration-300 ${s.includes(m)?"bg-accent-clay text-white":"bg-earth-700 text-gray-900 hover:bg-earth-600"}`,children:m},m))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(m=>n.jsx(Uh,{profile:m,currentUserId:e==null?void 0:e.uid,connectionStatus:r[m.id],onConnect:y=>{y&&l(w=>({...w,[m.id]:"pending"}))}},m.id)),x.length===0&&n.jsx("div",{className:"col-span-full text-center py-12",children:n.jsxs("div",{className:"bg-earth-800 border border-earth-700 rounded-lg p-8",children:[n.jsx(Ye,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-2",children:"No users found"}),n.jsx("p",{className:"text-gray-700",children:"Try adjusting your search or filters"})]})})]})]})}async function Wh(e,a){const t=_(E,"challenges",a);await H(t,{participants:Pn(e)}),await H(_(E,"users",e),{[`challengeProgress.${a}`]:{progress:0,completed:!1,claimedRewards:!1}})}async function Vh(e,a){await va(e,a.rewards.xp),a.rewards.badge&&await Yt(e,a.rewards.badge),await H(_(E,"users",e),{[`challengeProgress.${a.id}.claimedRewards`]:!0})}function Gh({challenge:e,userProgress:a}){const{user:t}=ie(),[s,i]=h.useState(!1),[r,l]=h.useState(!1),o=e.participants.includes((t==null?void 0:t.uid)||""),c=e.completions.includes((t==null?void 0:t.uid)||""),u=c&&!(a!=null&&a.claimedRewards),g=new Date(e.endDate).getTime()-Date.now(),f=Math.ceil(g/(1e3*60*60*24)),v=async()=>{if(t){i(!0);try{await Wh(t.uid,e.id)}catch(d){console.error("Failed to join challenge:",d)}finally{i(!1)}}},x=async()=>{if(t){l(!0);try{await Vh(t.uid,e)}catch(d){console.error("Failed to claim rewards:",d)}finally{l(!1)}}};return n.jsx("div",{className:"card group",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-2",children:e.title}),n.jsx("p",{className:"text-gray-700",children:e.description})]}),n.jsx("span",{className:`
            px-3 py-1.5 rounded-full text-sm font-medium
            ${e.type==="weekly"?"bg-accent-sage/20 text-accent-moss border border-accent-sage/30":"bg-accent-clay/20 text-accent-rust border border-accent-clay/30"}
          `,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Ea,{className:"h-4 w-4 text-accent-ochre"}),"Requirements"]}),n.jsx("div",{className:"space-y-2",children:e.requirements.map((d,p)=>n.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-colors
                  ${a&&a.progress>=d.count?"bg-accent-sage/20 text-accent-moss border border-accent-sage/30":"bg-earth-700/50 text-gray-900"}`,children:[n.jsx(gn,{className:`h-4 w-4 mr-2 flex-shrink-0 ${a&&a.progress>=d.count?"text-accent-moss":"text-gray-500"}`}),n.jsxs("span",{children:[d.count," ",d.type,d.skillCategory&&` in ${d.skillCategory}`]})]},p))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Ve,{className:"h-4 w-4 text-accent-ochre"}),"Rewards"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-accent-clay/20 text-accent-rust rounded-lg border border-accent-clay/30",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{className:"font-medium",children:[e.rewards.xp," XP"]})]}),e.rewards.badge&&n.jsxs("div",{className:"px-3 py-1.5 bg-accent-ochre/20 text-accent-rust rounded-lg border border-accent-ochre/30",children:[e.rewards.badge," Badge"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Le,{className:"h-4 w-4 mr-1"}),f>0?`${f} days left`:"Ended"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(pt,{className:"h-4 w-4 mr-1"}),e.participants.length," participants"]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-earth-700",children:[!o&&!c&&n.jsx("button",{onClick:v,disabled:s||f<=0,className:"btn-primary w-full flex items-center justify-center gap-2 group",children:s?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Joining..."]}):n.jsxs(n.Fragment,{children:["Join Challenge",n.jsx(yi,{className:"h-4 w-4 transform group-hover:translate-x-1 transition-transform"})]})}),u&&n.jsx("button",{onClick:x,disabled:r,className:`w-full bg-gradient-to-r from-accent-sage to-accent-clay text-white py-2 rounded-lg
                         hover:from-accent-clay hover:to-accent-sage transition-all duration-300
                         font-medium shadow-lg hover:shadow-accent-clay/50 flex items-center justify-center gap-2`,children:r?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Claiming..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ve,{className:"h-4 w-4"}),"Claim Rewards"]})}),c&&!u&&n.jsxs("div",{className:"text-center text-accent-moss font-medium flex items-center justify-center gap-2",children:[n.jsx(gn,{className:"h-5 w-5"}),"Challenge Completed!"]})]})]})})}const Kh={"Pro Tools":"Audio Production",Ableton:"Music Production","Logic Pro":"Music Production","FL Studio":"Music Production",Audacity:"Audio Production","Studio One":"Audio Production",Reason:"Music Production","Adobe Premiere":"Video Editing","Final Cut Pro":"Video Editing","DaVinci Resolve":"Video Editing","After Effects":"Motion Graphics","Vegas Pro":"Video Editing",Photoshop:"Digital Design",Illustrator:"Digital Design",InDesign:"Digital Design",GIMP:"Digital Design",Figma:"UI/UX Design",Sketch:"UI/UX Design",XD:"UI/UX Design",Maya:"3D Animation",Blender:"3D Animation","Cinema 4D":"3D Animation",Unity:"Game Development","Unreal Engine":"Game Development",Lightroom:"Photography","Capture One":"Photography",Luminar:"Photography",Excel:"Data & Analytics","Google Sheets":"Data & Analytics",Tableau:"Data & Analytics","Power BI":"Data & Analytics",Looker:"Data & Analytics",SQL:"Data & Analytics",R:"Data & Analytics",Python:"Data & Analytics",SPSS:"Data & Analytics",SAS:"Data & Analytics",PowerPoint:"Presentation & Communication",Keynote:"Presentation & Communication","Google Slides":"Presentation & Communication",Prezi:"Presentation & Communication",Canva:"Presentation & Communication"};function Yh(e){const a=Kh[e];if(a)return a;const t=e.toLowerCase();return t.includes("audio")||t.includes("sound")?"Audio Production":t.includes("video")||t.includes("film")?"Video Editing":t.includes("design")||t.includes("graphic")?"Digital Design":t.includes("3d")||t.includes("animation")?"3D Animation":t.includes("photo")?"Photography":t.includes("game")?"Game Development":t.includes("music")?"Music Production":t.includes("excel")||t.includes("data")||t.includes("analytics")||t.includes("sql")?"Data & Analytics":t.includes("presentation")||t.includes("powerpoint")||t.includes("keynote")||t.includes("speaking")?"Presentation & Communication":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}async function Zh(){try{const e=O(E,"users"),a=await le(e),t={};a.forEach(i=>{const r=i.data();r.skills&&Array.isArray(r.skills)&&r.skills.forEach(l=>{const o=Yh(l);t[o]=(t[o]||0)+1})});const s=Object.entries(t).sort(([,i],[,r])=>r-i).map(([i])=>i);return s.length===0?["Audio Production","Video Editing","Digital Design","3D Animation","Photography"]:s}catch(e){return console.error("Error fetching popular skills:",e),["Audio Production","Video Editing","Digital Design","3D Animation","Photography"]}}async function Xh(e,a){const s=(await Zh()).slice(0,5),i=["Trades","Collaborations","Endorsements"],r=s[a%s.length],l=[];l.push({type:i[a%i.length],count:e==="weekly"?Math.floor(Math.random()*2)+2:Math.floor(Math.random()*3)+3,skillCategory:r}),Math.random()>.5&&l.push({type:"Collaborations",count:e==="weekly"?1:2,skillCategory:"Any"}),Math.random()>.7&&l.push({type:"Endorsements",count:e==="weekly"?2:4,skillCategory:r});const c={"Audio Production":"Master the art of sound design, mixing, and audio post-production.","Music Production":"Create and produce original music, from composition to final mix.","Video Editing":"Create compelling video content through expert editing and production.","Motion Graphics":"Combine animation and graphic design for dynamic visual content.","Digital Design":"Create stunning visual designs that communicate and inspire.","UI/UX Design":"Design intuitive and engaging user interfaces and experiences.","3D Animation":"Bring ideas to life through 3D modeling, animation, and rendering.","Game Development":"Create interactive experiences through game design and development.",Photography:"Capture and edit remarkable photos that tell powerful stories.","Data & Analytics":"Transform raw data into actionable insights through analysis and visualization.","Presentation & Communication":"Create and deliver engaging presentations that effectively communicate ideas."}[r]||`Master the art of ${r} and showcase your expertise in this field.`;return{title:`${e==="weekly"?"Weekly":"Monthly"} ${r} Challenge`,description:`${c} This ${e==="weekly"?"Week":"Month"}, push your ${r} skills to new heights!`,requirements:l,rewards:{xp:e==="weekly"?100+Math.floor(Math.random()*200):500+Math.floor(Math.random()*500),badge:`${e==="weekly"?"Weekly":"Monthly"}${r.replace(/\s+/g,"")}Master`}}}async function ja(e,a=!1){console.log(`Generating ${e} challenge (variation)`);try{const t=await Xh(e,Math.floor(Math.random()*100)),s=await xt(O(E,"challenges"),{...t,type:e,status:"pending",participants:[],completions:[],source:"variation",startDate:Z(),endDate:Zo.fromDate(e==="weekly"?new Date(Date.now()+7*24*60*60*1e3):new Date(Date.now()+30*24*60*60*1e3)),createdAt:Z(),updatedAt:Z()});return console.log(`Challenge created successfully with ID: ${s.id}`),s.id}catch(t){throw console.error("Failed to generate challenge:",t),await ze("Challenge Generation Error","Failed to generate challenge. Please try again."),t}}async function Jh(){console.log("Deleting all existing challenges...");try{const e=J(O(E,"challenges"),X("status","in",["pending","live"])),a=await le(e),t=vi(E);a.docs.forEach(s=>{t.delete(s.ref)}),await t.commit(),console.log(`Deleted ${a.size} challenges`)}catch(e){throw console.error("Error deleting challenges:",e),e}}async function Na(){try{await Jh(),console.log("Generating fresh set of challenges..."),console.log("Generating 10 weekly challenges...");for(let e=0;e<10;e++)await ja("weekly"),console.log(`Generated weekly challenge ${e+1}/10`),e<9&&await new Promise(a=>setTimeout(a,500));console.log("Generating 10 monthly challenges...");for(let e=0;e<10;e++)await ja("monthly"),console.log(`Generated monthly challenge ${e+1}/10`),e<9&&await new Promise(a=>setTimeout(a,500));console.log("Successfully generated all new challenges")}catch(e){throw console.error("Error generating challenges:",e),await ze("Challenge Generation Error","Failed to generate challenges. Please try again later."),e}}async function Qh(){console.log("Initializing challenges..."),await Na()}const ef=Object.freeze(Object.defineProperty({__proto__:null,checkAndGenerateChallenges:Na,generateChallenge:ja,initializeChallenges:Qh},Symbol.toStringTag,{value:"Module"}));function tf(){const{user:e}=ie(),[a,t]=h.useState([]),[s,i]=h.useState(!0),[r,l]=h.useState(!1),[o,c]=h.useState("all"),u=async()=>{if(e)try{const v=J(O(E,"challenges"),X("type","==","weekly"),X("status","in",["pending","active"])),x=J(O(E,"challenges"),X("type","==","monthly"),X("status","in",["pending","active"])),[d,p]=await Promise.all([le(v),le(x)]);if(!d.empty||!p.empty){const m=d.docs.map(C=>{var j,S,A,R;return{id:C.id,...C.data(),startDate:((j=C.data().startDate)==null?void 0:j.toDate())||null,endDate:((S=C.data().endDate)==null?void 0:S.toDate())||null,createdAt:((A=C.data().createdAt)==null?void 0:A.toDate())||new Date,updatedAt:((R=C.data().updatedAt)==null?void 0:R.toDate())||new Date}}),y=p.docs.map(C=>{var j,S,A,R;return{id:C.id,...C.data(),startDate:((j=C.data().startDate)==null?void 0:j.toDate())||null,endDate:((S=C.data().endDate)==null?void 0:S.toDate())||null,createdAt:((A=C.data().createdAt)==null?void 0:A.toDate())||new Date,updatedAt:((R=C.data().updatedAt)==null?void 0:R.toDate())||new Date}}),w=C=>C.sort((j,S)=>j.source==="ai"&&S.source!=="ai"?-1:j.source!=="ai"&&S.source==="ai"?1:S.createdAt.getTime()-j.createdAt.getTime()).slice(0,10),N=w(m),k=w(y);t([...N,...k])}else await Na(),await u()}catch(v){console.error("Failed to fetch challenges:",v),await ze("Error Loading Challenges","Unable to load challenges. Please try refreshing the page.")}finally{i(!1)}};h.useEffect(()=>{u()},[e]);const g=async()=>{l(!0);try{await Na(),await u()}catch(v){console.error("Failed to refresh challenges:",v),await ze("Refresh Failed","Unable to refresh challenges. Please try again.")}finally{l(!1)}},f=a.filter(v=>o==="all"||v.type===o);return n.jsxs("div",{className:"min-h-screen",children:[n.jsx("div",{className:"fixed inset-0 bg-mesh opacity-30"}),n.jsx("div",{className:"fixed inset-0 bg-noise"}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-accent-clay to-accent-ochre rounded-lg",children:n.jsx(Ve,{className:"h-8 w-8 text-white"})}),n.jsx("h1",{className:"text-4xl font-display font-bold text-white",children:"Active Challenges"})]}),n.jsx("p",{className:"text-xl text-gray-300",children:"Complete challenges to earn XP and unlock special rewards"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-8",children:[n.jsxs("div",{className:"flex gap-2 p-1 bg-earth-800/50 backdrop-blur-sm rounded-lg",children:[n.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${o==="all"?"bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"All Challenges"}),n.jsx("button",{onClick:()=>c("weekly"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${o==="weekly"?"bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Weekly"}),n.jsx("button",{onClick:()=>c("monthly"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${o==="monthly"?"bg-gradient-to-r from-accent-clay to-accent-ochre text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Monthly"})]}),n.jsxs("button",{onClick:g,disabled:r,className:`flex items-center gap-2 px-4 py-2 bg-earth-800/50 backdrop-blur-sm 
                     text-white rounded-lg hover:bg-earth-800/70 transition-all duration-300
                     disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx(gs,{className:`h-5 w-5 ${r?"animate-spin":""}`}),r?"Refreshing...":"Check for New Challenges"]})]}),s?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>n.jsxs("div",{className:"card p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-earth-700/50 rounded w-3/4 mb-4"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("div",{className:"h-4 bg-earth-700/50 rounded w-full"}),n.jsx("div",{className:"h-4 bg-earth-700/50 rounded w-5/6"})]}),n.jsx("div",{className:"h-10 bg-earth-700/50 rounded"})]},v))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.map(v=>{var x;return n.jsx(Gh,{challenge:v,userProgress:(x=e==null?void 0:e.challengeProgress)==null?void 0:x[v.id]},v.id)}),f.length===0&&n.jsx("div",{className:"col-span-full",children:n.jsxs("div",{className:"card p-12 text-center",children:[n.jsx(vl,{className:"h-12 w-12 text-accent-clay mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-2",children:"No Active Challenges"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"There are no active challenges at the moment. Click refresh to check for new ones."}),n.jsxs("button",{onClick:g,disabled:r,className:"btn-primary inline-flex items-center gap-2",children:[n.jsx(gs,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Check for New Challenges"]})]})})]})]})]})}function af({challenge:e,type:a,onSave:t,onCancel:s}){var d,p,m;const[i,r]=h.useState(e||{}),[l,o]=h.useState(!1),[c,u]=h.useState(!1),[g,f]=h.useState(null),v=async()=>{o(!0),f(null);try{const y=await ja(a,!0),w=await E.doc(`challenges/${y}`).get();r(w.data())}catch{f("Failed to generate challenge. Please try again or edit manually.")}finally{o(!1)}},x=async()=>{if(!i.title||!i.description){f("Please fill in all required fields");return}u(!0),f(null);try{e!=null&&e.id&&await H(_(E,"challenges",e.id),{...i,updatedAt:new Date}),t()}catch{f("Failed to save challenge")}finally{u(!1)}};return n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:e?"Edit Challenge":"New Challenge"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:v,disabled:l,className:"btn-secondary flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4"}),l?"Generating...":"Generate with AI"]}),e&&n.jsxs("button",{onClick:()=>r(e),className:"btn-secondary flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4"}),"Reset"]})]})]}),g&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-2",children:[n.jsx(wi,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("p",{children:g})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",value:i.title||"",onChange:y=>r(w=>({...w,title:y.target.value})),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter challenge title"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:i.description||"",onChange:y=>r(w=>({...w,description:y.target.value})),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:4,placeholder:"Describe the challenge"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements"}),(d=i.requirements)==null?void 0:d.map((y,w)=>n.jsxs("div",{className:"flex gap-4 mb-2",children:[n.jsxs("select",{value:y.type,onChange:N=>{const k=[...i.requirements||[]];k[w]={...y,type:N.target.value},r(C=>({...C,requirements:k}))},className:"p-2 border rounded-lg",children:[n.jsx("option",{value:"trades",children:"Trades"}),n.jsx("option",{value:"collaborations",children:"Collaborations"}),n.jsx("option",{value:"endorsements",children:"Endorsements"}),n.jsx("option",{value:"skills",children:"Skills"})]}),n.jsx("input",{type:"number",value:y.count,onChange:N=>{const k=[...i.requirements||[]];k[w]={...y,count:parseInt(N.target.value)},r(C=>({...C,requirements:k}))},className:"p-2 border rounded-lg w-24",min:"1"}),n.jsx("input",{type:"text",value:y.skillCategory||"",onChange:N=>{const k=[...i.requirements||[]];k[w]={...y,skillCategory:N.target.value},r(C=>({...C,requirements:k}))},className:"p-2 border rounded-lg flex-1",placeholder:"Skill category (optional)"})]},w)),n.jsx("button",{onClick:()=>r(y=>({...y,requirements:[...y.requirements||[],{type:"trades",count:1}]})),className:"text-sm text-indigo-600 hover:text-indigo-700",children:"+ Add Requirement"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rewards"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"XP"}),n.jsx("input",{type:"number",value:((p=i.rewards)==null?void 0:p.xp)||0,onChange:y=>r(w=>({...w,rewards:{...w.rewards,xp:parseInt(y.target.value)}})),className:"p-2 border rounded-lg w-24",min:"0"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Badge (optional)"}),n.jsx("input",{type:"text",value:((m=i.rewards)==null?void 0:m.badge)||"",onChange:y=>r(w=>({...w,rewards:{...w.rewards,badge:y.target.value}})),className:"p-2 border rounded-lg w-full",placeholder:"Badge identifier"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx("button",{onClick:s,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:x,disabled:c,className:"btn-primary flex items-center gap-2",children:[n.jsx(Ei,{className:"h-4 w-4"}),c?"Saving...":"Save Challenge"]})]})]})]})}function nf(){const[e,a]=h.useState([]),[t,s]=h.useState(null),[i,r]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{const u=J(O(E,"challenges"),X("status","==","pending"),rt("createdAt","desc")),g=dt(u,f=>{const v=f.docs.map(x=>({id:x.id,...x.data()}));a(v),r(!1)},f=>{console.error("Error fetching challenges:",f),o("Failed to load challenges"),r(!1)});return()=>g()},[]);const c=async u=>{try{const{httpsCallable:g}=await Ai(async()=>{const{httpsCallable:x}=await import("./index.esm-DAbzv-F7.js");return{httpsCallable:x}},__vite__mapDeps([0,1])),f=getFunctions();await g(f,"manuallyActivateChallenge")({challengeId:u})}catch(g){console.error("Failed to activate challenge:",g),o("Failed to activate challenge")}};return i?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(u=>n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},u))})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Challenge Management"}),n.jsx("p",{className:"text-gray-600",children:"Review and activate pending challenges"})]}),l&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-2",children:[n.jsx(wi,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("p",{children:l})]}),t?n.jsx(af,{challenge:t,type:t.type,onSave:()=>s(null),onCancel:()=>s(null)}):n.jsxs("div",{className:"space-y-6",children:[e.map(u=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:u.title}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[n.jsx(Le,{className:"h-4 w-4 mr-1"}),u.type.charAt(0).toUpperCase()+u.type.slice(1)," Challenge"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>s(u),className:"p-2 text-gray-600 hover:text-indigo-600 transition-colors",children:n.jsx(ul,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>c(u.id),className:"p-2 text-gray-600 hover:text-green-600 transition-colors",children:n.jsx(hl,{className:"h-5 w-5"})})]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requirements"}),n.jsx("div",{className:"space-y-2",children:u.requirements.map((g,f)=>n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsxs("span",{className:"w-24",children:[g.type,":"]}),n.jsx("span",{className:"font-medium",children:g.count}),g.skillCategory&&n.jsxs("span",{className:"ml-2 text-gray-500",children:["in ",g.skillCategory]})]},f))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Rewards"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full",children:[u.rewards.xp," XP"]}),u.rewards.badge&&n.jsxs("div",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full",children:[u.rewards.badge," Badge"]})]})]})]})]},u.id)),e.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[n.jsx(Le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Challenges"}),n.jsx("p",{className:"text-gray-600",children:"New challenges will appear here when generated"})]})]})]})}async function sf(e,a){try{const t=_(E,`users/${e}/connections`,a),s=await ne(t);if(!s.exists())throw new Error("Connection request not found");const i=s.data();if(i.status!=="pending")throw new Error("Connection request is no longer pending");await H(t,{status:"accepted",timestamp:Z()});const r=`${e}_${i.userId}`;await fn(_(E,`users/${i.userId}/connections`,r),{userId:e,status:"accepted",timestamp:Z()}),await Qn("Connection Accepted","You are now connected!")}catch(t){throw console.error("Error accepting connection request:",t),await ze("Failed to Accept Request",t instanceof Error?t.message:"An unexpected error occurred"),t}}async function rf(e,a){try{const t=_(E,`users/${e}/connections`,a);await Xo(t),await Qn("Connection Declined","The connection request has been declined")}catch(t){throw console.error("Error declining connection request:",t),await ze("Failed to Decline Request",t instanceof Error?t.message:"An unexpected error occurred"),t}}function of(){const{user:e}=ie(),[a,t]=h.useState([]),[s,i]=h.useState([]),[r,l]=h.useState({}),[o,c]=h.useState(!0),[u,g]=h.useState(""),f=je(),v=async p=>{const m=Array.from(new Set(p)),y={};for(const w of m)try{const N=await ne(_(E,"users",w));N.exists()&&(y[w]={id:N.id,...N.data()})}catch(N){console.error(`Failed to fetch profile for ${w}:`,N)}l(w=>({...w,...y}))};h.useEffect(()=>{if(!e)return;const p=J(O(E,`users/${e.uid}/connections`),X("status","==","pending")),m=J(O(E,`users/${e.uid}/connections`),X("status","==","accepted")),y=dt(p,N=>{const k=N.docs.map(j=>({id:j.id,...j.data()}));i(k);const C=k.map(j=>j.userId);v(C)},N=>{console.error("Error in pending requests subscription:",N),g("Failed to load pending requests")}),w=dt(m,N=>{const k=N.docs.map(j=>({id:j.id,...j.data()}));t(k);const C=k.map(j=>j.userId);v(C),c(!1)},N=>{console.error("Error in accepted connections subscription:",N),g("Failed to load connections"),c(!1)});return()=>{y(),w()}},[e]);const x=async p=>{if(e)try{await sf(e.uid,p)}catch(m){console.error("Failed to accept request:",m)}},d=async p=>{if(e)try{await rf(e.uid,p)}catch(m){console.error("Failed to decline request:",m)}};return o?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(p=>n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-12 w-12 bg-earth-700 rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-earth-700 rounded w-1/4 mb-2"}),n.jsx("div",{className:"h-3 bg-earth-700 rounded w-3/4"})]})]})},p))})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Your Network"}),n.jsx("p",{className:"text-gray-200",children:"Manage your professional connections and requests"})]}),u&&n.jsx("div",{className:"mb-8 bg-red-900/20 border border-red-500/50 text-red-500 p-4 rounded-lg",children:u}),s.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-xl font-display font-semibold text-white mb-4 flex items-center gap-2",children:[n.jsx(Le,{className:"h-5 w-5 text-accent-clay"}),"Pending Requests"]}),n.jsx("div",{className:"space-y-4",children:s.map(p=>{const m=r[p.userId];return m?n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Te,{url:m.profilePicture,size:"md"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m.displayName}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:m.bio||"No bio available"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>x(p.id),className:"p-2 text-accent-sage hover:text-accent-moss transition-colors",title:"Accept Request",children:n.jsx(aa,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>d(p.id),className:"p-2 text-accent-rust hover:text-red-700 transition-colors",title:"Decline Request",children:n.jsx(be,{className:"h-5 w-5"})})]})]})},p.id):null})})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-display font-semibold text-white mb-4 flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-accent-clay"}),"Your Connections",n.jsxs("span",{className:"text-sm text-gray-400",children:["(",a.length,")"]})]}),a.length===0?n.jsxs("div",{className:"card p-8 text-center",children:[n.jsx(In,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Connections Yet"}),n.jsx("p",{className:"text-gray-600",children:"Start building your network by connecting with other professionals"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>{const m=r[p.userId];return m?n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Zr,{profile:m,onMessageClick:async()=>{try{const y=await Sn(e.uid,m);f(`/messages/${y}`)}catch(y){console.error("Failed to start conversation:",y)}},children:n.jsx(Te,{url:m.profilePicture,size:"lg"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:m.displayName}),m.portfolio&&n.jsxs("a",{href:m.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-accent-clay hover:text-accent-ochre flex items-center gap-1",children:["Portfolio ",n.jsx(Ni,{className:"h-3 w-3"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:m.bio||"No bio available"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Top Skills"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.skills.slice(0,3).map(y=>n.jsx("span",{className:"px-2 py-1 bg-accent-sage/20 text-gray-900 text-sm rounded-full border border-accent-sage/30",children:y},y))})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-earth-700",children:n.jsxs("button",{onClick:async()=>{try{const y=await Sn(e.uid,m);f(`/messages/${y}`)}catch(y){console.error("Failed to start conversation:",y)}},className:"w-full btn-primary flex items-center justify-center gap-2",children:[n.jsx(Oe,{className:"h-4 w-4"}),"Message"]})})]},p.id):null})})]})]})}function lf(){const{id:e}=ka(),{user:a}=ie(),[t,s]=h.useState(null),[i,r]=h.useState([]),[l,o]=h.useState(!0),[c,u]=h.useState(""),[g,f]=h.useState("none"),[v,x]=h.useState(!1);h.useEffect(()=>{(async()=>{if(e)try{const m=await ne(_(E,"users",e));if(!m.exists()){u("Profile not found");return}const y={id:m.id,...m.data()};s(y);const w=J(O(E,"trades"),X("creatorId","==",e),X("status","==","completed")),k=(await le(w)).docs.map(C=>({id:C.id,...C.data()}));if(r(k),a){const C=await mo(a.uid,e);f(C)}}catch(m){console.error("Error fetching profile:",m),u("Failed to load profile")}finally{o(!1)}})()},[e,a]);const d=async()=>{if(!(!a||!t||v)){x(!0),f("pending");try{await uo(a.uid,t.id)}catch(p){console.error("Failed to send connection request:",p),f("none")}finally{x(!1)}}};return l?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-48 bg-earth-800 rounded-lg mb-8"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-8 bg-earth-800 rounded w-1/3"}),n.jsx("div",{className:"h-4 bg-earth-800 rounded w-2/3"})]})]})}):c||!t?n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-500 p-4 rounded-lg",children:c||"Profile not found"})}):n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"card overflow-hidden",children:[n.jsxs("div",{className:"h-48 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink relative",children:[n.jsx("div",{className:"absolute inset-0 bg-mesh opacity-30"}),n.jsx("div",{className:"absolute inset-0 bg-noise opacity-50"}),n.jsx("div",{className:"absolute -bottom-12 left-8",children:n.jsx(Te,{url:t.profilePicture,size:"xl"})})]}),n.jsxs("div",{className:"p-6 mt-16",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-display font-bold text-gray-900",children:t.displayName}),n.jsx("p",{className:"text-gray-600",children:t.email})]}),a&&a.uid!==t.id&&n.jsx("div",{className:"flex gap-2",children:g==="accepted"?n.jsxs(q,{to:`/messages/${t.id}`,className:"btn-primary flex items-center gap-2",children:[n.jsx(Oe,{className:"h-4 w-4"}),"Message"]}):g==="pending"?n.jsxs("button",{disabled:!0,className:"btn-secondary flex items-center gap-2 opacity-75",children:[n.jsx(Le,{className:"h-4 w-4"}),"Request Pending"]}):n.jsx("button",{onClick:d,disabled:v,className:"btn-primary flex items-center gap-2",children:v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(In,{className:"h-4 w-4"}),"Connect"]})})})]}),n.jsx("div",{className:"mb-8",children:n.jsx(Jr,{profile:t,showEndorsements:!1})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3",children:"About"}),n.jsx("p",{className:"text-gray-700",children:t.bio||"No bio available"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Ea,{className:"h-5 w-5 text-accent-ochre"}),"Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map(p=>{var m;return n.jsxs("div",{className:`group flex items-center gap-2 px-3 py-1.5 bg-earth-800 
                           text-gray-900 rounded-full text-sm border border-earth-700
                           hover:border-neon-blue transition-all duration-300`,children:[n.jsx("span",{children:p}),((m=t.endorsements)==null?void 0:m[p])&&n.jsx("span",{className:"px-1.5 py-0.5 bg-neon-purple/10 text-neon-purple rounded-full text-xs",children:t.endorsements[p].length})]},p)})})]}),i.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(ll,{className:"h-5 w-5 text-accent-ochre"}),"Completed Trades"]}),n.jsx("div",{className:"space-y-4",children:i.map(p=>n.jsxs(q,{to:`/trades/${p.id}`,className:"block p-4 bg-earth-800 rounded-lg hover:bg-earth-700 transition-colors",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:p.title}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:p.description})]},p.id))})]}),t.portfolio&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-display font-semibold text-gray-900 mb-3",children:"Portfolio"}),n.jsxs("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-neon-blue hover:text-neon-purple transition-colors",children:[n.jsx(na,{className:"h-4 w-4"}),t.portfolio]})]})]})]})})}const cf=h.createContext(null),hn={didCatch:!1,error:null};class df extends h.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=hn}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(){const{error:a}=this.state;if(a!==null){for(var t,s,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];(t=(s=this.props).onReset)===null||t===void 0||t.call(s,{args:r,reason:"imperative-api"}),this.setState(hn)}}componentDidCatch(a,t){var s,i;(s=(i=this.props).onError)===null||s===void 0||s.call(i,a,t)}componentDidUpdate(a,t){const{didCatch:s}=this.state,{resetKeys:i}=this.props;if(s&&t.error!==null&&pf(a.resetKeys,i)){var r,l;(r=(l=this.props).onReset)===null||r===void 0||r.call(l,{next:i,prev:a.resetKeys,reason:"keys"}),this.setState(hn)}}render(){const{children:a,fallbackRender:t,FallbackComponent:s,fallback:i}=this.props,{didCatch:r,error:l}=this.state;let o=a;if(r){const c={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")o=t(c);else if(s)o=h.createElement(s,c);else if(i!==void 0)o=i;else throw l}return h.createElement(cf.Provider,{value:{didCatch:r,error:l,resetErrorBoundary:this.resetErrorBoundary}},o)}}function pf(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==a.length||e.some((t,s)=>!Object.is(t,a[s]))}function uf(e){const a=e.message.toLowerCase();return a.includes("network")||a.includes("fetch")||a.includes("offline")?{type:"network",title:"Connection Error",description:"Unable to connect to our servers. Please check your internet connection.",action:"Retry",recoverable:!0}:a.includes("auth/")||a.includes("unauthorized")||a.includes("permission-denied")||a.includes("unauthenticated")?{type:"auth",title:"Authentication Error",description:"Your session may have expired. Please sign in again.",action:"Sign In",recoverable:!0}:a.includes("too-many-requests")||a.includes("rate-limit")||a.includes("try again later")?{type:"rate-limit",title:"Too Many Attempts",description:"Please wait a few minutes before trying again.",action:"Got It",recoverable:!1}:{type:"unknown",title:"Unexpected Error",description:"Something went wrong. Our team has been notified.",action:"Retry",recoverable:!0}}function mf({error:e,resetErrorBoundary:a}){const t=uf(e),s=()=>{switch(localStorage.removeItem("errorState"),sessionStorage.clear(),t.type){case"auth":window.location.href="/login";break;case"network":window.location.reload();break;case"rate-limit":a();break;default:a()}};return n.jsx("div",{className:"min-h-screen bg-cyber-black text-cyber-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full p-6 bg-cyber-gray-900 rounded-lg shadow-xl",children:[n.jsx("h2",{className:"text-xl font-bold text-red-500 mb-4",children:t.title}),n.jsx("p",{className:"text-cyber-gray-300 mb-4",children:t.description}),!1,n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:s,className:`w-full px-4 py-2 rounded-lg transition-colors ${t.recoverable?"bg-neon-blue hover:bg-neon-purple text-white":"bg-gray-600 text-gray-200"}`,disabled:!t.recoverable,children:t.action}),!t.recoverable&&n.jsx("p",{className:"text-sm text-cyber-gray-400 text-center",children:"This error cannot be automatically resolved. Please try again later or contact support."}),t.type==="network"&&n.jsxs("div",{className:"text-sm text-cyber-gray-400 mt-4",children:[n.jsx("p",{children:"Troubleshooting tips:"}),n.jsxs("ul",{className:"list-disc list-inside mt-2",children:[n.jsx("li",{children:"Check your internet connection"}),n.jsx("li",{children:"Try disabling VPN or proxy if in use"}),n.jsx("li",{children:"Clear your browser cache"})]})]})]})]})})}function hf(){const{user:e,logout:a}=ie(),{isAdmin:t}=Yr(),[s,i]=h.useState(!1),r=async()=>{try{await a(),i(!1),window.location.href="/"}catch(o){console.error("Failed to log out:",o),alert("Failed to log out. Please try again.")}},l=()=>{i(!1)};return n.jsx(df,{FallbackComponent:mf,children:n.jsxs("div",{className:"bg-neo-earth font-body",children:[n.jsx("div",{className:"fixed inset-0 bg-mesh opacity-30"}),n.jsx("div",{className:"fixed inset-0 bg-noise opacity-50"}),n.jsxs("header",{className:"sticky top-0 z-50",children:[n.jsx("div",{className:"absolute inset-0 bg-earth-900/80 backdrop-blur-md"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-clay/5 to-accent-ochre/5"}),n.jsx("div",{className:"absolute inset-0 bg-mesh opacity-10"}),n.jsx("div",{className:"absolute inset-0 border-b border-earth-700/30"}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[n.jsxs("div",{className:"flex justify-between items-center relative",children:[n.jsxs(q,{to:"/",className:"flex items-center space-x-3 group",children:[n.jsx(ji,{className:"h-8 w-8 text-neon-blue animate-float"}),n.jsx("h1",{className:"text-2xl font-display font-bold gradient-text",children:"TradeYa"})]}),n.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-neon-purple/20",onClick:()=>i(!s),children:s?n.jsx(be,{className:"h-6 w-6 text-neon-blue"}):n.jsx(dl,{className:"h-6 w-6 text-neon-blue"})}),n.jsxs("nav",{className:"hidden md:flex space-x-8",children:[n.jsx(q,{to:"/discover",className:"nav-link",children:"Discover"}),n.jsx(q,{to:"/projects",className:"nav-link",children:"Projects"}),n.jsx(q,{to:"/directory",className:"nav-link",children:"Directory"}),n.jsx(q,{to:"/messages",className:"nav-link",children:"Messages"}),n.jsxs(q,{to:"/connections",className:"nav-link flex items-center gap-1",children:[n.jsx(pt,{className:"h-4 w-4"}),"Network"]}),e&&n.jsxs(q,{to:"/challenges",className:"nav-link flex items-center gap-1",children:[n.jsx(Ve,{className:"h-4 w-4"}),"Challenges"]}),t&&n.jsxs(q,{to:"/admin/challenges",className:"nav-link flex items-center gap-1",children:[n.jsx(St,{className:"h-4 w-4"}),"Admin"]}),e?n.jsxs(n.Fragment,{children:[n.jsx(q,{to:"/profile",className:"nav-link",children:"Profile"}),n.jsxs("button",{onClick:r,className:"nav-link flex items-center",children:[n.jsx(fs,{className:"h-5 w-5 mr-1"}),"Logout"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(q,{to:"/login",className:"nav-link",children:"Login"}),n.jsx(q,{to:"/register",className:"nav-link",children:"Register"})]})]}),e&&n.jsx(q,{to:"/trades/new",className:"hidden md:flex btn-primary",children:"Post a Trade"})]}),s&&n.jsx("nav",{className:"md:hidden mt-4 py-4 border-t border-earth-700/30",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(q,{to:"/discover",className:"nav-link",onClick:l,children:"Discover"}),n.jsx(q,{to:"/projects",className:"nav-link",onClick:l,children:"Projects"}),n.jsx(q,{to:"/directory",className:"nav-link",onClick:l,children:"Directory"}),n.jsx(q,{to:"/messages",className:"nav-link",onClick:l,children:"Messages"}),n.jsxs(q,{to:"/connections",className:"nav-link flex items-center gap-1",onClick:l,children:[n.jsx(pt,{className:"h-4 w-4"}),"Network"]}),e&&n.jsxs(q,{to:"/challenges",className:"nav-link flex items-center gap-1",onClick:l,children:[n.jsx(Ve,{className:"h-4 w-4"}),"Challenges"]}),t&&n.jsxs(q,{to:"/admin/challenges",className:"nav-link flex items-center gap-1",onClick:l,children:[n.jsx(St,{className:"h-4 w-4"}),"Admin"]}),e?n.jsxs(n.Fragment,{children:[n.jsx(q,{to:"/profile",className:"nav-link",onClick:l,children:"Profile"}),n.jsxs("button",{onClick:()=>{r(),l()},className:"nav-link flex items-center",children:[n.jsx(fs,{className:"h-5 w-5 mr-1"}),"Logout"]}),n.jsx(q,{to:"/trades/new",className:"btn-primary text-center",onClick:l,children:"Post a Trade"})]}):n.jsxs(n.Fragment,{children:[n.jsx(q,{to:"/login",className:"nav-link",onClick:l,children:"Login"}),n.jsx(q,{to:"/register",className:"nav-link",onClick:l,children:"Register"})]})]})})]})]}),n.jsx("main",{className:"relative z-10",children:n.jsx("div",{className:"relative",children:n.jsxs(yo,{children:[n.jsx(ae,{path:"/",element:n.jsx(qs,{})}),n.jsx(ae,{path:"/discover",element:n.jsx(qs,{})}),n.jsx(ae,{path:"/users/:id",element:n.jsx(lf,{})}),n.jsx(ae,{path:"/login",element:n.jsx(Uu,{})}),n.jsx(ae,{path:"/register",element:n.jsx(Hu,{})}),n.jsx(ae,{path:"/profile",element:n.jsx(Me,{children:n.jsx(Rh,{})})}),n.jsx(ae,{path:"/trades/new",element:n.jsx(Me,{children:n.jsx(_h,{})})}),n.jsx(ae,{path:"/trades/:id",element:n.jsx(Fh,{})}),n.jsx(ae,{path:"/messages",element:n.jsx(Me,{children:n.jsx(Lh,{})})}),n.jsx(ae,{path:"/messages/:id",element:n.jsx(Me,{children:n.jsx(Oh,{})})}),n.jsx(ae,{path:"/projects",element:n.jsx(Me,{children:n.jsx(zh,{})})}),n.jsx(ae,{path:"/projects/new",element:n.jsx(Me,{children:n.jsx($h,{})})}),n.jsx(ae,{path:"/projects/:id",element:n.jsx(qh,{})}),n.jsx(ae,{path:"/directory",element:n.jsx(Hh,{})}),n.jsx(ae,{path:"/connections",element:n.jsx(Me,{children:n.jsx(of,{})})}),n.jsx(ae,{path:"/challenges",element:n.jsx(Me,{children:n.jsx(tf,{})})}),n.jsx(ae,{path:"/admin/challenges",element:n.jsx(Bu,{children:n.jsx(nf,{})})}),n.jsx(ae,{path:"*",element:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:[n.jsx("h1",{className:"text-4xl font-bold text-neon-blue mb-4",children:"404: Page Not Found"}),n.jsx("p",{className:"text-lg text-text-secondary mb-6",children:"The page you're looking for doesn't exist."}),n.jsx(q,{to:"/",className:"btn-primary",children:"Return Home"})]})})]})})})]})})}const ff={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCCr7wxWHJyv4C9pGOJ0Juf7latDmceTew",VITE_FIREBASE_APP_ID:"1:476911238747:web:e9b73b157f3fa63ba4897e",VITE_FIREBASE_AUTH_DOMAIN:"tradeya-45ede.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-XNL1Y7CZWW",VITE_FIREBASE_MESSAGING_SENDER_ID:"476911238747",VITE_FIREBASE_PROJECT_ID:"tradeya-45ede",VITE_FIREBASE_STORAGE_BUCKET:"tradeya-45ede.firebasestorage.app",VITE_HUGGINGFACE_API_KEY:"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"};window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),ts("An unexpected error occurred. Please refresh the page.")});const gf=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],hi=gf.filter(e=>!ff[e]);if(hi.length>0){const e=`Missing required environment variables: ${hi.join(", ")}`;throw console.error(e),ts("Application configuration error. Please contact support."),new Error(e)}function ts(e){const a=`
    <div style="
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #1a1a1a;
      color: #fff;
      font-family: system-ui;
    ">
      <div style="
        max-width: 500px;
        padding: 2rem;
        text-align: center;
        background: #2a2a2a;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      ">
        <h1 style="color: #f43f5e; margin-bottom: 1rem;">Application Error</h1>
        <p style="color: #d1d5db; margin-bottom: 1.5rem;">${e}</p>
        <button onclick="window.location.reload()" style="
          background: #3b82f6;
          color: white;
          padding: 0.5rem 1rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
        ">
          Refresh Page
        </button>
      </div>
    </div>
  `;document.body.innerHTML=a}async function xf(){try{const e=document.getElementById("root");if(!e)throw new Error("Failed to find the root element");const a=bi.createRoot(e);await Ou(),a.render(n.jsx(Ct.StrictMode,{children:n.jsx(jo,{children:n.jsx($u,{children:n.jsx(qu,{children:n.jsx(Sh,{children:n.jsx(hf,{})})})})})}))}catch(e){console.error("Application initialization failed:",e),ts("Failed to start application. Please refresh the page.")}}xf();
//# sourceMappingURL=index-DwHQsa2Z.js.map
